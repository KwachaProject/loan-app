[2025-07-21 02:13:33,349] INFO in app: Application logging initialized successfully
[2025-07-21 02:13:33,365] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 02:13:33,367] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 02:13:33,369] INFO in app: System encoding: utf-8
[2025-07-21 02:13:33,371] INFO in app: ==================================================
[2025-07-21 02:32:27,645] INFO in app: ==================================================
[2025-07-21 02:32:27,651] INFO in app: Application logging initialized successfully
[2025-07-21 02:32:27,654] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 02:32:27,656] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 02:32:27,668] INFO in app: System encoding: utf-8
[2025-07-21 02:32:27,670] INFO in app: ==================================================
[2025-07-21 02:34:27,820] INFO in app: ==================================================
[2025-07-21 02:34:27,827] INFO in app: Application logging initialized successfully
[2025-07-21 02:34:27,828] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 02:34:27,829] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 02:34:27,830] INFO in app: System encoding: utf-8
[2025-07-21 02:34:27,842] INFO in app: ==================================================
[2025-07-21 02:37:37,985] INFO in app: ==================================================
[2025-07-21 02:37:37,991] INFO in app: Application logging initialized successfully
[2025-07-21 02:37:37,993] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 02:37:37,996] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 02:37:37,998] INFO in app: System encoding: utf-8
[2025-07-21 02:37:38,004] INFO in app: ==================================================
[2025-07-21 02:37:46,140] INFO in app: ==================================================
[2025-07-21 02:37:46,147] INFO in app: Application logging initialized successfully
[2025-07-21 02:37:46,150] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 02:37:46,151] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 02:37:46,153] INFO in app: System encoding: utf-8
[2025-07-21 02:37:46,157] INFO in app: ==================================================
[2025-07-21 02:37:54,867] ERROR in app: Exception on /placements [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6519, in view_placements
    return render_template('placement/list.html', placements=placements)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 34, in block 'content'
    <strong>Total Interest Payable:</strong> {{ total_interest | format_currency }}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6526, in format_currency_filter
    return "${:,.2f}".format(value)
           ~~~~~~~~~~~~~~~~~^^^^^^^
TypeError: unsupported format string passed to Undefined.__format__
[2025-07-21 02:44:59,542] INFO in app: ==================================================
[2025-07-21 02:44:59,551] INFO in app: Application logging initialized successfully
[2025-07-21 02:44:59,554] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 02:44:59,556] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 02:44:59,558] INFO in app: System encoding: utf-8
[2025-07-21 02:44:59,559] INFO in app: ==================================================
[2025-07-21 02:45:06,108] ERROR in app: Exception on /placements [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6519, in view_placements
    return render_template('placement/list.html', placements=placements)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 34, in block 'content'
    <strong>Total Interest Payable:</strong> {{ total_interest | format_currency }}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6526, in format_currency_filter
    return "${:,.2f}".format(value)
           ~~~~~~~~~~~~~~~~~^^^^^^^
TypeError: unsupported format string passed to Undefined.__format__
[2025-07-21 02:49:19,255] INFO in app: ==================================================
[2025-07-21 02:49:19,261] INFO in app: Application logging initialized successfully
[2025-07-21 02:49:19,263] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 02:49:19,266] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 02:49:19,268] INFO in app: System encoding: utf-8
[2025-07-21 02:49:19,272] INFO in app: ==================================================
[2025-07-21 02:49:23,126] ERROR in app: Exception on /placements [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6519, in view_placements
    return render_template('placement/list.html', placements=placements)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 34, in block 'content'
    <strong>Total Interest Payable:</strong> {{ total_interest | format_currency }}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6526, in format_currency_filter
    return "${:,.2f}".format(value)
           ~~~~~~~~~~~~~~~~~^^^^^^^
TypeError: unsupported format string passed to Undefined.__format__
[2025-07-21 03:07:51,236] INFO in app: ==================================================
[2025-07-21 03:07:51,247] INFO in app: Application logging initialized successfully
[2025-07-21 03:07:51,249] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 03:07:51,254] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 03:07:51,259] INFO in app: System encoding: utf-8
[2025-07-21 03:07:51,261] INFO in app: ==================================================
[2025-07-21 03:07:57,816] ERROR in app: Exception on /placements [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6519, in view_placements
    return render_template('placement/list.html', placements=placements)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 34, in block 'content'
    <strong>Total Interest Payable:</strong> {{ total_interest | format_currency }}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6526, in format_currency_filter
    return "${:,.2f}".format(value)
           ~~~~~~~~~~~~~~~~~^^^^^^^
TypeError: unsupported format string passed to Undefined.__format__
[2025-07-21 03:09:23,675] INFO in app: ==================================================
[2025-07-21 03:09:23,682] INFO in app: Application logging initialized successfully
[2025-07-21 03:09:23,686] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 03:09:23,688] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 03:09:23,692] INFO in app: System encoding: utf-8
[2025-07-21 03:09:23,695] INFO in app: ==================================================
[2025-07-21 03:09:31,437] ERROR in app: Exception on /placements [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6523, in view_placements
    return render_template(
        'placement/list.html',
        placements=placements,
        total_interest=total_interest  # ✅ Include this!
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 57, in block 'content'
    <td>{{ p.maturity_date.strftime('%Y-%m-%d') if p.maturity_date else '-' }}</td>
    ^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\utils.py", line 92, in from_obj
    if hasattr(obj, "jinja_pass_arg"):
       ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'method object' has no attribute 'strftime'
[2025-07-21 03:12:21,899] INFO in app: ==================================================
[2025-07-21 03:12:21,908] INFO in app: Application logging initialized successfully
[2025-07-21 03:12:21,910] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 03:12:21,912] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 03:12:21,915] INFO in app: System encoding: utf-8
[2025-07-21 03:12:21,919] INFO in app: ==================================================
[2025-07-21 03:12:25,824] ERROR in app: Exception on /placements [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6523, in view_placements
    return render_template(
        'placement/list.html',
        placements=placements,
        total_interest=total_interest  # ✅ Include this!
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 59, in block 'content'
    <td>{{ p.next_interest_date.strftime('%Y-%m-%d') if p.next_interest_date else '-' }}</td>
    ^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\utils.py", line 92, in from_obj
    if hasattr(obj, "jinja_pass_arg"):
       ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'method object' has no attribute 'strftime'
[2025-07-21 03:12:31,387] ERROR in app: Exception on /placements [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6523, in view_placements
    return render_template(
        'placement/list.html',
        placements=placements,
        total_interest=total_interest  # ✅ Include this!
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 59, in block 'content'
    <td>{{ p.next_interest_date.strftime('%Y-%m-%d') if p.next_interest_date else '-' }}</td>
    ^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\utils.py", line 92, in from_obj
    if hasattr(obj, "jinja_pass_arg"):
       ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'method object' has no attribute 'strftime'
[2025-07-21 03:14:21,920] INFO in app: ==================================================
[2025-07-21 03:14:21,927] INFO in app: Application logging initialized successfully
[2025-07-21 03:14:21,929] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 03:14:21,931] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 03:14:21,933] INFO in app: System encoding: utf-8
[2025-07-21 03:14:21,935] INFO in app: ==================================================
[2025-07-21 03:14:26,413] ERROR in app: Exception on /placements [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6526, in view_placements
    return render_template(
        'placement/list.html',
        placements=placements,
        total_interest=total_interest  # ✅ Include this!
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 57, in block 'content'
    <td>{{ p.maturity_date().strftime('%Y-%m-%d') if p.maturity_date else '-' }}</td>
    ^^^^^
TypeError: 'datetime.date' object is not callable
[2025-07-21 03:17:16,558] INFO in app: ==================================================
[2025-07-21 03:17:16,564] INFO in app: Application logging initialized successfully
[2025-07-21 03:17:16,566] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 03:17:16,568] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 03:17:16,570] INFO in app: System encoding: utf-8
[2025-07-21 03:17:16,572] INFO in app: ==================================================
[2025-07-21 03:17:20,879] ERROR in app: Exception on /placements [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6526, in view_placements
    return render_template(
        'placement/list.html',
        placements=placements,
        total_interest=total_interest  # ✅ Include this!
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 59, in block 'content'
    <td>{{ p.next_interest_date.strftime('%Y-%m-%d') if p.next_interest_date else '-' }}</td>
    ^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\utils.py", line 92, in from_obj
    if hasattr(obj, "jinja_pass_arg"):
       ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'method object' has no attribute 'strftime'
[2025-07-21 03:17:42,633] INFO in app: ==================================================
[2025-07-21 03:17:42,640] INFO in app: Application logging initialized successfully
[2025-07-21 03:17:42,642] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 03:17:42,644] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 03:17:42,646] INFO in app: System encoding: utf-8
[2025-07-21 03:17:42,651] INFO in app: ==================================================
[2025-07-21 03:17:47,181] ERROR in app: Exception on /placements [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6526, in view_placements
    return render_template(
        'placement/list.html',
        placements=placements,
        total_interest=total_interest  # ✅ Include this!
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 59, in block 'content'
    <td>{{ p.next_interest_date.strftime('%Y-%m-%d') if p.next_interest_date else '-' }}</td>
    ^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\utils.py", line 92, in from_obj
    if hasattr(obj, "jinja_pass_arg"):
       ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'method object' has no attribute 'strftime'
[2025-07-21 03:20:12,248] INFO in app: ==================================================
[2025-07-21 03:20:12,254] INFO in app: Application logging initialized successfully
[2025-07-21 03:20:12,257] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 03:20:12,259] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 03:20:12,261] INFO in app: System encoding: utf-8
[2025-07-21 03:20:12,265] INFO in app: ==================================================
[2025-07-21 04:08:46,857] INFO in app: ==================================================
[2025-07-21 04:08:46,865] INFO in app: Application logging initialized successfully
[2025-07-21 04:08:46,868] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 04:08:46,870] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 04:08:46,875] INFO in app: System encoding: utf-8
[2025-07-21 04:08:46,880] INFO in app: ==================================================
[2025-07-21 04:14:14,044] INFO in app: ==================================================
[2025-07-21 04:14:14,051] INFO in app: Application logging initialized successfully
[2025-07-21 04:14:14,053] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 04:14:14,055] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 04:14:14,059] INFO in app: System encoding: utf-8
[2025-07-21 04:14:14,063] INFO in app: ==================================================
[2025-07-21 04:18:10,825] INFO in app: ==================================================
[2025-07-21 04:18:10,831] INFO in app: Application logging initialized successfully
[2025-07-21 04:18:10,834] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 04:18:10,837] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 04:18:10,841] INFO in app: System encoding: utf-8
[2025-07-21 04:18:10,846] INFO in app: ==================================================
[2025-07-21 10:05:27,475] INFO in app: ==================================================
[2025-07-21 10:05:27,574] INFO in app: Application logging initialized successfully
[2025-07-21 10:05:27,576] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 10:05:27,577] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 10:05:27,579] INFO in app: System encoding: utf-8
[2025-07-21 10:05:27,580] INFO in app: ==================================================
[2025-07-21 15:02:04,045] INFO in app: ==================================================
[2025-07-21 15:02:04,117] INFO in app: Application logging initialized successfully
[2025-07-21 15:02:04,119] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 15:02:04,120] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 15:02:04,121] INFO in app: System encoding: utf-8
[2025-07-21 15:02:04,123] INFO in app: ==================================================
[2025-07-21 15:06:46,230] INFO in app: ==================================================
[2025-07-21 15:06:46,239] INFO in app: Application logging initialized successfully
[2025-07-21 15:06:46,246] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 15:06:46,248] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 15:06:46,252] INFO in app: System encoding: utf-8
[2025-07-21 15:06:46,254] INFO in app: ==================================================
[2025-07-21 16:07:30,840] INFO in app: ==================================================
[2025-07-21 16:07:30,948] INFO in app: Application logging initialized successfully
[2025-07-21 16:07:30,950] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 16:07:30,952] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 16:07:30,956] INFO in app: System encoding: utf-8
[2025-07-21 16:07:30,959] INFO in app: ==================================================
[2025-07-21 16:08:16,870] INFO in app: ==================================================
[2025-07-21 16:08:16,989] INFO in app: Application logging initialized successfully
[2025-07-21 16:08:16,990] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 16:08:16,992] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 16:08:16,994] INFO in app: System encoding: utf-8
[2025-07-21 16:08:16,998] INFO in app: ==================================================
[2025-07-21 16:17:44,160] INFO in app: ==================================================
[2025-07-21 16:17:44,167] INFO in app: Application logging initialized successfully
[2025-07-21 16:17:44,169] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 16:17:44,172] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 16:17:44,176] INFO in app: System encoding: utf-8
[2025-07-21 16:17:44,180] INFO in app: ==================================================
[2025-07-21 17:24:15,226] INFO in app: ==================================================
[2025-07-21 17:24:15,300] INFO in app: Application logging initialized successfully
[2025-07-21 17:24:15,302] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 17:24:15,303] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 17:24:15,305] INFO in app: System encoding: utf-8
[2025-07-21 17:24:15,307] INFO in app: ==================================================
[2025-07-21 17:26:41,531] INFO in app: ==================================================
[2025-07-21 17:26:41,537] INFO in app: Application logging initialized successfully
[2025-07-21 17:26:41,541] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 17:26:41,543] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 17:26:41,548] INFO in app: System encoding: utf-8
[2025-07-21 17:26:41,550] INFO in app: ==================================================
[2025-07-21 17:27:18,127] INFO in app: ==================================================
[2025-07-21 17:27:18,134] INFO in app: Application logging initialized successfully
[2025-07-21 17:27:18,136] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 17:27:18,137] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 17:27:18,139] INFO in app: System encoding: utf-8
[2025-07-21 17:27:18,142] INFO in app: ==================================================
[2025-07-21 17:27:33,603] INFO in app: ==================================================
[2025-07-21 17:27:33,610] INFO in app: Application logging initialized successfully
[2025-07-21 17:27:33,612] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 17:27:33,613] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 17:27:33,615] INFO in app: System encoding: utf-8
[2025-07-21 17:27:33,616] INFO in app: ==================================================
[2025-07-21 17:29:00,799] INFO in app: ==================================================
[2025-07-21 17:29:00,805] INFO in app: Application logging initialized successfully
[2025-07-21 17:29:00,807] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 17:29:00,810] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 17:29:00,812] INFO in app: System encoding: utf-8
[2025-07-21 17:29:00,816] INFO in app: ==================================================
[2025-07-21 17:30:58,788] INFO in app: ==================================================
[2025-07-21 17:30:58,794] INFO in app: Application logging initialized successfully
[2025-07-21 17:30:58,796] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 17:30:58,798] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 17:30:58,799] INFO in app: System encoding: utf-8
[2025-07-21 17:30:58,804] INFO in app: ==================================================
[2025-07-21 17:31:06,827] INFO in app: ==================================================
[2025-07-21 17:31:06,833] INFO in app: Application logging initialized successfully
[2025-07-21 17:31:06,835] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 17:31:06,837] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 17:31:06,839] INFO in app: System encoding: utf-8
[2025-07-21 17:31:06,842] INFO in app: ==================================================
[2025-07-21 17:37:25,371] INFO in app: ==================================================
[2025-07-21 17:37:25,379] INFO in app: Application logging initialized successfully
[2025-07-21 17:37:25,380] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 17:37:25,381] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 17:37:25,382] INFO in app: System encoding: utf-8
[2025-07-21 17:37:25,383] INFO in app: ==================================================
[2025-07-21 17:38:22,079] INFO in app: ==================================================
[2025-07-21 17:38:22,086] INFO in app: Application logging initialized successfully
[2025-07-21 17:38:22,088] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 17:38:22,090] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 17:38:22,092] INFO in app: System encoding: utf-8
[2025-07-21 17:38:22,096] INFO in app: ==================================================
[2025-07-21 17:42:47,368] INFO in app: ==================================================
[2025-07-21 17:42:47,375] INFO in app: Application logging initialized successfully
[2025-07-21 17:42:47,376] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 17:42:47,377] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 17:42:47,378] INFO in app: System encoding: utf-8
[2025-07-21 17:42:47,379] INFO in app: ==================================================
[2025-07-21 17:44:40,909] INFO in app: ==================================================
[2025-07-21 17:44:40,918] INFO in app: Application logging initialized successfully
[2025-07-21 17:44:40,920] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 17:44:40,923] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 17:44:40,930] INFO in app: System encoding: utf-8
[2025-07-21 17:44:40,933] INFO in app: ==================================================
[2025-07-21 17:44:49,074] INFO in app: ==================================================
[2025-07-21 17:44:49,079] INFO in app: Application logging initialized successfully
[2025-07-21 17:44:49,081] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 17:44:49,083] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 17:44:49,085] INFO in app: System encoding: utf-8
[2025-07-21 17:44:49,087] INFO in app: ==================================================
[2025-07-23 08:19:34,299] INFO in app: ==================================================
[2025-07-23 08:19:34,386] INFO in app: Application logging initialized successfully
[2025-07-23 08:19:34,389] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 08:19:34,392] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 08:19:34,395] INFO in app: System encoding: utf-8
[2025-07-23 08:19:34,397] INFO in app: ==================================================
[2025-07-23 09:28:33,650] INFO in app: ==================================================
[2025-07-23 09:28:33,656] INFO in app: Application logging initialized successfully
[2025-07-23 09:28:33,658] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 09:28:33,659] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 09:28:33,661] INFO in app: System encoding: utf-8
[2025-07-23 09:28:33,664] INFO in app: ==================================================
[2025-07-23 09:32:09,363] INFO in app: ==================================================
[2025-07-23 09:32:09,369] INFO in app: Application logging initialized successfully
[2025-07-23 09:32:09,371] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 09:32:09,373] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 09:32:09,375] INFO in app: System encoding: utf-8
[2025-07-23 09:32:09,378] INFO in app: ==================================================
[2025-07-23 11:12:29,091] INFO in app: ==================================================
[2025-07-23 11:12:29,167] INFO in app: Application logging initialized successfully
[2025-07-23 11:12:29,169] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 11:12:29,170] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 11:12:29,172] INFO in app: System encoding: utf-8
[2025-07-23 11:12:29,174] INFO in app: ==================================================
[2025-07-23 11:12:34,495] ERROR in app: Exception on /placement/2 [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6518, in placement_details
    return render_template('placement/details.html',
                          placement=placement,
                          transactions=transactions,
                          accrued_interest=accrued_interest)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\details.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\details.html", line 44, in block 'content'
    <a href="{{ url_for('view_placement_schedule', placement_id=placement.id) }}" class="ms-2 text-decoration-none small">
    
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'view_placement_schedule' with values ['placement_id']. Did you mean 'view_placements' instead?
[2025-07-23 11:31:18,437] INFO in app: ==================================================
[2025-07-23 11:31:18,445] INFO in app: Application logging initialized successfully
[2025-07-23 11:31:18,448] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 11:31:18,456] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 11:31:18,459] INFO in app: System encoding: utf-8
[2025-07-23 11:31:18,461] INFO in app: ==================================================
[2025-07-23 11:31:25,959] ERROR in app: Exception on /placement/2 [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6518, in placement_details
    return render_template('placement/details.html',
                          placement=placement,
                          transactions=transactions,
                          accrued_interest=accrued_interest)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\details.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\details.html", line 44, in block 'content'
    <a href="{{ url_for('view_placement_schedule', placement_id=placement.id) }}" class="ms-2 text-decoration-none small">
    
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'view_placement_schedule' with values ['placement_id']. Did you mean 'view_placements' instead?
[2025-07-23 11:35:06,068] INFO in app: ==================================================
[2025-07-23 11:35:06,075] INFO in app: Application logging initialized successfully
[2025-07-23 11:35:06,077] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 11:35:06,079] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 11:35:06,081] INFO in app: System encoding: utf-8
[2025-07-23 11:35:06,088] INFO in app: ==================================================
[2025-07-23 11:36:40,287] ERROR in app: Exception on /placement/3/capitalize [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6583, in capitalize_interest
    return render_template('placement/capitalize.html', form=form, placement=placement)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: placement/capitalize.html
[2025-07-23 11:36:43,365] ERROR in app: Exception on /placement/3/liquidate [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6596, in liquidate_placement
    return render_template('placement/liquidate.html', form=form, placement=placement)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: placement/liquidate.html
[2025-07-23 13:40:42,779] INFO in app: ==================================================
[2025-07-23 13:40:42,789] INFO in app: Application logging initialized successfully
[2025-07-23 13:40:42,792] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 13:40:42,794] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 13:40:42,799] INFO in app: System encoding: utf-8
[2025-07-23 13:40:42,801] INFO in app: ==================================================
[2025-07-23 13:47:34,125] INFO in app: ==================================================
[2025-07-23 13:47:34,133] INFO in app: Application logging initialized successfully
[2025-07-23 13:47:34,137] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 13:47:34,139] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 13:47:34,143] INFO in app: System encoding: utf-8
[2025-07-23 13:47:34,146] INFO in app: ==================================================
[2025-07-23 14:25:20,064] INFO in app: ==================================================
[2025-07-23 14:25:20,077] INFO in app: Application logging initialized successfully
[2025-07-23 14:25:20,082] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 14:25:20,086] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 14:25:20,093] INFO in app: System encoding: utf-8
[2025-07-23 14:25:20,095] INFO in app: ==================================================
[2025-07-23 14:25:31,409] INFO in app: ==================================================
[2025-07-23 14:25:31,416] INFO in app: Application logging initialized successfully
[2025-07-23 14:25:31,418] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 14:25:31,420] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 14:25:31,423] INFO in app: System encoding: utf-8
[2025-07-23 14:25:31,426] INFO in app: ==================================================
[2025-07-23 14:25:38,663] INFO in app: ==================================================
[2025-07-23 14:25:38,673] INFO in app: Application logging initialized successfully
[2025-07-23 14:25:38,675] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 14:25:38,682] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 14:25:38,690] INFO in app: System encoding: utf-8
[2025-07-23 14:25:38,700] INFO in app: ==================================================
[2025-07-23 14:25:44,872] INFO in app: ==================================================
[2025-07-23 14:25:44,883] INFO in app: Application logging initialized successfully
[2025-07-23 14:25:44,885] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 14:25:44,886] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 14:25:44,888] INFO in app: System encoding: utf-8
[2025-07-23 14:25:44,900] INFO in app: ==================================================
[2025-07-23 14:35:01,644] INFO in app: ==================================================
[2025-07-23 14:35:01,650] INFO in app: Application logging initialized successfully
[2025-07-23 14:35:01,653] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 14:35:01,656] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 14:35:01,659] INFO in app: System encoding: utf-8
[2025-07-23 14:35:01,660] INFO in app: ==================================================
[2025-07-23 14:35:30,436] ERROR in app: Exception on /placement/new [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6516, in new_placement
    form = PlacementForm()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\form.py", line 209, in __call__
    return type.__call__(cls, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_wtf\form.py", line 73, in __init__
    super().__init__(formdata=formdata, **kwargs)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\form.py", line 281, in __init__
    super().__init__(self._unbound_fields, meta=meta_obj, prefix=prefix)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\form.py", line 49, in __init__
    field = meta.bind_field(self, unbound_field, options)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\meta.py", line 28, in bind_field
    return unbound_field.bind(form=form, **options)
           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\fields\core.py", line 387, in bind
    return self.field_class(*self.args, **kw)
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\fields\choices.py", line 90, in __init__
    self.choices = choices if isinstance(choices, dict) else list(choices)
                                                             ~~~~^^^^^^^^^
TypeError: 'UnboundField' object is not iterable
[2025-07-23 15:04:23,239] INFO in app: ==================================================
[2025-07-23 15:04:23,245] INFO in app: Application logging initialized successfully
[2025-07-23 15:04:23,248] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 15:04:23,250] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 15:04:23,252] INFO in app: System encoding: utf-8
[2025-07-23 15:04:23,257] INFO in app: ==================================================
[2025-07-23 15:04:30,130] ERROR in app: Exception on /placement/new [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6510, in new_placement
    form = PlacementForm()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\form.py", line 209, in __call__
    return type.__call__(cls, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_wtf\form.py", line 73, in __init__
    super().__init__(formdata=formdata, **kwargs)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\form.py", line 281, in __init__
    super().__init__(self._unbound_fields, meta=meta_obj, prefix=prefix)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\form.py", line 49, in __init__
    field = meta.bind_field(self, unbound_field, options)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\meta.py", line 28, in bind_field
    return unbound_field.bind(form=form, **options)
           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\fields\core.py", line 387, in bind
    return self.field_class(*self.args, **kw)
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\fields\choices.py", line 90, in __init__
    self.choices = choices if isinstance(choices, dict) else list(choices)
                                                             ~~~~^^^^^^^^^
TypeError: 'UnboundField' object is not iterable
[2025-07-23 15:04:38,858] ERROR in app: Exception on /placement/new [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6510, in new_placement
    form = PlacementForm()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\form.py", line 209, in __call__
    return type.__call__(cls, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_wtf\form.py", line 73, in __init__
    super().__init__(formdata=formdata, **kwargs)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\form.py", line 281, in __init__
    super().__init__(self._unbound_fields, meta=meta_obj, prefix=prefix)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\form.py", line 49, in __init__
    field = meta.bind_field(self, unbound_field, options)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\meta.py", line 28, in bind_field
    return unbound_field.bind(form=form, **options)
           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\fields\core.py", line 387, in bind
    return self.field_class(*self.args, **kw)
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\fields\choices.py", line 90, in __init__
    self.choices = choices if isinstance(choices, dict) else list(choices)
                                                             ~~~~^^^^^^^^^
TypeError: 'UnboundField' object is not iterable
[2025-07-23 15:23:36,914] INFO in app: ==================================================
[2025-07-23 15:23:36,921] INFO in app: Application logging initialized successfully
[2025-07-23 15:23:36,923] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 15:23:36,926] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 15:23:36,927] INFO in app: System encoding: utf-8
[2025-07-23 15:23:36,932] INFO in app: ==================================================
[2025-07-23 15:24:08,186] INFO in app: ==================================================
[2025-07-23 15:24:08,192] INFO in app: Application logging initialized successfully
[2025-07-23 15:24:08,195] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 15:24:08,197] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 15:24:08,199] INFO in app: System encoding: utf-8
[2025-07-23 15:24:08,206] INFO in app: ==================================================
[2025-07-23 15:25:50,223] INFO in app: ==================================================
[2025-07-23 15:25:50,229] INFO in app: Application logging initialized successfully
[2025-07-23 15:25:50,232] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 15:25:50,234] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 15:25:50,241] INFO in app: System encoding: utf-8
[2025-07-23 15:25:50,242] INFO in app: ==================================================
[2025-07-23 15:26:13,193] ERROR in app: Exception on /placement/new [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6552, in new_placement
    return render_template('placement/new.html', form=form)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\new.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\new.html", line 61, in block 'content'
    {{ form.payment_frequency.label(class="form-label") }}
    ^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 490, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'app.PlacementForm object' has no attribute 'payment_frequency'
[2025-07-23 15:26:19,801] ERROR in app: Exception on /placement/new [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6552, in new_placement
    return render_template('placement/new.html', form=form)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\new.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\new.html", line 61, in block 'content'
    {{ form.payment_frequency.label(class="form-label") }}
    ^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 490, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'app.PlacementForm object' has no attribute 'payment_frequency'
[2025-07-23 15:34:06,593] INFO in app: ==================================================
[2025-07-23 15:34:06,599] INFO in app: Application logging initialized successfully
[2025-07-23 15:34:06,603] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 15:34:06,605] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 15:34:06,609] INFO in app: System encoding: utf-8
[2025-07-23 15:34:06,611] INFO in app: ==================================================
[2025-07-23 15:34:47,443] ERROR in app: Exception on /placement/new [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6552, in new_placement
    return render_template('placement/new.html', form=form)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\new.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\new.html", line 61, in block 'content'
    {{ form.payment_frequency.label(class="form-label") }}
    ^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 490, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'app.PlacementForm object' has no attribute 'payment_frequency'
[2025-07-23 15:48:40,977] INFO in app: ==================================================
[2025-07-23 15:48:40,983] INFO in app: Application logging initialized successfully
[2025-07-23 15:48:40,986] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 15:48:40,990] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 15:48:40,995] INFO in app: System encoding: utf-8
[2025-07-23 15:48:40,998] INFO in app: ==================================================
[2025-07-23 15:48:47,445] INFO in app: ==================================================
[2025-07-23 15:48:47,454] INFO in app: Application logging initialized successfully
[2025-07-23 15:48:47,457] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 15:48:47,459] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 15:48:47,462] INFO in app: System encoding: utf-8
[2025-07-23 15:48:47,465] INFO in app: ==================================================
[2025-07-23 15:49:16,331] INFO in app: ==================================================
[2025-07-23 15:49:16,339] INFO in app: Application logging initialized successfully
[2025-07-23 15:49:16,341] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 15:49:16,346] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 15:49:16,349] INFO in app: System encoding: utf-8
[2025-07-23 15:49:16,353] INFO in app: ==================================================
[2025-07-23 15:49:32,353] INFO in app: ==================================================
[2025-07-23 15:49:32,359] INFO in app: Application logging initialized successfully
[2025-07-23 15:49:32,361] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 15:49:32,363] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 15:49:32,365] INFO in app: System encoding: utf-8
[2025-07-23 15:49:32,369] INFO in app: ==================================================
[2025-07-23 15:49:37,588] INFO in app: ==================================================
[2025-07-23 15:49:37,594] INFO in app: Application logging initialized successfully
[2025-07-23 15:49:37,596] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 15:49:37,598] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 15:49:37,605] INFO in app: System encoding: utf-8
[2025-07-23 15:49:37,616] INFO in app: ==================================================
[2025-07-23 15:54:05,730] INFO in app: ==================================================
[2025-07-23 15:54:05,736] INFO in app: Application logging initialized successfully
[2025-07-23 15:54:05,738] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 15:54:05,741] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 15:54:05,743] INFO in app: System encoding: utf-8
[2025-07-23 15:54:05,749] INFO in app: ==================================================
[2025-07-23 15:54:13,407] INFO in app: ==================================================
[2025-07-23 15:54:13,416] INFO in app: Application logging initialized successfully
[2025-07-23 15:54:13,418] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 15:54:13,420] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 15:54:13,422] INFO in app: System encoding: utf-8
[2025-07-23 15:54:13,427] INFO in app: ==================================================
[2025-07-23 16:05:22,782] INFO in app: ==================================================
[2025-07-23 16:05:22,789] INFO in app: Application logging initialized successfully
[2025-07-23 16:05:22,791] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 16:05:22,793] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 16:05:22,796] INFO in app: System encoding: utf-8
[2025-07-23 16:05:22,803] INFO in app: ==================================================
[2025-07-23 16:05:29,245] INFO in app: ==================================================
[2025-07-23 16:05:29,252] INFO in app: Application logging initialized successfully
[2025-07-23 16:05:29,254] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 16:05:29,256] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 16:05:29,262] INFO in app: System encoding: utf-8
[2025-07-23 16:05:29,265] INFO in app: ==================================================
[2025-07-23 16:06:14,070] ERROR in app: Exception on /placement/new [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6562, in new_placement
    payment_frequency=form.payment_frequency.data,
                      ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'PlacementForm' object has no attribute 'payment_frequency'. Did you mean: 'payment_frequency_months'?
[2025-07-23 16:07:17,248] ERROR in app: Exception on /placement/new [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6562, in new_placement
    payment_frequency=form.payment_frequency.data,
                      ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'PlacementForm' object has no attribute 'payment_frequency'. Did you mean: 'payment_frequency_months'?
[2025-07-23 16:12:13,072] INFO in app: ==================================================
[2025-07-23 16:12:13,078] INFO in app: Application logging initialized successfully
[2025-07-23 16:12:13,081] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 16:12:13,082] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 16:12:13,084] INFO in app: System encoding: utf-8
[2025-07-23 16:12:13,086] INFO in app: ==================================================
[2025-07-23 16:12:18,538] ERROR in app: Exception on /placement/new [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: NOT NULL constraint failed: placement.due_date

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6570, in new_placement
    db.session.commit()  # Get placement.id for FK
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 599, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: placement.due_date
[SQL: INSERT INTO placement (client_id, amount, interest_rate, interest_type, tenure_months, start_date, payment_frequency, commission_percentage, arrangement_fee, collateral, current_balance, status, last_interest_calculation, placement_number, interest_payment_frequency, due_date, interest_due, principal_due, total_due, is_paid) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (1, 4000000.0, 35.0, 'Simple', 6, '2025-07-23', 2, 0.0, 0.0, '', 4000000.0, 'Active', '2025-07-23', '0607250005', None, None, None, 0.0, None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
[2025-07-23 16:13:27,908] ERROR in app: Exception on /placement/new [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: NOT NULL constraint failed: placement.due_date

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6570, in new_placement
    db.session.commit()  # Get placement.id for FK
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 599, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: placement.due_date
[SQL: INSERT INTO placement (client_id, amount, interest_rate, interest_type, tenure_months, start_date, payment_frequency, commission_percentage, arrangement_fee, collateral, current_balance, status, last_interest_calculation, placement_number, interest_payment_frequency, due_date, interest_due, principal_due, total_due, is_paid) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (1, 5500000.0, 37.5, 'Simple', 6, '2025-07-01', 2, 1.5, 0.0, '', 5500000.0, 'Active', '2025-07-23', '0607250005', None, None, None, 0.0, None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
[2025-07-23 16:16:34,687] INFO in app: ==================================================
[2025-07-23 16:16:34,693] INFO in app: Application logging initialized successfully
[2025-07-23 16:16:34,696] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 16:16:34,697] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 16:16:34,699] INFO in app: System encoding: utf-8
[2025-07-23 16:16:34,705] INFO in app: ==================================================
[2025-07-23 16:16:47,856] ERROR in app: Exception on /placement/new [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: NOT NULL constraint failed: placement.interest_due

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6571, in new_placement
    db.session.commit()  # Get placement.id for FK
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 599, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: placement.interest_due
[SQL: INSERT INTO placement (client_id, amount, interest_rate, interest_type, tenure_months, start_date, payment_frequency, commission_percentage, arrangement_fee, collateral, current_balance, status, last_interest_calculation, placement_number, interest_payment_frequency, due_date, interest_due, principal_due, total_due, is_paid) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (1, 5500000.0, 37.5, 'Simple', 6, '2025-07-01', 2, 1.5, 0.0, '', 5500000.0, 'Active', '2025-07-23', '0607250005', None, '2026-01-01', None, 0.0, None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
[2025-07-23 16:17:10,048] ERROR in app: Exception on /placement/new [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: NOT NULL constraint failed: placement.interest_due

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6571, in new_placement
    db.session.commit()  # Get placement.id for FK
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 599, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: placement.interest_due
[SQL: INSERT INTO placement (client_id, amount, interest_rate, interest_type, tenure_months, start_date, payment_frequency, commission_percentage, arrangement_fee, collateral, current_balance, status, last_interest_calculation, placement_number, interest_payment_frequency, due_date, interest_due, principal_due, total_due, is_paid) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (1, 5500000.0, 37.5, 'Simple', 6, '2025-07-23', 2, 1.5, 0.0, '', 5500000.0, 'Active', '2025-07-23', '0607250005', None, '2026-01-23', None, 0.0, None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
[2025-07-23 16:17:16,935] ERROR in app: Exception on /placement/new [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: NOT NULL constraint failed: placement.interest_due

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6571, in new_placement
    db.session.commit()  # Get placement.id for FK
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 599, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: placement.interest_due
[SQL: INSERT INTO placement (client_id, amount, interest_rate, interest_type, tenure_months, start_date, payment_frequency, commission_percentage, arrangement_fee, collateral, current_balance, status, last_interest_calculation, placement_number, interest_payment_frequency, due_date, interest_due, principal_due, total_due, is_paid) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (1, 5500000.0, 37.5, 'Simple', 6, '2025-07-23', 2, 0.0, 0.0, '', 5500000.0, 'Active', '2025-07-23', '0607250005', None, '2026-01-23', None, 0.0, None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
[2025-07-23 16:41:17,883] INFO in app: ==================================================
[2025-07-23 16:41:17,889] INFO in app: Application logging initialized successfully
[2025-07-23 16:41:17,892] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 16:41:17,895] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 16:41:17,899] INFO in app: System encoding: utf-8
[2025-07-23 16:41:17,900] INFO in app: ==================================================
[2025-07-23 16:41:22,747] INFO in app: ==================================================
[2025-07-23 16:41:22,753] INFO in app: Application logging initialized successfully
[2025-07-23 16:41:22,756] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 16:41:22,757] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 16:41:22,759] INFO in app: System encoding: utf-8
[2025-07-23 16:41:22,764] INFO in app: ==================================================
[2025-07-23 16:41:29,216] ERROR in app: Exception on /placement/new [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: NOT NULL constraint failed: placement.interest_due

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6571, in new_placement
    db.session.commit()  # Get placement.id for FK
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 599, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: placement.interest_due
[SQL: INSERT INTO placement (client_id, amount, interest_rate, interest_type, tenure_months, start_date, payment_frequency, commission_percentage, arrangement_fee, collateral, current_balance, status, last_interest_calculation, placement_number, interest_payment_frequency, due_date, interest_due, principal_due, total_due, is_paid) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (1, 5500000.0, 37.5, 'Simple', 6, '2025-07-23', 2, 0.0, 0.0, '', 5500000.0, 'Active', '2025-07-23', '0607250005', None, '2026-01-23', None, 0.0, None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
[2025-07-23 16:41:33,908] ERROR in app: Exception on /placement/new [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: NOT NULL constraint failed: placement.interest_due

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6571, in new_placement
    db.session.commit()  # Get placement.id for FK
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 599, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: placement.interest_due
[SQL: INSERT INTO placement (client_id, amount, interest_rate, interest_type, tenure_months, start_date, payment_frequency, commission_percentage, arrangement_fee, collateral, current_balance, status, last_interest_calculation, placement_number, interest_payment_frequency, due_date, interest_due, principal_due, total_due, is_paid) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (1, 5500000.0, 37.5, 'Simple', 6, '2025-07-23', 2, 0.0, 0.0, '', 5500000.0, 'Active', '2025-07-23', '0607250005', None, '2026-01-23', None, 0.0, None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
[2025-07-23 16:44:30,392] INFO in app: ==================================================
[2025-07-23 16:44:30,397] INFO in app: Application logging initialized successfully
[2025-07-23 16:44:30,400] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 16:44:30,402] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 16:44:30,408] INFO in app: System encoding: utf-8
[2025-07-23 16:44:30,410] INFO in app: ==================================================
[2025-07-23 16:44:35,988] INFO in app: ==================================================
[2025-07-23 16:44:35,995] INFO in app: Application logging initialized successfully
[2025-07-23 16:44:35,997] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 16:44:35,999] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 16:44:36,001] INFO in app: System encoding: utf-8
[2025-07-23 16:44:36,007] INFO in app: ==================================================
[2025-07-23 16:44:40,461] INFO in app: ==================================================
[2025-07-23 16:44:40,467] INFO in app: Application logging initialized successfully
[2025-07-23 16:44:40,470] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 16:44:40,472] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 16:44:40,474] INFO in app: System encoding: utf-8
[2025-07-23 16:44:40,476] INFO in app: ==================================================
[2025-07-23 16:45:11,720] INFO in app: ==================================================
[2025-07-23 16:45:11,731] INFO in app: Application logging initialized successfully
[2025-07-23 16:45:11,733] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 16:45:11,736] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 16:45:11,746] INFO in app: System encoding: utf-8
[2025-07-23 16:45:11,748] INFO in app: ==================================================
[2025-07-23 16:45:17,430] ERROR in app: Exception on /placement/new [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6574, in new_placement
    schedule = generate_placement_schedule(placement)
  File "C:\Users\pc\loan-app\app.py", line 6481, in generate_placement_schedule
    frequency = placement.payment_frequency_months
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Placement' object has no attribute 'payment_frequency_months'. Did you mean: 'payment_frequency'?
[2025-07-23 16:52:15,848] INFO in app: ==================================================
[2025-07-23 16:52:15,854] INFO in app: Application logging initialized successfully
[2025-07-23 16:52:15,856] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 16:52:15,859] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 16:52:15,868] INFO in app: System encoding: utf-8
[2025-07-23 16:52:15,872] INFO in app: ==================================================
[2025-07-23 16:52:21,204] INFO in app: ==================================================
[2025-07-23 16:52:21,214] INFO in app: Application logging initialized successfully
[2025-07-23 16:52:21,216] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 16:52:21,218] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 16:52:21,221] INFO in app: System encoding: utf-8
[2025-07-23 16:52:21,223] INFO in app: ==================================================
[2025-07-23 16:58:20,315] INFO in app: ==================================================
[2025-07-23 16:58:20,321] INFO in app: Application logging initialized successfully
[2025-07-23 16:58:20,324] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 16:58:20,326] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 16:58:20,329] INFO in app: System encoding: utf-8
[2025-07-23 16:58:20,333] INFO in app: ==================================================
[2025-07-23 16:58:44,957] INFO in app: ==================================================
[2025-07-23 16:58:44,963] INFO in app: Application logging initialized successfully
[2025-07-23 16:58:44,966] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 16:58:44,968] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 16:58:44,970] INFO in app: System encoding: utf-8
[2025-07-23 16:58:44,972] INFO in app: ==================================================
[2025-07-23 17:01:53,798] INFO in app: ==================================================
[2025-07-23 17:01:53,804] INFO in app: Application logging initialized successfully
[2025-07-23 17:01:53,806] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 17:01:53,808] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 17:01:53,811] INFO in app: System encoding: utf-8
[2025-07-23 17:01:53,815] INFO in app: ==================================================
[2025-07-23 17:02:56,079] INFO in app: ==================================================
[2025-07-23 17:02:56,085] INFO in app: Application logging initialized successfully
[2025-07-23 17:02:56,087] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 17:02:56,089] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 17:02:56,092] INFO in app: System encoding: utf-8
[2025-07-23 17:02:56,098] INFO in app: ==================================================
[2025-07-23 17:03:50,235] INFO in app: ==================================================
[2025-07-23 17:03:50,241] INFO in app: Application logging initialized successfully
[2025-07-23 17:03:50,246] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 17:03:50,247] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 17:03:50,249] INFO in app: System encoding: utf-8
[2025-07-23 17:03:50,251] INFO in app: ==================================================
[2025-07-23 17:04:32,982] INFO in app: ==================================================
[2025-07-23 17:04:32,987] INFO in app: Application logging initialized successfully
[2025-07-23 17:04:32,989] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 17:04:32,992] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 17:04:32,994] INFO in app: System encoding: utf-8
[2025-07-23 17:04:32,999] INFO in app: ==================================================
[2025-07-23 17:08:18,702] INFO in app: ==================================================
[2025-07-23 17:08:18,709] INFO in app: Application logging initialized successfully
[2025-07-23 17:08:18,711] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 17:08:18,713] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 17:08:18,715] INFO in app: System encoding: utf-8
[2025-07-23 17:08:18,716] INFO in app: ==================================================
[2025-07-23 17:08:58,961] INFO in app: ==================================================
[2025-07-23 17:08:58,967] INFO in app: Application logging initialized successfully
[2025-07-23 17:08:58,969] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 17:08:58,971] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 17:08:58,978] INFO in app: System encoding: utf-8
[2025-07-23 17:08:58,980] INFO in app: ==================================================
[2025-07-23 17:09:07,913] INFO in app: ==================================================
[2025-07-23 17:09:07,923] INFO in app: Application logging initialized successfully
[2025-07-23 17:09:07,924] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 17:09:07,926] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 17:09:07,929] INFO in app: System encoding: utf-8
[2025-07-23 17:09:07,932] INFO in app: ==================================================
[2025-07-23 17:09:21,119] INFO in app: ==================================================
[2025-07-23 17:09:21,125] INFO in app: Application logging initialized successfully
[2025-07-23 17:09:21,127] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 17:09:21,130] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 17:09:21,137] INFO in app: System encoding: utf-8
[2025-07-23 17:09:21,139] INFO in app: ==================================================
[2025-07-23 17:09:34,966] INFO in app: ==================================================
[2025-07-23 17:09:34,972] INFO in app: Application logging initialized successfully
[2025-07-23 17:09:34,974] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 17:09:34,976] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 17:09:34,984] INFO in app: System encoding: utf-8
[2025-07-23 17:09:34,986] INFO in app: ==================================================
[2025-07-23 17:09:43,728] INFO in app: ==================================================
[2025-07-23 17:09:43,734] INFO in app: Application logging initialized successfully
[2025-07-23 17:09:43,736] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 17:09:43,739] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 17:09:43,744] INFO in app: System encoding: utf-8
[2025-07-23 17:09:43,748] INFO in app: ==================================================
[2025-07-23 17:21:32,255] INFO in app: ==================================================
[2025-07-23 17:21:32,261] INFO in app: Application logging initialized successfully
[2025-07-23 17:21:32,263] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 17:21:32,265] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 17:21:32,266] INFO in app: System encoding: utf-8
[2025-07-23 17:21:32,274] INFO in app: ==================================================
[2025-07-23 17:21:43,455] ERROR in app: Exception on /placements [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such column: placement.payment_frequency_months

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6702, in view_placements
    placements = placements.all()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2858, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: placement.payment_frequency_months
[SQL: SELECT placement.id AS placement_id, placement.client_id AS placement_client_id, placement.amount AS placement_amount, placement.interest_rate AS placement_interest_rate, placement.interest_type AS placement_interest_type, placement.tenure_months AS placement_tenure_months, placement.start_date AS placement_start_date, placement.payment_frequency AS placement_payment_frequency, placement.commission_percentage AS placement_commission_percentage, placement.arrangement_fee AS placement_arrangement_fee, placement.collateral AS placement_collateral, placement.current_balance AS placement_current_balance, placement.status AS placement_status, placement.last_interest_calculation AS placement_last_interest_calculation, placement.placement_number AS placement_placement_number, placement.interest_payment_frequency AS placement_interest_payment_frequency, placement.payment_frequency_months AS placement_payment_frequency_months, placement.due_date AS placement_due_date, placement.interest_due AS placement_interest_due, placement.principal_due AS placement_principal_due, placement.total_due AS placement_total_due, placement.is_paid AS placement_is_paid 
FROM placement]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
[2025-07-23 17:22:44,464] INFO in app: ==================================================
[2025-07-23 17:22:44,470] INFO in app: Application logging initialized successfully
[2025-07-23 17:22:44,472] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 17:22:44,474] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 17:22:44,476] INFO in app: System encoding: utf-8
[2025-07-23 17:22:44,483] INFO in app: ==================================================
[2025-07-23 17:22:53,697] INFO in app: ==================================================
[2025-07-23 17:22:53,706] INFO in app: Application logging initialized successfully
[2025-07-23 17:22:53,709] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 17:22:53,711] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 17:22:53,714] INFO in app: System encoding: utf-8
[2025-07-23 17:22:53,719] INFO in app: ==================================================
[2025-07-23 17:22:58,100] INFO in app: ==================================================
[2025-07-23 17:22:58,107] INFO in app: Application logging initialized successfully
[2025-07-23 17:22:58,109] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 17:22:58,112] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 17:22:58,115] INFO in app: System encoding: utf-8
[2025-07-23 17:22:58,119] INFO in app: ==================================================
[2025-07-23 18:33:00,115] INFO in app: ==================================================
[2025-07-23 18:33:00,188] INFO in app: Application logging initialized successfully
[2025-07-23 18:33:00,189] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 18:33:00,191] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 18:33:00,194] INFO in app: System encoding: utf-8
[2025-07-23 18:33:00,197] INFO in app: ==================================================
[2025-07-23 18:33:53,380] ERROR in app: Exception on /placement/new [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: NOT NULL constraint failed: placement.interest_due

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6572, in new_placement
    db.session.commit()  # Get placement.id for FK
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 599, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: placement.interest_due
[SQL: INSERT INTO placement (client_id, amount, interest_rate, interest_type, tenure_months, start_date, payment_frequency, commission_percentage, arrangement_fee, collateral, current_balance, status, last_interest_calculation, placement_number, interest_payment_frequency, payment_frequency_months, due_date, interest_due, principal_due, total_due, is_paid) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (1, 5500000.0, 37.5, 'Simple', 6, '2025-07-23', 2, 0.0, 0.0, '', 5500000.0, 'Active', '2025-07-23', '0607250001', None, None, '2026-01-23', None, 0.0, None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
[2025-07-23 18:41:57,844] INFO in app: ==================================================
[2025-07-23 18:41:57,849] INFO in app: Application logging initialized successfully
[2025-07-23 18:41:57,851] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 18:41:57,853] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 18:41:57,855] INFO in app: System encoding: utf-8
[2025-07-23 18:41:57,860] INFO in app: ==================================================
[2025-07-23 18:42:06,968] INFO in app: ==================================================
[2025-07-23 18:42:06,974] INFO in app: Application logging initialized successfully
[2025-07-23 18:42:06,976] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 18:42:06,978] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 18:42:06,980] INFO in app: System encoding: utf-8
[2025-07-23 18:42:06,983] INFO in app: ==================================================
[2025-07-23 18:42:11,884] INFO in app: ==================================================
[2025-07-23 18:42:11,890] INFO in app: Application logging initialized successfully
[2025-07-23 18:42:11,892] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 18:42:11,894] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 18:42:11,895] INFO in app: System encoding: utf-8
[2025-07-23 18:42:11,898] INFO in app: ==================================================
[2025-07-23 18:42:20,090] ERROR in app: Exception on /placement/new [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6575, in new_placement
    schedule = generate_placement_schedule(placement)
  File "C:\Users\pc\loan-app\app.py", line 6488, in generate_placement_schedule
    if frequency <= 0 or tenure <= 0:
       ^^^^^^^^^^^^^^
TypeError: '<=' not supported between instances of 'NoneType' and 'int'
[2025-07-23 18:47:47,915] INFO in app: ==================================================
[2025-07-23 18:47:47,981] INFO in app: Application logging initialized successfully
[2025-07-23 18:47:47,983] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 18:47:47,985] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 18:47:47,987] INFO in app: System encoding: utf-8
[2025-07-23 18:47:47,990] INFO in app: ==================================================
[2025-07-23 18:47:52,608] ERROR in app: Exception on /placement/new [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6585, in new_placement
    schedule = generate_placement_schedule(placement)
  File "C:\Users\pc\loan-app\app.py", line 6538, in generate_placement_schedule
    schedule.append(PlacementSchedule(
                    ~~~~~~~~~~~~~~~~~^
        placement_id=placement.id,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
        is_paid=False
        ^^^^^^^^^^^^^
    ))
    ^
  File "<string>", line 4, in __init__
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
        "%r is an invalid keyword argument for %s" % (k, cls_.__name__)
    )
TypeError: 'principal_due' is an invalid keyword argument for PlacementSchedule
[2025-07-23 18:51:59,568] INFO in app: ==================================================
[2025-07-23 18:51:59,574] INFO in app: Application logging initialized successfully
[2025-07-23 18:51:59,576] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 18:51:59,578] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 18:51:59,580] INFO in app: System encoding: utf-8
[2025-07-23 18:51:59,583] INFO in app: ==================================================
[2025-07-23 18:52:06,393] INFO in app: ==================================================
[2025-07-23 18:52:06,404] INFO in app: Application logging initialized successfully
[2025-07-23 18:52:06,406] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 18:52:06,408] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 18:52:06,409] INFO in app: System encoding: utf-8
[2025-07-23 18:52:06,412] INFO in app: ==================================================
[2025-07-23 18:52:11,551] INFO in app: ==================================================
[2025-07-23 18:52:11,556] INFO in app: Application logging initialized successfully
[2025-07-23 18:52:11,558] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 18:52:11,560] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 18:52:11,561] INFO in app: System encoding: utf-8
[2025-07-23 18:52:11,564] INFO in app: ==================================================
[2025-07-23 19:24:24,041] INFO in app: ==================================================
[2025-07-23 19:24:24,047] INFO in app: Application logging initialized successfully
[2025-07-23 19:24:24,049] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 19:24:24,051] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 19:24:24,053] INFO in app: System encoding: utf-8
[2025-07-23 19:24:24,056] INFO in app: ==================================================
[2025-07-23 19:26:14,397] INFO in app: ==================================================
[2025-07-23 19:26:14,402] INFO in app: Application logging initialized successfully
[2025-07-23 19:26:14,404] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 19:26:14,407] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 19:26:14,408] INFO in app: System encoding: utf-8
[2025-07-23 19:26:14,411] INFO in app: ==================================================
[2025-07-23 19:43:13,721] INFO in app: ==================================================
[2025-07-23 19:43:13,730] INFO in app: Application logging initialized successfully
[2025-07-23 19:43:13,733] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 19:43:13,734] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 19:43:13,737] INFO in app: System encoding: utf-8
[2025-07-23 19:43:13,739] INFO in app: ==================================================
[2025-07-24 04:50:47,315] INFO in app: ==================================================
[2025-07-24 04:50:47,384] INFO in app: Application logging initialized successfully
[2025-07-24 04:50:47,386] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 04:50:47,387] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 04:50:47,388] INFO in app: System encoding: utf-8
[2025-07-24 04:50:47,389] INFO in app: ==================================================
[2025-07-24 04:52:34,627] INFO in app: ==================================================
[2025-07-24 04:52:34,637] INFO in app: Application logging initialized successfully
[2025-07-24 04:52:34,638] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 04:52:34,644] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 04:52:34,648] INFO in app: System encoding: utf-8
[2025-07-24 04:52:34,650] INFO in app: ==================================================
[2025-07-24 05:02:49,008] INFO in app: ==================================================
[2025-07-24 05:02:49,019] INFO in app: Application logging initialized successfully
[2025-07-24 05:02:49,023] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 05:02:49,025] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 05:02:49,027] INFO in app: System encoding: utf-8
[2025-07-24 05:02:49,028] INFO in app: ==================================================
[2025-07-24 05:02:58,910] INFO in app: ==================================================
[2025-07-24 05:02:58,919] INFO in app: Application logging initialized successfully
[2025-07-24 05:02:58,920] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 05:02:58,921] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 05:02:58,922] INFO in app: System encoding: utf-8
[2025-07-24 05:02:58,923] INFO in app: ==================================================
[2025-07-24 05:05:14,410] INFO in app: ==================================================
[2025-07-24 05:05:14,419] INFO in app: Application logging initialized successfully
[2025-07-24 05:05:14,421] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 05:05:14,423] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 05:05:14,428] INFO in app: System encoding: utf-8
[2025-07-24 05:05:14,429] INFO in app: ==================================================
[2025-07-24 05:10:16,035] INFO in app: ==================================================
[2025-07-24 05:10:16,042] INFO in app: Application logging initialized successfully
[2025-07-24 05:10:16,045] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 05:10:16,053] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 05:10:16,055] INFO in app: System encoding: utf-8
[2025-07-24 05:10:16,056] INFO in app: ==================================================
[2025-07-24 05:10:52,910] INFO in app: ==================================================
[2025-07-24 05:10:52,922] INFO in app: Application logging initialized successfully
[2025-07-24 05:10:52,927] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 05:10:52,929] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 05:10:52,947] INFO in app: System encoding: utf-8
[2025-07-24 05:10:52,949] INFO in app: ==================================================
[2025-07-24 05:13:21,125] INFO in app: ==================================================
[2025-07-24 05:13:21,131] INFO in app: Application logging initialized successfully
[2025-07-24 05:13:21,132] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 05:13:21,137] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 05:13:21,139] INFO in app: System encoding: utf-8
[2025-07-24 05:13:21,141] INFO in app: ==================================================
[2025-07-24 05:16:17,010] INFO in app: ==================================================
[2025-07-24 05:16:17,015] INFO in app: Application logging initialized successfully
[2025-07-24 05:16:17,018] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 05:16:17,019] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 05:16:17,021] INFO in app: System encoding: utf-8
[2025-07-24 05:16:17,031] INFO in app: ==================================================
[2025-07-24 05:16:49,769] ERROR in app: Exception on /placements [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6718, in view_placements
    placements = placements.filter(Placement.next_interest_date >= interest_start)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: '>=' not supported between instances of 'property' and 'str'
[2025-07-24 05:53:16,266] INFO in app: ==================================================
[2025-07-24 05:53:16,275] INFO in app: Application logging initialized successfully
[2025-07-24 05:53:16,281] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 05:53:16,284] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 05:53:16,286] INFO in app: System encoding: utf-8
[2025-07-24 05:53:16,297] INFO in app: ==================================================
[2025-07-24 05:54:50,091] ERROR in app: Exception on /placements/export [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6787, in export_placements_excel
    df.to_excel(output, index=False)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\pandas\util\_decorators.py", line 333, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\pandas\core\generic.py", line 2436, in to_excel
    formatter.write(
    ~~~~~~~~~~~~~~~^
        excel_writer,
        ^^^^^^^^^^^^^
    ...<6 lines>...
        engine_kwargs=engine_kwargs,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\pandas\io\formats\excel.py", line 943, in write
    writer = ExcelWriter(
        writer,
    ...<2 lines>...
        engine_kwargs=engine_kwargs,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\pandas\io\excel\_openpyxl.py", line 57, in __init__
    from openpyxl.workbook import Workbook
ModuleNotFoundError: No module named 'openpyxl'
[2025-07-24 06:04:56,829] INFO in app: ==================================================
[2025-07-24 06:04:56,838] INFO in app: Application logging initialized successfully
[2025-07-24 06:04:56,840] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 06:04:56,843] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 06:04:56,845] INFO in app: System encoding: utf-8
[2025-07-24 06:04:56,846] INFO in app: ==================================================
[2025-07-24 06:16:47,383] INFO in app: ==================================================
[2025-07-24 06:16:47,389] INFO in app: Application logging initialized successfully
[2025-07-24 06:16:47,393] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 06:16:47,395] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 06:16:47,400] INFO in app: System encoding: utf-8
[2025-07-24 06:16:47,403] INFO in app: ==================================================
[2025-07-24 06:18:47,816] INFO in app: ==================================================
[2025-07-24 06:18:47,829] INFO in app: Application logging initialized successfully
[2025-07-24 06:18:47,831] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 06:18:47,833] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 06:18:47,842] INFO in app: System encoding: utf-8
[2025-07-24 06:18:47,844] INFO in app: ==================================================
[2025-07-24 06:23:54,957] INFO in app: ==================================================
[2025-07-24 06:23:54,968] INFO in app: Application logging initialized successfully
[2025-07-24 06:23:54,970] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 06:23:54,971] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 06:23:54,973] INFO in app: System encoding: utf-8
[2025-07-24 06:23:54,975] INFO in app: ==================================================
[2025-07-24 06:27:28,789] INFO in app: ==================================================
[2025-07-24 06:27:28,797] INFO in app: Application logging initialized successfully
[2025-07-24 06:27:28,800] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 06:27:28,802] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 06:27:28,803] INFO in app: System encoding: utf-8
[2025-07-24 06:27:28,807] INFO in app: ==================================================
[2025-07-24 06:29:49,545] INFO in app: ==================================================
[2025-07-24 06:29:49,550] INFO in app: Application logging initialized successfully
[2025-07-24 06:29:49,556] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 06:29:49,560] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 06:29:49,564] INFO in app: System encoding: utf-8
[2025-07-24 06:29:49,565] INFO in app: ==================================================
[2025-07-24 06:54:18,038] INFO in app: ==================================================
[2025-07-24 06:54:18,044] INFO in app: Application logging initialized successfully
[2025-07-24 06:54:18,047] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 06:54:18,048] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 06:54:18,056] INFO in app: System encoding: utf-8
[2025-07-24 06:54:18,057] INFO in app: ==================================================
[2025-07-24 06:55:16,542] ERROR in app: Exception on /placement/10/update [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6952, in update_placement
    form.new_tenure.data = placement.tenure
                           ^^^^^^^^^^^^^^^^
AttributeError: 'Placement' object has no attribute 'tenure'
[2025-07-24 06:56:59,460] INFO in app: ==================================================
[2025-07-24 06:56:59,470] INFO in app: Application logging initialized successfully
[2025-07-24 06:56:59,474] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 06:56:59,476] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 06:56:59,479] INFO in app: System encoding: utf-8
[2025-07-24 06:56:59,481] INFO in app: ==================================================
[2025-07-24 06:57:08,440] ERROR in app: Exception on /placement/10/update [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6953, in update_placement
    form.new_frequency.data = placement.interest_frequency
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Placement' object has no attribute 'interest_frequency'. Did you mean: 'payment_frequency'?
[2025-07-24 06:58:04,047] INFO in app: ==================================================
[2025-07-24 06:58:04,053] INFO in app: Application logging initialized successfully
[2025-07-24 06:58:04,060] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 06:58:04,063] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 06:58:04,066] INFO in app: System encoding: utf-8
[2025-07-24 06:58:04,069] INFO in app: ==================================================
[2025-07-24 07:01:23,576] INFO in app: ==================================================
[2025-07-24 07:01:23,583] INFO in app: Application logging initialized successfully
[2025-07-24 07:01:23,585] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 07:01:23,587] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 07:01:23,588] INFO in app: System encoding: utf-8
[2025-07-24 07:01:23,596] INFO in app: ==================================================
[2025-07-24 07:01:28,843] ERROR in app: Exception on /placement/10/update [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6982, in update_placement
    return render_template('placement/update.html', form=form, placement=placement)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\update.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\update.html", line 34, in block 'content'
    {{ form.transaction_date.label(class="form-label") }}
    ^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 490, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'app.PlacementUpdateForm object' has no attribute 'transaction_date'
[2025-07-24 07:04:16,461] INFO in app: ==================================================
[2025-07-24 07:04:16,469] INFO in app: Application logging initialized successfully
[2025-07-24 07:04:16,472] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 07:04:16,474] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 07:04:16,477] INFO in app: System encoding: utf-8
[2025-07-24 07:04:16,483] INFO in app: ==================================================
[2025-07-24 13:42:39,614] INFO in app: ==================================================
[2025-07-24 13:42:39,910] INFO in app: Application logging initialized successfully
[2025-07-24 13:42:39,927] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 13:42:39,929] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 13:42:39,960] INFO in app: System encoding: utf-8
[2025-07-24 13:42:39,995] INFO in app: ==================================================
[2025-07-24 14:36:56,329] INFO in app: ==================================================
[2025-07-24 14:36:56,466] INFO in app: Application logging initialized successfully
[2025-07-24 14:36:56,470] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 14:36:56,472] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 14:36:56,483] INFO in app: System encoding: utf-8
[2025-07-24 14:36:56,494] INFO in app: ==================================================
[2025-07-24 14:43:45,613] INFO in app: ==================================================
[2025-07-24 14:43:45,619] INFO in app: Application logging initialized successfully
[2025-07-24 14:43:45,621] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 14:43:45,626] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 14:43:45,628] INFO in app: System encoding: utf-8
[2025-07-24 14:43:45,633] INFO in app: ==================================================
[2025-07-24 14:44:28,825] ERROR in app: Exception on /placement/10/update [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6971, in update_placement
    form.new_tenure.data = placement.tenure
                           ^^^^^^^^^^^^^^^^
AttributeError: 'Placement' object has no attribute 'tenure'
[2025-07-24 14:57:04,894] INFO in app: ==================================================
[2025-07-24 14:57:04,901] INFO in app: Application logging initialized successfully
[2025-07-24 14:57:04,905] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 14:57:04,907] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 14:57:04,909] INFO in app: System encoding: utf-8
[2025-07-24 14:57:04,913] INFO in app: ==================================================
[2025-07-24 14:57:13,025] ERROR in app: Exception on /placement/10/update [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7020, in update_placement
    form.new_duration.data = placement.duration_months
                             ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Placement' object has no attribute 'duration_months'
[2025-07-24 15:00:03,209] INFO in app: ==================================================
[2025-07-24 15:00:03,215] INFO in app: Application logging initialized successfully
[2025-07-24 15:00:03,217] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 15:00:03,219] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 15:00:03,221] INFO in app: System encoding: utf-8
[2025-07-24 15:00:03,223] INFO in app: ==================================================
[2025-07-24 15:00:13,060] ERROR in app: Exception on /placement/10/update [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7020, in update_placement
    form.new_tenure.data = placement.tenure
                           ^^^^^^^^^^^^^^^^
AttributeError: 'Placement' object has no attribute 'tenure'
[2025-07-24 15:29:01,677] INFO in app: ==================================================
[2025-07-24 15:29:01,684] INFO in app: Application logging initialized successfully
[2025-07-24 15:29:01,687] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 15:29:01,692] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 15:29:01,697] INFO in app: System encoding: utf-8
[2025-07-24 15:29:01,700] INFO in app: ==================================================
[2025-07-24 15:29:43,598] ERROR in app: Exception on /placement/10/update [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7023, in update_placement
    placement.add_deposit(amount, effective_date)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 1671, in add_deposit
    self.current_balance += amount
TypeError: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
[2025-07-24 15:31:30,478] INFO in app: ==================================================
[2025-07-24 15:31:30,484] INFO in app: Application logging initialized successfully
[2025-07-24 15:31:30,489] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 15:31:30,491] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 15:31:30,496] INFO in app: System encoding: utf-8
[2025-07-24 15:31:30,497] INFO in app: ==================================================
[2025-07-24 15:31:37,460] ERROR in app: Exception on /placement/10/update [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7023, in update_placement
    placement.add_deposit(amount, effective_date)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 1672, in add_deposit
    self.amount += amount  # Also update the original amount
    ^^^^^^^^^^^^^^^^^^^^^
TypeError: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
[2025-07-24 15:31:44,951] ERROR in app: Exception on /placement/10/update [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7023, in update_placement
    placement.add_deposit(amount, effective_date)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 1672, in add_deposit
    self.amount += amount  # Also update the original amount
    ^^^^^^^^^^^^^^^^^^^^^
TypeError: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
[2025-07-24 15:32:23,772] INFO in app: ==================================================
[2025-07-24 15:32:23,778] INFO in app: Application logging initialized successfully
[2025-07-24 15:32:23,780] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 15:32:23,782] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 15:32:23,784] INFO in app: System encoding: utf-8
[2025-07-24 15:32:23,786] INFO in app: ==================================================
[2025-07-24 15:32:40,567] ERROR in app: Exception on /placement/10/update [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7023, in update_placement
    placement.add_deposit(amount, effective_date)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 1672, in add_deposit
    self.amount += amount  # Also update the original amount
    ^^^^^^^^^^^^^^^^^^^^^
TypeError: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
[2025-07-24 15:34:04,300] INFO in app: ==================================================
[2025-07-24 15:34:04,307] INFO in app: Application logging initialized successfully
[2025-07-24 15:34:04,309] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 15:34:04,311] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 15:34:04,313] INFO in app: System encoding: utf-8
[2025-07-24 15:34:04,317] INFO in app: ==================================================
[2025-07-24 15:34:09,053] ERROR in app: Exception on /placement/10/update [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7023, in update_placement
    placement.add_deposit(amount, effective_date)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 1672, in add_deposit
    self.amount += amount  # Also update the original amount
    ^^^^^^^^^^^^^^^^^^^^^
TypeError: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
[2025-07-24 15:35:02,911] INFO in app: ==================================================
[2025-07-24 15:35:02,917] INFO in app: Application logging initialized successfully
[2025-07-24 15:35:02,920] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 15:35:02,921] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 15:35:02,923] INFO in app: System encoding: utf-8
[2025-07-24 15:35:02,926] INFO in app: ==================================================
[2025-07-24 15:35:26,084] ERROR in app: Exception on /placement/10/update [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7023, in update_placement
    placement.add_deposit(amount, effective_date)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 1672, in add_deposit
    self.amount += amount  # Also update the original amount
    ^^^^^^^^^^^^^^^^^^^^^
TypeError: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
[2025-07-24 15:35:58,343] INFO in app: ==================================================
[2025-07-24 15:35:58,349] INFO in app: Application logging initialized successfully
[2025-07-24 15:35:58,353] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 15:35:58,355] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 15:35:58,356] INFO in app: System encoding: utf-8
[2025-07-24 15:35:58,360] INFO in app: ==================================================
[2025-07-24 15:36:54,231] ERROR in app: Exception on /placement/10/update [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7029, in update_placement
    placement.withdraw_funds(amount, effective_date)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 1698, in withdraw_funds
    self.current_balance -= amount
TypeError: unsupported operand type(s) for -=: 'float' and 'decimal.Decimal'
[2025-07-24 15:37:55,741] INFO in app: ==================================================
[2025-07-24 15:37:55,747] INFO in app: Application logging initialized successfully
[2025-07-24 15:37:55,751] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 15:37:55,753] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 15:37:55,755] INFO in app: System encoding: utf-8
[2025-07-24 15:37:55,759] INFO in app: ==================================================
[2025-07-24 15:38:18,463] ERROR in app: Exception on /placement/10/update [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7029, in update_placement
    placement.withdraw_funds(amount, effective_date)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 1698, in withdraw_funds
    self.current_balance -= amount
TypeError: unsupported operand type(s) for -=: 'float' and 'decimal.Decimal'
[2025-07-24 15:38:31,173] INFO in app: ==================================================
[2025-07-24 15:38:31,180] INFO in app: Application logging initialized successfully
[2025-07-24 15:38:31,182] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 15:38:31,184] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 15:38:31,186] INFO in app: System encoding: utf-8
[2025-07-24 15:38:31,189] INFO in app: ==================================================
[2025-07-24 15:39:54,575] ERROR in app: Exception on /placement/10/update [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7042, in update_placement
    placement.change_tenure(int(new_tenure), effective_date)
    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Placement' object has no attribute 'change_tenure'
[2025-07-24 15:41:48,490] INFO in app: ==================================================
[2025-07-24 15:41:48,497] INFO in app: Application logging initialized successfully
[2025-07-24 15:41:48,500] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 15:41:48,501] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 15:41:48,503] INFO in app: System encoding: utf-8
[2025-07-24 15:41:48,508] INFO in app: ==================================================
[2025-07-24 15:51:55,182] INFO in app: ==================================================
[2025-07-24 15:51:55,189] INFO in app: Application logging initialized successfully
[2025-07-24 15:51:55,192] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 15:51:55,194] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 15:51:55,199] INFO in app: System encoding: utf-8
[2025-07-24 15:51:55,201] INFO in app: ==================================================
[2025-07-24 15:52:05,733] ERROR in app: Exception on /placement/10/update [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7092, in update_placement
    return render_template('placement/update.html', form=form, placement=placement)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\update.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\update.html", line 27, in block 'content'
    {{ form.new_interest_rate(class="form-control", step="0.01") }}
    ^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\utils.py", line 92, in from_obj
    if hasattr(obj, "jinja_pass_arg"):
       ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'app.PlacementUpdateForm object' has no attribute 'new_interest_rate'
[2025-07-24 15:54:27,637] INFO in app: ==================================================
[2025-07-24 15:54:27,644] INFO in app: Application logging initialized successfully
[2025-07-24 15:54:27,647] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 15:54:27,649] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 15:54:27,650] INFO in app: System encoding: utf-8
[2025-07-24 15:54:27,654] INFO in app: ==================================================
[2025-07-24 15:54:41,206] ERROR in app: Exception on /placement/10/update [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7092, in update_placement
    db.session.add(tx)
    ~~~~~~~~~~~~~~^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\update.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\update.html", line 27, in block 'content'
    {{ form.new_interest_rate(class="form-control", step="0.01") }}
    ^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\utils.py", line 92, in from_obj
    if hasattr(obj, "jinja_pass_arg"):
       ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'app.PlacementUpdateForm object' has no attribute 'new_interest_rate'
[2025-07-24 15:54:54,932] INFO in app: ==================================================
[2025-07-24 15:54:54,939] INFO in app: Application logging initialized successfully
[2025-07-24 15:54:54,942] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 15:54:54,944] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 15:54:54,951] INFO in app: System encoding: utf-8
[2025-07-24 15:54:54,953] INFO in app: ==================================================
[2025-07-24 15:55:07,260] INFO in app: ==================================================
[2025-07-24 15:55:07,265] INFO in app: Application logging initialized successfully
[2025-07-24 15:55:07,268] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 15:55:07,270] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 15:55:07,271] INFO in app: System encoding: utf-8
[2025-07-24 15:55:07,277] INFO in app: ==================================================
[2025-07-25 08:44:15,016] INFO in app: ==================================================
[2025-07-25 08:44:15,086] INFO in app: Application logging initialized successfully
[2025-07-25 08:44:15,088] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 08:44:15,089] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 08:44:15,092] INFO in app: System encoding: utf-8
[2025-07-25 08:44:15,094] INFO in app: ==================================================
[2025-07-25 08:44:25,380] INFO in app: ==================================================
[2025-07-25 08:44:25,389] INFO in app: Application logging initialized successfully
[2025-07-25 08:44:25,391] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 08:44:25,393] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 08:44:25,395] INFO in app: System encoding: utf-8
[2025-07-25 08:44:25,399] INFO in app: ==================================================
[2025-07-25 09:02:57,889] INFO in app: ==================================================
[2025-07-25 09:02:57,897] INFO in app: Application logging initialized successfully
[2025-07-25 09:02:57,899] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 09:02:57,900] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 09:02:57,904] INFO in app: System encoding: utf-8
[2025-07-25 09:02:57,906] INFO in app: ==================================================
[2025-07-25 09:05:13,218] INFO in app: ==================================================
[2025-07-25 09:05:13,224] INFO in app: Application logging initialized successfully
[2025-07-25 09:05:13,226] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 09:05:13,228] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 09:05:13,230] INFO in app: System encoding: utf-8
[2025-07-25 09:05:13,234] INFO in app: ==================================================
[2025-07-25 09:05:19,357] INFO in app: ==================================================
[2025-07-25 09:05:19,363] INFO in app: Application logging initialized successfully
[2025-07-25 09:05:19,366] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 09:05:19,368] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 09:05:19,369] INFO in app: System encoding: utf-8
[2025-07-25 09:05:19,373] INFO in app: ==================================================
[2025-07-25 09:05:24,435] INFO in app: ==================================================
[2025-07-25 09:05:24,441] INFO in app: Application logging initialized successfully
[2025-07-25 09:05:24,443] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 09:05:24,447] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 09:05:24,449] INFO in app: System encoding: utf-8
[2025-07-25 09:05:24,452] INFO in app: ==================================================
[2025-07-25 09:05:45,665] ERROR in app: Exception on /sales-dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such column: loan_applications.agent_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7148, in sales_dashboard
    ).group_by(Agent.id).all()
                         ~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2858, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: loan_applications.agent_id
[SQL: SELECT agents.name AS agents_name, agents.region AS agents_region, agents.district AS agents_district, count(loan_applications.id) AS applications, sum(loan_applications.loan_amount) AS total_loan_amount 
FROM agents JOIN loan_applications ON agents.id = loan_applications.agent_id 
WHERE loan_applications.created_at >= ? AND loan_applications.status = ? GROUP BY agents.id]
[parameters: ('2025-07-01', 'approved')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
[2025-07-25 10:08:12,920] INFO in app: ==================================================
[2025-07-25 10:08:12,928] INFO in app: Application logging initialized successfully
[2025-07-25 10:08:12,930] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 10:08:12,932] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 10:08:12,934] INFO in app: System encoding: utf-8
[2025-07-25 10:08:12,942] INFO in app: ==================================================
[2025-07-25 10:08:21,111] INFO in app: ==================================================
[2025-07-25 10:08:21,122] INFO in app: Application logging initialized successfully
[2025-07-25 10:08:21,124] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 10:08:21,126] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 10:08:21,128] INFO in app: System encoding: utf-8
[2025-07-25 10:08:21,130] INFO in app: ==================================================
[2025-07-25 10:18:39,323] INFO in app: ==================================================
[2025-07-25 10:18:39,330] INFO in app: Application logging initialized successfully
[2025-07-25 10:18:39,332] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 10:18:39,334] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 10:18:39,336] INFO in app: System encoding: utf-8
[2025-07-25 10:18:39,338] INFO in app: ==================================================
[2025-07-25 10:18:45,289] INFO in app: ==================================================
[2025-07-25 10:18:45,295] INFO in app: Application logging initialized successfully
[2025-07-25 10:18:45,297] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 10:18:45,298] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 10:18:45,300] INFO in app: System encoding: utf-8
[2025-07-25 10:18:45,304] INFO in app: ==================================================
[2025-07-25 10:21:19,650] INFO in app: ==================================================
[2025-07-25 10:21:19,660] INFO in app: Application logging initialized successfully
[2025-07-25 10:21:19,662] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 10:21:19,666] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 10:21:19,669] INFO in app: System encoding: utf-8
[2025-07-25 10:21:19,674] INFO in app: ==================================================
[2025-07-25 10:21:36,039] INFO in app: ==================================================
[2025-07-25 10:21:36,045] INFO in app: Application logging initialized successfully
[2025-07-25 10:21:36,046] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 10:21:36,049] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 10:21:36,051] INFO in app: System encoding: utf-8
[2025-07-25 10:21:36,054] INFO in app: ==================================================
[2025-07-25 10:22:25,607] INFO in app: ==================================================
[2025-07-25 10:22:25,614] INFO in app: Application logging initialized successfully
[2025-07-25 10:22:25,620] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 10:22:25,622] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 10:22:25,626] INFO in app: System encoding: utf-8
[2025-07-25 10:22:25,628] INFO in app: ==================================================
[2025-07-25 10:59:35,951] INFO in app: ==================================================
[2025-07-25 10:59:35,956] INFO in app: Application logging initialized successfully
[2025-07-25 10:59:35,959] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 10:59:35,962] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 10:59:35,964] INFO in app: System encoding: utf-8
[2025-07-25 10:59:35,966] INFO in app: ==================================================
[2025-07-25 11:02:52,052] INFO in app: ==================================================
[2025-07-25 11:02:52,059] INFO in app: Application logging initialized successfully
[2025-07-25 11:02:52,062] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 11:02:52,064] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 11:02:52,068] INFO in app: System encoding: utf-8
[2025-07-25 11:02:52,070] INFO in app: ==================================================
[2025-07-25 11:04:48,468] INFO in app: ==================================================
[2025-07-25 11:04:48,475] INFO in app: Application logging initialized successfully
[2025-07-25 11:04:48,477] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 11:04:48,478] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 11:04:48,480] INFO in app: System encoding: utf-8
[2025-07-25 11:04:48,484] INFO in app: ==================================================
[2025-07-25 11:05:19,542] INFO in app: ==================================================
[2025-07-25 11:05:19,548] INFO in app: Application logging initialized successfully
[2025-07-25 11:05:19,550] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 11:05:19,552] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 11:05:19,554] INFO in app: System encoding: utf-8
[2025-07-25 11:05:19,556] INFO in app: ==================================================
[2025-07-25 11:06:29,131] ERROR in app: Exception on /register [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 2181, in _entity_namespace_key
    return getattr(ns, key)  # type: ignore
AttributeError: type object 'Agent' has no attribute 'is_active'. Did you mean: 'active'?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 504, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 3717, in register_customer_debug
    agents = Agent.query.filter_by(is_active=True).order_by(Agent.name).all()
             ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 1992, in filter_by
    _entity_namespace_key(from_entity, key) == value
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 2183, in _entity_namespace_key
    raise exc.InvalidRequestError(
        'Entity namespace for "%s" has no property "%s"' % (entity, key)
    ) from err
sqlalchemy.exc.InvalidRequestError: Entity namespace for "agents" has no property "is_active"
[2025-07-25 11:23:32,265] ERROR in app: Exception on /register [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 2181, in _entity_namespace_key
    return getattr(ns, key)  # type: ignore
AttributeError: type object 'Agent' has no attribute 'is_active'. Did you mean: 'active'?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 504, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 3717, in register_customer_debug
    agents = Agent.query.filter_by(is_active=True).order_by(Agent.name).all()
             ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 1992, in filter_by
    _entity_namespace_key(from_entity, key) == value
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 2183, in _entity_namespace_key
    raise exc.InvalidRequestError(
        'Entity namespace for "%s" has no property "%s"' % (entity, key)
    ) from err
sqlalchemy.exc.InvalidRequestError: Entity namespace for "agents" has no property "is_active"
[2025-07-25 11:32:46,645] INFO in app: ==================================================
[2025-07-25 11:32:46,651] INFO in app: Application logging initialized successfully
[2025-07-25 11:32:46,654] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 11:32:46,655] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 11:32:46,657] INFO in app: System encoding: utf-8
[2025-07-25 11:32:46,659] INFO in app: ==================================================
[2025-07-25 11:32:52,573] ERROR in app: Exception on /register [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 2181, in _entity_namespace_key
    return getattr(ns, key)  # type: ignore
AttributeError: type object 'Agent' has no attribute 'is_active'. Did you mean: 'active'?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 504, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 3717, in register_customer_debug
    agents = Agent.query.filter_by(is_active=True).order_by(Agent.name).all()
             ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 1992, in filter_by
    _entity_namespace_key(from_entity, key) == value
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 2183, in _entity_namespace_key
    raise exc.InvalidRequestError(
        'Entity namespace for "%s" has no property "%s"' % (entity, key)
    ) from err
sqlalchemy.exc.InvalidRequestError: Entity namespace for "agents" has no property "is_active"
[2025-07-25 11:33:22,550] INFO in app: ==================================================
[2025-07-25 11:33:22,557] INFO in app: Application logging initialized successfully
[2025-07-25 11:33:22,559] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 11:33:22,560] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 11:33:22,562] INFO in app: System encoding: utf-8
[2025-07-25 11:33:22,564] INFO in app: ==================================================
[2025-07-25 11:35:41,370] INFO in app: ==================================================
[2025-07-25 11:35:41,376] INFO in app: Application logging initialized successfully
[2025-07-25 11:35:41,377] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 11:35:41,379] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 11:35:41,381] INFO in app: System encoding: utf-8
[2025-07-25 11:35:41,383] INFO in app: ==================================================
[2025-07-25 11:41:40,342] INFO in app: ==================================================
[2025-07-25 11:41:40,348] INFO in app: Application logging initialized successfully
[2025-07-25 11:41:40,351] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 11:41:40,355] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 11:41:40,360] INFO in app: System encoding: utf-8
[2025-07-25 11:41:40,362] INFO in app: ==================================================
[2025-07-25 11:49:44,004] INFO in app: ==================================================
[2025-07-25 11:49:44,037] INFO in app: Application logging initialized successfully
[2025-07-25 11:49:44,041] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 11:49:44,048] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 11:49:44,065] INFO in app: System encoding: utf-8
[2025-07-25 11:49:44,073] INFO in app: ==================================================
[2025-07-25 11:49:52,793] ERROR in app: Exception on / [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 3704, in home
    return render_template('home.html')
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\home.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\home.html", line 77, in block 'content'
    <a href="{{ url_for('create_agent') }}" class="btn btn-primary btn-sm">Add Agent</a>
    ^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'create_agent'. Did you mean 'create_loan' instead?
[2025-07-25 11:50:49,606] INFO in app: ==================================================
[2025-07-25 11:50:49,611] INFO in app: Application logging initialized successfully
[2025-07-25 11:50:49,613] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 11:50:49,615] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 11:50:49,617] INFO in app: System encoding: utf-8
[2025-07-25 11:50:49,619] INFO in app: ==================================================
[2025-07-25 11:51:03,471] ERROR in app: Exception on /agents/add [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7183, in add_agent
    return render_template('agents/add_agent.html')
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: agents/add_agent.html
[2025-07-25 11:52:02,632] INFO in app: ==================================================
[2025-07-25 11:52:02,637] INFO in app: Application logging initialized successfully
[2025-07-25 11:52:02,640] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 11:52:02,641] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 11:52:02,643] INFO in app: System encoding: utf-8
[2025-07-25 11:52:02,645] INFO in app: ==================================================
[2025-07-25 11:52:05,463] ERROR in app: Exception on /agents/add [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7183, in add_agent
    return render_template('agents/add_agent.html')
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: agents/add_agent.html
[2025-07-25 13:11:38,827] INFO in app: ==================================================
[2025-07-25 13:11:38,833] INFO in app: Application logging initialized successfully
[2025-07-25 13:11:38,837] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 13:11:38,840] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 13:11:38,842] INFO in app: System encoding: utf-8
[2025-07-25 13:11:38,844] INFO in app: ==================================================
[2025-07-25 13:12:16,420] ERROR in app: Exception on /agents/add [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7183, in add_agent
    return render_template('agents/add_agent.html')
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: agents/add_agent.html
[2025-07-25 13:12:32,586] INFO in app: ==================================================
[2025-07-25 13:12:32,593] INFO in app: Application logging initialized successfully
[2025-07-25 13:12:32,596] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 13:12:32,598] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 13:12:32,601] INFO in app: System encoding: utf-8
[2025-07-25 13:12:32,605] INFO in app: ==================================================
[2025-07-25 13:12:41,860] ERROR in app: Exception on /agents/add [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7183, in add_agent
    return render_template('agents/add_agent.html')
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: agents/add_agent.html
[2025-07-25 13:49:00,753] INFO in app: ==================================================
[2025-07-25 13:49:00,759] INFO in app: Application logging initialized successfully
[2025-07-25 13:49:00,761] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 13:49:00,763] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 13:49:00,765] INFO in app: System encoding: utf-8
[2025-07-25 13:49:00,766] INFO in app: ==================================================
[2025-07-25 14:18:48,117] INFO in app: ==================================================
[2025-07-25 14:18:48,123] INFO in app: Application logging initialized successfully
[2025-07-25 14:18:48,125] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 14:18:48,126] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 14:18:48,128] INFO in app: System encoding: utf-8
[2025-07-25 14:18:48,130] INFO in app: ==================================================
[2025-07-25 14:19:14,622] ERROR in app: Exception on /agents/add [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7177, in add_agent
    new_agent = Agent(name=name, phone=phone, email=email, district=district, region=region)
  File "<string>", line 4, in __init__
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
        "%r is an invalid keyword argument for %s" % (k, cls_.__name__)
    )
TypeError: 'phone' is an invalid keyword argument for Agent
[2025-07-25 14:21:32,968] INFO in app: ==================================================
[2025-07-25 14:21:32,974] INFO in app: Application logging initialized successfully
[2025-07-25 14:21:32,976] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 14:21:32,978] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 14:21:32,980] INFO in app: System encoding: utf-8
[2025-07-25 14:21:32,982] INFO in app: ==================================================
[2025-07-25 14:21:37,932] ERROR in app: Exception on /agents/add [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7177, in add_agent
    new_agent = Agent(name=name, phone=phone, email=email, district=district, region=region)
  File "<string>", line 4, in __init__
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
        "%r is an invalid keyword argument for %s" % (k, cls_.__name__)
    )
TypeError: 'phone' is an invalid keyword argument for Agent
[2025-07-25 14:21:47,372] ERROR in app: Exception on /agents/add [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7177, in add_agent
    new_agent = Agent(name=name, phone=phone, email=email, district=district, region=region)
  File "<string>", line 4, in __init__
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
        "%r is an invalid keyword argument for %s" % (k, cls_.__name__)
    )
TypeError: 'phone' is an invalid keyword argument for Agent
[2025-07-25 14:21:59,501] ERROR in app: Exception on /agents/add [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7177, in add_agent
    new_agent = Agent(name=name, phone=phone, email=email, district=district, region=region)
  File "<string>", line 4, in __init__
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
        "%r is an invalid keyword argument for %s" % (k, cls_.__name__)
    )
TypeError: 'phone' is an invalid keyword argument for Agent
[2025-07-25 14:22:28,172] INFO in app: ==================================================
[2025-07-25 14:22:28,178] INFO in app: Application logging initialized successfully
[2025-07-25 14:22:28,180] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 14:22:28,181] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 14:22:28,183] INFO in app: System encoding: utf-8
[2025-07-25 14:22:28,184] INFO in app: ==================================================
[2025-07-25 14:22:37,789] ERROR in app: Exception on /agents/add [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7177, in add_agent
    new_agent = Agent(name=name, phone=phone, email=email, district=district, region=region)
  File "<string>", line 4, in __init__
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
        "%r is an invalid keyword argument for %s" % (k, cls_.__name__)
    )
TypeError: 'phone' is an invalid keyword argument for Agent
[2025-07-25 14:22:50,264] INFO in app: ==================================================
[2025-07-25 14:22:50,270] INFO in app: Application logging initialized successfully
[2025-07-25 14:22:50,272] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 14:22:50,274] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 14:22:50,275] INFO in app: System encoding: utf-8
[2025-07-25 14:22:50,277] INFO in app: ==================================================
[2025-07-25 14:23:13,073] ERROR in app: Exception on /agents/add [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7177, in add_agent
    new_agent = Agent(name=name, phone=phone, email=email, district=district, region=region)
  File "<string>", line 4, in __init__
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
        "%r is an invalid keyword argument for %s" % (k, cls_.__name__)
    )
TypeError: 'phone' is an invalid keyword argument for Agent
[2025-07-25 14:25:27,247] INFO in app: ==================================================
[2025-07-25 14:25:27,253] INFO in app: Application logging initialized successfully
[2025-07-25 14:25:27,256] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 14:25:27,258] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 14:25:27,260] INFO in app: System encoding: utf-8
[2025-07-25 14:25:27,264] INFO in app: ==================================================
[2025-07-25 15:41:09,811] INFO in app: ==================================================
[2025-07-25 15:41:09,819] INFO in app: Application logging initialized successfully
[2025-07-25 15:41:09,821] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 15:41:09,822] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 15:41:09,825] INFO in app: System encoding: utf-8
[2025-07-25 15:41:09,828] INFO in app: ==================================================
[2025-07-25 15:41:56,298] INFO in app: ==================================================
[2025-07-25 15:41:56,309] INFO in app: Application logging initialized successfully
[2025-07-25 15:41:56,312] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 15:41:56,314] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 15:41:56,320] INFO in app: System encoding: utf-8
[2025-07-25 15:41:56,321] INFO in app: ==================================================
[2025-07-25 15:43:22,686] INFO in app: ==================================================
[2025-07-25 15:43:22,692] INFO in app: Application logging initialized successfully
[2025-07-25 15:43:22,694] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 15:43:22,696] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 15:43:22,698] INFO in app: System encoding: utf-8
[2025-07-25 15:43:22,701] INFO in app: ==================================================
[2025-07-25 15:43:36,299] INFO in app: ==================================================
[2025-07-25 15:43:36,307] INFO in app: Application logging initialized successfully
[2025-07-25 15:43:36,309] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 15:43:36,311] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 15:43:36,313] INFO in app: System encoding: utf-8
[2025-07-25 15:43:36,318] INFO in app: ==================================================
[2025-07-25 15:44:51,483] INFO in app: Found 1 loans for customer 202507000001
[2025-07-25 15:44:51,488] INFO in app: Customer ID: 1
[2025-07-25 15:44:51,492] INFO in app: Found Loans: [('124000001', 'active')]
[2025-07-25 15:44:52,947] INFO in app: Found 1 loans for customer 202507000001
[2025-07-25 15:44:52,959] INFO in app: Customer ID: 1
[2025-07-25 15:44:52,963] INFO in app: Found Loans: [('124000001', 'active')]
[2025-07-25 15:45:11,886] INFO in app: Found 2 loans for customer 202507000001
[2025-07-25 15:45:11,888] INFO in app: Customer ID: 1
[2025-07-25 15:45:11,890] INFO in app: Found Loans: [('124000001', 'active'), ('103000002', 'active')]
[2025-07-25 16:02:50,965] INFO in app: ==================================================
[2025-07-25 16:02:50,970] INFO in app: Application logging initialized successfully
[2025-07-25 16:02:50,972] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 16:02:50,975] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 16:02:50,977] INFO in app: System encoding: utf-8
[2025-07-25 16:02:50,979] INFO in app: ==================================================
[2025-07-25 16:09:18,143] INFO in app: ==================================================
[2025-07-25 16:09:18,151] INFO in app: Application logging initialized successfully
[2025-07-25 16:09:18,153] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 16:09:18,154] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 16:09:18,155] INFO in app: System encoding: utf-8
[2025-07-25 16:09:18,156] INFO in app: ==================================================
[2025-07-25 16:14:05,775] INFO in app: ==================================================
[2025-07-25 16:14:05,783] INFO in app: Application logging initialized successfully
[2025-07-25 16:14:05,785] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 16:14:05,787] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 16:14:05,790] INFO in app: System encoding: utf-8
[2025-07-25 16:14:05,794] INFO in app: ==================================================
[2025-07-25 16:22:16,866] INFO in app: ==================================================
[2025-07-25 16:22:16,874] INFO in app: Application logging initialized successfully
[2025-07-25 16:22:16,877] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 16:22:16,879] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 16:22:16,882] INFO in app: System encoding: utf-8
[2025-07-25 16:22:16,886] INFO in app: ==================================================
[2025-07-25 16:22:51,069] INFO in app: ==================================================
[2025-07-25 16:22:51,075] INFO in app: Application logging initialized successfully
[2025-07-25 16:22:51,078] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 16:22:51,080] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 16:22:51,082] INFO in app: System encoding: utf-8
[2025-07-25 16:22:51,086] INFO in app: ==================================================
[2025-07-25 16:33:27,402] INFO in app: ==================================================
[2025-07-25 16:33:27,408] INFO in app: Application logging initialized successfully
[2025-07-25 16:33:27,410] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 16:33:27,412] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 16:33:27,414] INFO in app: System encoding: utf-8
[2025-07-25 16:33:27,419] INFO in app: ==================================================
[2025-07-25 16:33:36,748] ERROR in app: Exception on /loans [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 4060, in view_loans
    return render_template("view_loans.html", loans=processed_loans)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\view_loans.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\view_loans.html", line 122, in block 'content'
    {% set all_docs = (entry.customer.documents + entry.loan.documents)|list %}
    ^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'app.Customer object' has no attribute 'documents'
[2025-07-25 16:36:05,203] INFO in app: ==================================================
[2025-07-25 16:36:05,209] INFO in app: Application logging initialized successfully
[2025-07-25 16:36:05,212] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 16:36:05,213] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 16:36:05,215] INFO in app: System encoding: utf-8
[2025-07-25 16:36:05,218] INFO in app: ==================================================
[2025-07-25 16:36:25,462] ERROR in app: Exception on /approve_customers [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 3993, in approve_customers
    joinedload(Customer.documents)
               ^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Customer' has no attribute 'documents'
[2025-07-25 16:38:36,373] INFO in app: ==================================================
[2025-07-25 16:38:36,380] INFO in app: Application logging initialized successfully
[2025-07-25 16:38:36,385] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 16:38:36,387] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 16:38:36,389] INFO in app: System encoding: utf-8
[2025-07-25 16:38:36,391] INFO in app: ==================================================
[2025-07-25 16:57:01,344] INFO in app: ==================================================
[2025-07-25 16:57:01,350] INFO in app: Application logging initialized successfully
[2025-07-25 16:57:01,354] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 16:57:01,356] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 16:57:01,363] INFO in app: System encoding: utf-8
[2025-07-25 16:57:01,365] INFO in app: ==================================================
[2025-07-25 17:59:55,613] INFO in app: ==================================================
[2025-07-25 17:59:55,691] INFO in app: Application logging initialized successfully
[2025-07-25 17:59:55,693] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 17:59:55,695] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 17:59:55,696] INFO in app: System encoding: utf-8
[2025-07-25 17:59:55,701] INFO in app: ==================================================
[2025-07-25 18:09:14,104] INFO in app: ==================================================
[2025-07-25 18:09:14,112] INFO in app: Application logging initialized successfully
[2025-07-25 18:09:14,114] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 18:09:14,116] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 18:09:14,118] INFO in app: System encoding: utf-8
[2025-07-25 18:09:14,123] INFO in app: ==================================================
[2025-07-25 18:09:30,884] ERROR in app: Exception on /loans [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 4077, in view_loans
    return render_template("view_loans.html", loans=processed_loans)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\loaders.py", line 138, in load
    code = environment.compile(source, name, filename)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 771, in compile
    self.handle_exception(source=source_hint)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\view_loans.html", line 119, in template
    {% do seen.append(doc.filename) %}
    ^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.TemplateSyntaxError: Encountered unknown tag 'do'. Jinja was looking for the following tags: 'elif' or 'else' or 'endif'. The innermost block that needs to be closed is 'if'.
[2025-07-25 18:21:45,193] INFO in app: ==================================================
[2025-07-25 18:21:45,199] INFO in app: Application logging initialized successfully
[2025-07-25 18:21:45,201] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 18:21:45,203] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 18:21:45,205] INFO in app: System encoding: utf-8
[2025-07-25 18:21:45,209] INFO in app: ==================================================
[2025-07-25 18:25:29,225] INFO in app: ==================================================
[2025-07-25 18:25:29,233] INFO in app: Application logging initialized successfully
[2025-07-25 18:25:29,236] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 18:25:29,239] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 18:25:29,243] INFO in app: System encoding: utf-8
[2025-07-25 18:25:29,247] INFO in app: ==================================================
[2025-07-25 18:46:40,983] INFO in app: ==================================================
[2025-07-25 18:46:40,990] INFO in app: Application logging initialized successfully
[2025-07-25 18:46:40,993] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 18:46:40,995] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 18:46:40,997] INFO in app: System encoding: utf-8
[2025-07-25 18:46:41,001] INFO in app: ==================================================
[2025-07-25 18:46:48,626] ERROR in app: Exception on /loans [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 4103, in view_loans
    return render_template('view_loans.html', loans=processed_loans)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\loaders.py", line 138, in load
    code = environment.compile(source, name, filename)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 771, in compile
    self.handle_exception(source=source_hint)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\view_loans.html", line 132, in template
    {% endfor %}
jinja2.exceptions.TemplateSyntaxError: Encountered unknown tag 'endfor'. Jinja was looking for the following tags: 'endblock'. The innermost block that needs to be closed is 'block'.
[2025-07-25 18:49:45,247] INFO in app: ==================================================
[2025-07-25 18:49:45,254] INFO in app: Application logging initialized successfully
[2025-07-25 18:49:45,256] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 18:49:45,258] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 18:49:45,260] INFO in app: System encoding: utf-8
[2025-07-25 18:49:45,263] INFO in app: ==================================================
[2025-07-25 19:06:28,522] INFO in app: ==================================================
[2025-07-25 19:06:28,528] INFO in app: Application logging initialized successfully
[2025-07-25 19:06:28,532] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 19:06:28,534] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 19:06:28,536] INFO in app: System encoding: utf-8
[2025-07-25 19:06:28,540] INFO in app: ==================================================
[2025-07-25 19:30:26,194] INFO in app: ==================================================
[2025-07-25 19:30:26,199] INFO in app: Application logging initialized successfully
[2025-07-25 19:30:26,201] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 19:30:26,203] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 19:30:26,205] INFO in app: System encoding: utf-8
[2025-07-25 19:30:26,207] INFO in app: ==================================================
[2025-07-27 01:01:51,184] INFO in app: ==================================================
[2025-07-27 01:01:51,278] INFO in app: Application logging initialized successfully
[2025-07-27 01:01:51,280] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-27 01:01:51,281] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-27 01:01:51,284] INFO in app: System encoding: utf-8
[2025-07-27 01:01:51,286] INFO in app: ==================================================
[2025-07-27 01:03:17,206] INFO in app: [DISBURSEMENT] Loan #124000001 | Top-up of: None | Cash to Client: 1500000.0
[2025-07-27 01:03:17,209] INFO in app: [DISBURSEMENT] Loan #103000002 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-27 01:03:17,211] INFO in app: [DISBURSEMENT] Loan #118000003 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-27 01:03:17,213] INFO in app: [DISBURSEMENT] Loan #109000004 | Top-up of: None | Cash to Client: 500000.0
[2025-07-27 01:03:17,220] INFO in app: [DISBURSEMENT] Loan #124000005 | Top-up of: None | Cash to Client: 2000000.0
[2025-07-27 01:03:17,222] INFO in app: [DISBURSEMENT] Loan #118000006 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-27 01:03:17,226] INFO in app: [DISBURSEMENT] Loan #136000007 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-27 01:03:17,229] INFO in app: [DISBURSEMENT] Loan #124000008 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-27 01:03:17,230] INFO in app: [DISBURSEMENT] Loan #118000009 | Top-up of: None | Cash to Client: 500000.0
[2025-07-27 01:03:17,234] INFO in app: [DISBURSEMENT] Loan #136000010 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-27 01:03:29,606] ERROR in app: [DISBURSE] Error for loan 124000001: Instance '<RepaymentSchedule at 0x2348f6b1160>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-27 01:03:29,619] ERROR in app: [DISBURSE] Error for loan 103000002: Instance '<RepaymentSchedule at 0x2348f839e60>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-27 01:03:29,646] ERROR in app: [DISBURSE] Error for loan 118000003: Instance '<RepaymentSchedule at 0x2348f839e60>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-27 01:03:29,666] ERROR in app: [DISBURSE] Error for loan 109000004: Instance '<RepaymentSchedule at 0x2348f83be10>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-27 01:03:29,709] ERROR in app: [DISBURSE] Error for loan 124000005: Instance '<RepaymentSchedule at 0x2348f83be10>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-27 01:03:29,733] ERROR in app: [DISBURSE] Error for loan 118000006: Instance '<RepaymentSchedule at 0x2348f83bee0>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-27 01:03:29,775] ERROR in app: [DISBURSE] Error for loan 136000007: Instance '<RepaymentSchedule at 0x2348f83bee0>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-27 01:03:29,808] ERROR in app: [DISBURSE] Error for loan 124000008: Instance '<RepaymentSchedule at 0x2348f83ba00>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-27 01:03:29,832] ERROR in app: [DISBURSE] Error for loan 118000009: Instance '<RepaymentSchedule at 0x2348f83ba00>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-27 01:03:29,875] ERROR in app: [DISBURSE] Error for loan 136000010: Instance '<RepaymentSchedule at 0x2348f83b860>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-27 01:03:31,618] INFO in app: [DISBURSEMENT] Loan #124000001 | Top-up of: None | Cash to Client: 1500000.0
[2025-07-27 01:03:31,620] INFO in app: [DISBURSEMENT] Loan #103000002 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-27 01:03:31,623] INFO in app: [DISBURSEMENT] Loan #118000003 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-27 01:03:31,626] INFO in app: [DISBURSEMENT] Loan #109000004 | Top-up of: None | Cash to Client: 500000.0
[2025-07-27 01:03:31,628] INFO in app: [DISBURSEMENT] Loan #124000005 | Top-up of: None | Cash to Client: 2000000.0
[2025-07-27 01:03:31,630] INFO in app: [DISBURSEMENT] Loan #118000006 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-27 01:03:31,632] INFO in app: [DISBURSEMENT] Loan #136000007 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-27 01:03:31,634] INFO in app: [DISBURSEMENT] Loan #124000008 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-27 01:03:31,636] INFO in app: [DISBURSEMENT] Loan #118000009 | Top-up of: None | Cash to Client: 500000.0
[2025-07-27 01:03:31,639] INFO in app: [DISBURSEMENT] Loan #136000010 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-27 02:15:48,821] INFO in app: ==================================================
[2025-07-27 02:15:49,636] INFO in app: Application logging initialized successfully
[2025-07-27 02:15:49,727] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-27 02:15:49,951] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-27 02:15:50,274] INFO in app: System encoding: utf-8
[2025-07-27 02:15:50,383] INFO in app: ==================================================
[2025-07-27 03:45:08,048] INFO in app: ==================================================
[2025-07-27 03:45:08,118] INFO in app: Application logging initialized successfully
[2025-07-27 03:45:08,120] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-27 03:45:08,122] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-27 03:45:08,125] INFO in app: System encoding: utf-8
[2025-07-27 03:45:08,126] INFO in app: ==================================================
[2025-07-27 04:01:38,760] INFO in app: ==================================================
[2025-07-27 04:01:38,766] INFO in app: Application logging initialized successfully
[2025-07-27 04:01:38,769] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-27 04:01:38,772] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-27 04:01:38,775] INFO in app: System encoding: utf-8
[2025-07-27 04:01:38,780] INFO in app: ==================================================
[2025-07-27 18:07:21,389] INFO in app: ==================================================
[2025-07-27 18:07:21,551] INFO in app: Application logging initialized successfully
[2025-07-27 18:07:21,565] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-27 18:07:21,567] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-27 18:07:21,599] INFO in app: System encoding: utf-8
[2025-07-27 18:07:21,629] INFO in app: ==================================================
[2025-07-27 18:43:48,253] INFO in app: ==================================================
[2025-07-27 18:43:48,260] INFO in app: Application logging initialized successfully
[2025-07-27 18:43:48,263] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-27 18:43:48,265] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-27 18:43:48,269] INFO in app: System encoding: utf-8
[2025-07-27 18:43:48,275] INFO in app: ==================================================
[2025-07-27 18:49:41,575] INFO in app: ==================================================
[2025-07-27 18:49:41,586] INFO in app: Application logging initialized successfully
[2025-07-27 18:49:41,589] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-27 18:49:41,595] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-27 18:49:41,597] INFO in app: System encoding: utf-8
[2025-07-27 18:49:41,598] INFO in app: ==================================================
[2025-07-27 18:51:52,102] INFO in app: ==================================================
[2025-07-27 18:51:52,119] INFO in app: Application logging initialized successfully
[2025-07-27 18:51:52,129] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-27 18:51:52,133] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-27 18:51:52,137] INFO in app: System encoding: utf-8
[2025-07-27 18:51:52,139] INFO in app: ==================================================
[2025-07-27 19:26:25,758] INFO in app: ==================================================
[2025-07-27 19:26:25,764] INFO in app: Application logging initialized successfully
[2025-07-27 19:26:25,766] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-27 19:26:25,769] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-27 19:26:25,775] INFO in app: System encoding: utf-8
[2025-07-27 19:26:25,778] INFO in app: ==================================================
[2025-07-27 19:26:38,916] ERROR in app: Exception on /repair/documents/page [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 514, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 7366, in repair_documents_page
    return render_template('repair_documents.html',
        instance_path=app.instance_path,
    ...<2 lines>...
        absolute_path=os.path.join(app.instance_path, 'documents')
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\repair_documents.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\repair_documents.html", line 71, in block 'content'
    <a href="{{ url_for('debug_documents') }}" class="btn btn-outline-info">
    ^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'debug_documents'. Did you mean 'view_document' instead?
[2025-07-27 19:44:45,499] INFO in app: ==================================================
[2025-07-27 19:44:45,506] INFO in app: Application logging initialized successfully
[2025-07-27 19:44:45,508] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-27 19:44:45,510] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-27 19:44:45,512] INFO in app: System encoding: utf-8
[2025-07-27 19:44:45,516] INFO in app: ==================================================
[2025-07-27 19:45:10,962] ERROR in app: Exception on /repair/documents/page [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 514, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 7366, in repair_documents_page
    return render_template('repair_documents.html',
        instance_path=app.instance_path,
    ...<2 lines>...
        absolute_path=os.path.join(app.instance_path, 'documents')
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\repair_documents.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\repair_documents.html", line 71, in block 'content'
    <a href="{{ url_for('debug_documents_page') }}" class="btn btn-outline-info">
    ^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'debug_documents_page'. Did you mean 'debug_documents' instead?
[2025-07-27 19:52:55,007] INFO in app: ==================================================
[2025-07-27 19:52:55,014] INFO in app: Application logging initialized successfully
[2025-07-27 19:52:55,017] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-27 19:52:55,022] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-27 19:52:55,026] INFO in app: System encoding: utf-8
[2025-07-27 19:52:55,028] INFO in app: ==================================================
[2025-07-27 19:55:38,045] INFO in app: Found 1 loans for customer 202507000011
[2025-07-27 19:55:38,049] INFO in app: Customer ID: 11
[2025-07-27 19:55:38,053] INFO in app: Found Loans: [('115000012', 'application')]
[2025-07-27 20:03:44,378] ERROR in app: Exception on /loans [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 4146, in view_loans
    doc.file_exists = os.path.exists(doc.path)  # Add existence flag
    ^^^^^^^^^^^^^^^
AttributeError: property 'file_exists' of 'Document' object has no setter
[2025-07-27 20:35:49,833] INFO in app: ==================================================
[2025-07-27 20:35:49,852] INFO in app: Application logging initialized successfully
[2025-07-27 20:35:49,854] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-27 20:35:49,856] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-27 20:35:49,859] INFO in app: System encoding: utf-8
[2025-07-27 20:35:49,862] INFO in app: ==================================================
[2025-07-28 03:37:16,046] INFO in app: ==================================================
[2025-07-28 03:37:16,131] INFO in app: Application logging initialized successfully
[2025-07-28 03:37:16,133] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 03:37:16,134] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 03:37:16,136] INFO in app: System encoding: utf-8
[2025-07-28 03:37:16,139] INFO in app: ==================================================
[2025-07-28 04:30:29,927] INFO in app: ==================================================
[2025-07-28 04:30:29,934] INFO in app: Application logging initialized successfully
[2025-07-28 04:30:29,936] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 04:30:29,938] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 04:30:29,939] INFO in app: System encoding: utf-8
[2025-07-28 04:30:29,941] INFO in app: ==================================================
[2025-07-28 04:38:05,262] INFO in app: [DISBURSEMENT] Loan #124000001 | Top-up of: None | Cash to Client: 1500000.0
[2025-07-28 04:38:05,264] INFO in app: [DISBURSEMENT] Loan #103000002 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-28 04:38:05,267] INFO in app: [DISBURSEMENT] Loan #118000003 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-28 04:38:05,270] INFO in app: [DISBURSEMENT] Loan #109000004 | Top-up of: None | Cash to Client: 500000.0
[2025-07-28 04:38:05,272] INFO in app: [DISBURSEMENT] Loan #124000005 | Top-up of: None | Cash to Client: 2000000.0
[2025-07-28 04:38:05,278] INFO in app: [DISBURSEMENT] Loan #118000006 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-28 04:38:05,282] INFO in app: [DISBURSEMENT] Loan #136000007 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-28 04:38:05,285] INFO in app: [DISBURSEMENT] Loan #124000008 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-28 04:38:05,288] INFO in app: [DISBURSEMENT] Loan #118000009 | Top-up of: None | Cash to Client: 500000.0
[2025-07-28 04:38:05,293] INFO in app: [DISBURSEMENT] Loan #136000010 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-28 04:38:05,295] INFO in app: [DISBURSEMENT] Loan #136000011 | Top-up of: None | Cash to Client: 1200000.0
[2025-07-28 04:38:05,299] INFO in app: [DISBURSEMENT] Loan #115000012 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-28 04:38:05,301] INFO in app: [DISBURSEMENT] Loan #136000013 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-28 04:38:05,302] INFO in app: [DISBURSEMENT] Loan #148000014 | Top-up of: None | Cash to Client: 1300000.0
[2025-07-28 04:38:05,304] INFO in app: [DISBURSEMENT] Loan #136000015 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-28 04:38:11,663] ERROR in app: [DISBURSE] Error for loan 124000001: Instance '<RepaymentSchedule at 0x18432116670>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-28 04:38:11,678] ERROR in app: [DISBURSE] Error for loan 103000002: Instance '<RepaymentSchedule at 0x184321149b0>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-28 04:38:11,714] ERROR in app: [DISBURSE] Error for loan 118000003: Instance '<RepaymentSchedule at 0x184321147d0>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-28 04:38:11,733] ERROR in app: [DISBURSE] Error for loan 109000004: Instance '<RepaymentSchedule at 0x18432117250>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-28 04:38:11,774] ERROR in app: [DISBURSE] Error for loan 124000005: Instance '<RepaymentSchedule at 0x1843213b1b0>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-28 04:38:11,798] ERROR in app: [DISBURSE] Error for loan 118000006: Instance '<RepaymentSchedule at 0x1843213b110>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-28 04:38:11,840] ERROR in app: [DISBURSE] Error for loan 136000007: Instance '<RepaymentSchedule at 0x1843213b2f0>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-28 04:38:11,869] ERROR in app: [DISBURSE] Error for loan 124000008: Instance '<RepaymentSchedule at 0x184321172f0>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-28 04:38:11,897] ERROR in app: [DISBURSE] Error for loan 118000009: Instance '<RepaymentSchedule at 0x1843213b2f0>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-28 04:38:11,939] ERROR in app: [DISBURSE] Error for loan 136000010: Instance '<RepaymentSchedule at 0x18432116cb0>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-28 04:38:11,980] ERROR in app: [DISBURSE] Error for loan 136000011: Instance '<RepaymentSchedule at 0x1843213b2f0>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-28 04:38:12,001] ERROR in app: [DISBURSE] Error for loan 115000012: Instance '<RepaymentSchedule at 0x18432117430>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-28 04:38:12,044] ERROR in app: [DISBURSE] Error for loan 136000013: Instance '<RepaymentSchedule at 0x1843213b2f0>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-28 04:38:12,095] ERROR in app: [DISBURSE] Error for loan 148000014: Instance '<RepaymentSchedule at 0x184321989b0>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-28 04:38:12,136] ERROR in app: [DISBURSE] Error for loan 136000015: Instance '<RepaymentSchedule at 0x18432117610>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-28 04:38:13,634] INFO in app: [DISBURSEMENT] Loan #124000001 | Top-up of: None | Cash to Client: 1500000.0
[2025-07-28 04:38:13,636] INFO in app: [DISBURSEMENT] Loan #103000002 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-28 04:38:13,638] INFO in app: [DISBURSEMENT] Loan #118000003 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-28 04:38:13,641] INFO in app: [DISBURSEMENT] Loan #109000004 | Top-up of: None | Cash to Client: 500000.0
[2025-07-28 04:38:13,643] INFO in app: [DISBURSEMENT] Loan #124000005 | Top-up of: None | Cash to Client: 2000000.0
[2025-07-28 04:38:13,646] INFO in app: [DISBURSEMENT] Loan #118000006 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-28 04:38:13,648] INFO in app: [DISBURSEMENT] Loan #136000007 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-28 04:38:13,649] INFO in app: [DISBURSEMENT] Loan #124000008 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-28 04:38:13,652] INFO in app: [DISBURSEMENT] Loan #118000009 | Top-up of: None | Cash to Client: 500000.0
[2025-07-28 04:38:13,658] INFO in app: [DISBURSEMENT] Loan #136000010 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-28 04:38:13,662] INFO in app: [DISBURSEMENT] Loan #136000011 | Top-up of: None | Cash to Client: 1200000.0
[2025-07-28 04:38:13,667] INFO in app: [DISBURSEMENT] Loan #115000012 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-28 04:38:13,669] INFO in app: [DISBURSEMENT] Loan #136000013 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-28 04:38:13,672] INFO in app: [DISBURSEMENT] Loan #148000014 | Top-up of: None | Cash to Client: 1300000.0
[2025-07-28 04:38:13,675] INFO in app: [DISBURSEMENT] Loan #136000015 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-28 05:21:30,312] INFO in app: Found 1 loans for customer 202507000011
[2025-07-28 05:21:30,317] INFO in app: Customer ID: 11
[2025-07-28 05:21:30,321] INFO in app: Found Loans: [('115000012', 'active')]
[2025-07-28 06:58:39,288] INFO in app: ==================================================
[2025-07-28 06:58:39,382] INFO in app: Application logging initialized successfully
[2025-07-28 06:58:39,386] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 06:58:39,390] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 06:58:39,394] INFO in app: System encoding: utf-8
[2025-07-28 06:58:39,396] INFO in app: ==================================================
[2025-07-28 07:22:29,809] INFO in app: ==================================================
[2025-07-28 07:22:29,815] INFO in app: Application logging initialized successfully
[2025-07-28 07:22:29,817] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 07:22:29,819] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 07:22:29,821] INFO in app: System encoding: utf-8
[2025-07-28 07:22:29,824] INFO in app: ==================================================
[2025-07-28 07:28:29,844] INFO in app: ==================================================
[2025-07-28 07:28:29,851] INFO in app: Application logging initialized successfully
[2025-07-28 07:28:29,854] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 07:28:29,856] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 07:28:29,858] INFO in app: System encoding: utf-8
[2025-07-28 07:28:29,862] INFO in app: ==================================================
[2025-07-28 07:28:59,391] ERROR in app: Exception on /sales_dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7306, in sales_dashboard
    Agent.full_name.label("name"),
    ^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'full_name'
[2025-07-28 07:29:01,632] ERROR in app: Exception on /sales_dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7306, in sales_dashboard
    Agent.full_name.label("name"),
    ^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'full_name'
[2025-07-28 07:29:20,726] ERROR in app: Exception on /sales_dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7306, in sales_dashboard
    Agent.full_name.label("name"),
    ^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'full_name'
[2025-07-28 07:29:23,435] ERROR in app: Exception on /sales_dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7306, in sales_dashboard
    Agent.full_name.label("name"),
    ^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'full_name'
[2025-07-28 07:30:45,025] INFO in app: ==================================================
[2025-07-28 07:30:45,031] INFO in app: Application logging initialized successfully
[2025-07-28 07:30:45,034] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 07:30:45,036] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 07:30:45,039] INFO in app: System encoding: utf-8
[2025-07-28 07:30:45,041] INFO in app: ==================================================
[2025-07-28 07:30:47,854] ERROR in app: Exception on /sales_dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7311, in sales_dashboard
    ).join(Customer, Customer.created_by == Agent.id) \
                     ^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Customer' has no attribute 'created_by'. Did you mean: 'created_at'?
[2025-07-28 07:40:35,419] INFO in app: ==================================================
[2025-07-28 07:40:35,426] INFO in app: Application logging initialized successfully
[2025-07-28 07:40:35,429] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 07:40:35,431] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 07:40:35,433] INFO in app: System encoding: utf-8
[2025-07-28 07:40:35,435] INFO in app: ==================================================
[2025-07-28 07:40:39,829] ERROR in app: Exception on /sales_dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7312, in sales_dashboard
    ).join(Customer, Customer.created_by == Agent.id) \
                     ^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Customer' has no attribute 'created_by'. Did you mean: 'created_at'?
[2025-07-28 07:40:57,815] INFO in app: ==================================================
[2025-07-28 07:40:57,822] INFO in app: Application logging initialized successfully
[2025-07-28 07:40:57,824] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 07:40:57,826] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 07:40:57,828] INFO in app: System encoding: utf-8
[2025-07-28 07:40:57,831] INFO in app: ==================================================
[2025-07-28 18:54:49,423] INFO in app: ==================================================
[2025-07-28 18:54:49,524] INFO in app: Application logging initialized successfully
[2025-07-28 18:54:49,525] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 18:54:49,526] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 18:54:49,529] INFO in app: System encoding: utf-8
[2025-07-28 18:54:49,533] INFO in app: ==================================================
[2025-07-28 19:19:44,125] INFO in app: ==================================================
[2025-07-28 19:19:44,144] INFO in app: Application logging initialized successfully
[2025-07-28 19:19:44,152] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 19:19:44,167] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 19:19:44,180] INFO in app: System encoding: utf-8
[2025-07-28 19:19:44,185] INFO in app: ==================================================
[2025-07-28 19:19:52,707] INFO in app: ==================================================
[2025-07-28 19:19:52,713] INFO in app: Application logging initialized successfully
[2025-07-28 19:19:52,716] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 19:19:52,719] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 19:19:52,724] INFO in app: System encoding: utf-8
[2025-07-28 19:19:52,726] INFO in app: ==================================================
[2025-07-28 19:19:57,276] INFO in app: ==================================================
[2025-07-28 19:19:57,284] INFO in app: Application logging initialized successfully
[2025-07-28 19:19:57,286] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 19:19:57,288] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 19:19:57,290] INFO in app: System encoding: utf-8
[2025-07-28 19:19:57,293] INFO in app: ==================================================
[2025-07-28 19:20:43,371] INFO in app: ==================================================
[2025-07-28 19:20:43,377] INFO in app: Application logging initialized successfully
[2025-07-28 19:20:43,379] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 19:20:43,380] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 19:20:43,381] INFO in app: System encoding: utf-8
[2025-07-28 19:20:43,382] INFO in app: ==================================================
[2025-07-28 19:27:52,788] INFO in app: ==================================================
[2025-07-28 19:27:52,797] INFO in app: Application logging initialized successfully
[2025-07-28 19:27:52,800] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 19:27:52,802] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 19:27:52,810] INFO in app: System encoding: utf-8
[2025-07-28 19:27:52,812] INFO in app: ==================================================
[2025-07-28 19:28:07,701] ERROR in app: Exception on /dashboard/sales [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7332, in sales_dashboard
    active_days = db.session.query(func.count(distinct(Customer.created_at.cast(date))))\
                                                       ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 1705, in cast
    return Cast(self, type_)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 3430, in __init__
    self.type = type_api.to_instance(type_)
                ~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\type_api.py", line 2336, in to_instance
    return typeobj(*arg, **kw)
TypeError: function missing required argument 'year' (pos 1)
[2025-07-28 20:44:01,001] INFO in app: ==================================================
[2025-07-28 20:44:01,010] INFO in app: Application logging initialized successfully
[2025-07-28 20:44:01,013] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 20:44:01,018] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 20:44:01,022] INFO in app: System encoding: utf-8
[2025-07-28 20:44:01,024] INFO in app: ==================================================
[2025-07-28 20:44:23,320] ERROR in app: Exception on /dashboard/sales [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7332, in sales_dashboard
    active_days = db.session.query(func.count(distinct(Customer.created_at.cast(date))))\
                                                       ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 1705, in cast
    return Cast(self, type_)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 3430, in __init__
    self.type = type_api.to_instance(type_)
                ~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\type_api.py", line 2336, in to_instance
    return typeobj(*arg, **kw)
TypeError: function missing required argument 'year' (pos 1)
[2025-07-28 21:01:51,754] INFO in app: ==================================================
[2025-07-28 21:01:51,766] INFO in app: Application logging initialized successfully
[2025-07-28 21:01:51,771] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 21:01:51,774] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 21:01:51,777] INFO in app: System encoding: utf-8
[2025-07-28 21:01:51,791] INFO in app: ==================================================
[2025-07-28 21:01:59,132] ERROR in app: Exception on /dashboard/sales [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7332, in sales_dashboard
    active_days = db.session.query(func.count(distinct(Customer.created_at.cast(date))))\
                                                       ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 1705, in cast
    return Cast(self, type_)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 3430, in __init__
    self.type = type_api.to_instance(type_)
                ~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\type_api.py", line 2336, in to_instance
    return typeobj(*arg, **kw)
TypeError: function missing required argument 'year' (pos 1)
[2025-07-28 21:02:02,309] ERROR in app: Exception on /dashboard/sales [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7332, in sales_dashboard
    active_days = db.session.query(func.count(distinct(Customer.created_at.cast(date))))\
                                                       ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 1705, in cast
    return Cast(self, type_)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 3430, in __init__
    self.type = type_api.to_instance(type_)
                ~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\type_api.py", line 2336, in to_instance
    return typeobj(*arg, **kw)
TypeError: function missing required argument 'year' (pos 1)
[2025-07-28 21:03:13,904] INFO in app: ==================================================
[2025-07-28 21:03:13,912] INFO in app: Application logging initialized successfully
[2025-07-28 21:03:13,917] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 21:03:13,920] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 21:03:13,925] INFO in app: System encoding: utf-8
[2025-07-28 21:03:13,928] INFO in app: ==================================================
[2025-07-28 21:03:19,944] ERROR in app: Exception on /dashboard/sales [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7332, in sales_dashboard
    active_days = db.session.query(func.count(distinct(Customer.created_at.cast(date))))\
                                                       ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 1705, in cast
    return Cast(self, type_)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 3430, in __init__
    self.type = type_api.to_instance(type_)
                ~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\type_api.py", line 2336, in to_instance
    return typeobj(*arg, **kw)
TypeError: function missing required argument 'year' (pos 1)
[2025-07-28 21:05:05,878] INFO in app: ==================================================
[2025-07-28 21:05:05,887] INFO in app: Application logging initialized successfully
[2025-07-28 21:05:05,889] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 21:05:05,897] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 21:05:05,907] INFO in app: System encoding: utf-8
[2025-07-28 21:05:05,910] INFO in app: ==================================================
[2025-07-28 21:05:44,327] INFO in app: ==================================================
[2025-07-28 21:05:44,340] INFO in app: Application logging initialized successfully
[2025-07-28 21:05:44,344] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 21:05:44,346] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 21:05:44,355] INFO in app: System encoding: utf-8
[2025-07-28 21:05:44,357] INFO in app: ==================================================
[2025-07-28 21:06:03,684] INFO in app: ==================================================
[2025-07-28 21:06:03,693] INFO in app: Application logging initialized successfully
[2025-07-28 21:06:03,697] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 21:06:03,701] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 21:06:03,706] INFO in app: System encoding: utf-8
[2025-07-28 21:06:03,709] INFO in app: ==================================================
[2025-07-28 23:01:11,800] INFO in app: ==================================================
[2025-07-28 23:01:11,878] INFO in app: Application logging initialized successfully
[2025-07-28 23:01:11,880] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 23:01:11,881] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 23:01:11,883] INFO in app: System encoding: utf-8
[2025-07-28 23:01:11,884] INFO in app: ==================================================
[2025-07-28 23:03:11,987] INFO in app: ==================================================
[2025-07-28 23:03:11,993] INFO in app: Application logging initialized successfully
[2025-07-28 23:03:11,996] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 23:03:11,998] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 23:03:12,003] INFO in app: System encoding: utf-8
[2025-07-28 23:03:12,005] INFO in app: ==================================================
[2025-07-28 23:47:29,135] INFO in app: ==================================================
[2025-07-28 23:47:29,298] INFO in app: Application logging initialized successfully
[2025-07-28 23:47:29,300] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 23:47:29,302] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 23:47:29,304] INFO in app: System encoding: utf-8
[2025-07-28 23:47:29,310] INFO in app: ==================================================
[2025-07-28 23:48:08,681] ERROR in app: Exception on /agents/add [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7428, in add_agent
    return render_template('agents/add_agent.html')
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: agents/add_agent.html
[2025-07-28 23:49:11,593] INFO in app: ==================================================
[2025-07-28 23:49:11,601] INFO in app: Application logging initialized successfully
[2025-07-28 23:49:11,604] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 23:49:11,606] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 23:49:11,610] INFO in app: System encoding: utf-8
[2025-07-28 23:49:11,614] INFO in app: ==================================================
[2025-07-29 09:24:30,854] INFO in app: ==================================================
[2025-07-29 09:24:30,980] INFO in app: Application logging initialized successfully
[2025-07-29 09:24:30,982] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 09:24:30,987] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 09:24:31,009] INFO in app: System encoding: utf-8
[2025-07-29 09:24:31,017] INFO in app: ==================================================
[2025-07-29 09:46:18,649] INFO in app: ==================================================
[2025-07-29 09:46:18,658] INFO in app: Application logging initialized successfully
[2025-07-29 09:46:18,660] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 09:46:18,662] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 09:46:18,663] INFO in app: System encoding: utf-8
[2025-07-29 09:46:18,667] INFO in app: ==================================================
[2025-07-29 09:47:28,668] INFO in app: ==================================================
[2025-07-29 09:47:28,673] INFO in app: Application logging initialized successfully
[2025-07-29 09:47:28,676] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 09:47:28,678] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 09:47:28,680] INFO in app: System encoding: utf-8
[2025-07-29 09:47:28,686] INFO in app: ==================================================
[2025-07-29 09:48:33,898] INFO in app: ==================================================
[2025-07-29 09:48:33,904] INFO in app: Application logging initialized successfully
[2025-07-29 09:48:33,907] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 09:48:33,911] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 09:48:33,917] INFO in app: System encoding: utf-8
[2025-07-29 09:48:33,919] INFO in app: ==================================================
[2025-07-29 09:52:22,821] ERROR in app: Exception on /agents/team/add [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7475, in add_team_with_agents
    leader = Agent(
        name=request.form['leader_name'],
    ...<2 lines>...
        role='Team Leader'
    )
  File "<string>", line 4, in __init__
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
        "%r is an invalid keyword argument for %s" % (k, cls_.__name__)
    )
TypeError: 'email' is an invalid keyword argument for Agent
[2025-07-29 09:53:38,783] INFO in app: ==================================================
[2025-07-29 09:53:38,792] INFO in app: Application logging initialized successfully
[2025-07-29 09:53:38,794] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 09:53:38,796] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 09:53:38,797] INFO in app: System encoding: utf-8
[2025-07-29 09:53:38,800] INFO in app: ==================================================
[2025-07-29 09:53:50,272] INFO in app: ==================================================
[2025-07-29 09:53:50,278] INFO in app: Application logging initialized successfully
[2025-07-29 09:53:50,280] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 09:53:50,282] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 09:53:50,283] INFO in app: System encoding: utf-8
[2025-07-29 09:53:50,285] INFO in app: ==================================================
[2025-07-29 09:53:58,585] INFO in app: ==================================================
[2025-07-29 09:53:58,592] INFO in app: Application logging initialized successfully
[2025-07-29 09:53:58,594] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 09:53:58,595] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 09:53:58,597] INFO in app: System encoding: utf-8
[2025-07-29 09:53:58,598] INFO in app: ==================================================
[2025-07-29 09:54:03,326] INFO in app: ==================================================
[2025-07-29 09:54:03,334] INFO in app: Application logging initialized successfully
[2025-07-29 09:54:03,337] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 09:54:03,339] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 09:54:03,340] INFO in app: System encoding: utf-8
[2025-07-29 09:54:03,343] INFO in app: ==================================================
[2025-07-29 09:54:11,215] ERROR in app: Exception on /agents/team/add [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7476, in add_team_with_agents
    leader = Agent(
        name=request.form['leader_name'],
    ...<2 lines>...
        role='Team Leader'
    )
  File "<string>", line 4, in __init__
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
        "%r is an invalid keyword argument for %s" % (k, cls_.__name__)
    )
TypeError: 'role' is an invalid keyword argument for Agent
[2025-07-29 09:56:17,606] INFO in app: ==================================================
[2025-07-29 09:56:17,613] INFO in app: Application logging initialized successfully
[2025-07-29 09:56:17,616] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 09:56:17,617] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 09:56:17,623] INFO in app: System encoding: utf-8
[2025-07-29 09:56:17,625] INFO in app: ==================================================
[2025-07-29 09:56:26,813] INFO in app: ==================================================
[2025-07-29 09:56:26,819] INFO in app: Application logging initialized successfully
[2025-07-29 09:56:26,822] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 09:56:26,824] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 09:56:26,827] INFO in app: System encoding: utf-8
[2025-07-29 09:56:26,829] INFO in app: ==================================================
[2025-07-29 09:56:32,517] INFO in app: ==================================================
[2025-07-29 09:56:32,526] INFO in app: Application logging initialized successfully
[2025-07-29 09:56:32,529] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 09:56:32,533] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 09:56:32,538] INFO in app: System encoding: utf-8
[2025-07-29 09:56:32,540] INFO in app: ==================================================
[2025-07-29 09:56:36,878] INFO in app: ==================================================
[2025-07-29 09:56:36,885] INFO in app: Application logging initialized successfully
[2025-07-29 09:56:36,887] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 09:56:36,889] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 09:56:36,891] INFO in app: System encoding: utf-8
[2025-07-29 09:56:36,894] INFO in app: ==================================================
[2025-07-29 09:56:43,671] ERROR in app: Exception on /agents [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7472, in view_agents
    return render_template('agents/view_agents.html', agents=agents)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\agents\view_agents.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\agents\view_agents.html", line 9, in block 'content'
    <a href="{{ url_for('add_agent') }}" class="btn btn-sm btn-success">
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'add_agent'. Did you mean 'add_client' instead?
[2025-07-29 09:59:30,424] INFO in app: ==================================================
[2025-07-29 09:59:30,431] INFO in app: Application logging initialized successfully
[2025-07-29 09:59:30,434] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 09:59:30,436] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 09:59:30,439] INFO in app: System encoding: utf-8
[2025-07-29 09:59:30,444] INFO in app: ==================================================
[2025-07-29 11:28:01,710] INFO in app: ==================================================
[2025-07-29 11:28:01,783] INFO in app: Application logging initialized successfully
[2025-07-29 11:28:01,784] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 11:28:01,785] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 11:28:01,787] INFO in app: System encoding: utf-8
[2025-07-29 11:28:01,788] INFO in app: ==================================================
[2025-07-29 12:19:51,758] INFO in app: ==================================================
[2025-07-29 12:19:51,768] INFO in app: Application logging initialized successfully
[2025-07-29 12:19:51,770] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 12:19:51,773] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 12:19:51,776] INFO in app: System encoding: utf-8
[2025-07-29 12:19:51,778] INFO in app: ==================================================
[2025-07-29 12:26:05,987] INFO in app: ==================================================
[2025-07-29 12:26:06,005] INFO in app: Application logging initialized successfully
[2025-07-29 12:26:06,022] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 12:26:06,049] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 12:26:06,056] INFO in app: System encoding: utf-8
[2025-07-29 12:26:06,074] INFO in app: ==================================================
[2025-07-29 12:26:13,331] INFO in app: ==================================================
[2025-07-29 12:26:13,338] INFO in app: Application logging initialized successfully
[2025-07-29 12:26:13,342] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 12:26:13,344] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 12:26:13,346] INFO in app: System encoding: utf-8
[2025-07-29 12:26:13,348] INFO in app: ==================================================
[2025-07-29 13:04:54,246] INFO in app: ==================================================
[2025-07-29 13:04:54,256] INFO in app: Application logging initialized successfully
[2025-07-29 13:04:54,258] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 13:04:54,259] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 13:04:54,260] INFO in app: System encoding: utf-8
[2025-07-29 13:04:54,262] INFO in app: ==================================================
[2025-07-29 13:26:10,116] INFO in app: ==================================================
[2025-07-29 13:26:10,124] INFO in app: Application logging initialized successfully
[2025-07-29 13:26:10,128] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 13:26:10,130] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 13:26:10,135] INFO in app: System encoding: utf-8
[2025-07-29 13:26:10,137] INFO in app: ==================================================
[2025-07-29 13:48:09,584] INFO in app: ==================================================
[2025-07-29 13:48:09,591] INFO in app: Application logging initialized successfully
[2025-07-29 13:48:09,594] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 13:48:09,597] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 13:48:09,600] INFO in app: System encoding: utf-8
[2025-07-29 13:48:09,606] INFO in app: ==================================================
[2025-07-29 13:48:16,903] INFO in app: ==================================================
[2025-07-29 13:48:16,911] INFO in app: Application logging initialized successfully
[2025-07-29 13:48:16,913] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 13:48:16,915] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 13:48:16,918] INFO in app: System encoding: utf-8
[2025-07-29 13:48:16,921] INFO in app: ==================================================
[2025-07-29 13:48:31,746] INFO in app: ==================================================
[2025-07-29 13:48:31,754] INFO in app: Application logging initialized successfully
[2025-07-29 13:48:31,759] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 13:48:31,766] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 13:48:31,772] INFO in app: System encoding: utf-8
[2025-07-29 13:48:31,774] INFO in app: ==================================================
[2025-07-29 13:53:28,585] INFO in app: ==================================================
[2025-07-29 13:53:28,591] INFO in app: Application logging initialized successfully
[2025-07-29 13:53:28,593] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 13:53:28,595] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 13:53:28,597] INFO in app: System encoding: utf-8
[2025-07-29 13:53:28,600] INFO in app: ==================================================
[2025-07-29 13:53:41,271] INFO in app: ==================================================
[2025-07-29 13:53:41,278] INFO in app: Application logging initialized successfully
[2025-07-29 13:53:41,280] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 13:53:41,282] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 13:53:41,284] INFO in app: System encoding: utf-8
[2025-07-29 13:53:41,286] INFO in app: ==================================================
[2025-07-29 13:53:50,387] INFO in app: ==================================================
[2025-07-29 13:53:50,399] INFO in app: Application logging initialized successfully
[2025-07-29 13:53:50,401] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 13:53:50,404] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 13:53:50,407] INFO in app: System encoding: utf-8
[2025-07-29 13:53:50,409] INFO in app: ==================================================
[2025-07-29 13:53:56,945] INFO in app: ==================================================
[2025-07-29 13:53:56,953] INFO in app: Application logging initialized successfully
[2025-07-29 13:53:56,957] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 13:53:56,960] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 13:53:56,963] INFO in app: System encoding: utf-8
[2025-07-29 13:53:56,965] INFO in app: ==================================================
[2025-07-29 13:58:48,252] INFO in app: ==================================================
[2025-07-29 13:58:48,264] INFO in app: Application logging initialized successfully
[2025-07-29 13:58:48,275] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 13:58:48,280] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 13:58:48,295] INFO in app: System encoding: utf-8
[2025-07-29 13:58:48,335] INFO in app: ==================================================
[2025-07-29 13:58:54,954] INFO in app: ==================================================
[2025-07-29 13:58:54,965] INFO in app: Application logging initialized successfully
[2025-07-29 13:58:54,969] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 13:58:54,976] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 13:58:54,981] INFO in app: System encoding: utf-8
[2025-07-29 13:58:54,984] INFO in app: ==================================================
[2025-07-29 13:59:00,974] INFO in app: ==================================================
[2025-07-29 13:59:00,986] INFO in app: Application logging initialized successfully
[2025-07-29 13:59:00,989] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 13:59:01,002] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 13:59:01,007] INFO in app: System encoding: utf-8
[2025-07-29 13:59:01,012] INFO in app: ==================================================
[2025-07-29 15:01:30,178] INFO in app: ==================================================
[2025-07-29 15:01:30,185] INFO in app: Application logging initialized successfully
[2025-07-29 15:01:30,187] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 15:01:30,190] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 15:01:30,192] INFO in app: System encoding: utf-8
[2025-07-29 15:01:30,196] INFO in app: ==================================================
[2025-07-29 16:09:05,824] INFO in app: ==================================================
[2025-07-29 16:09:05,830] INFO in app: Application logging initialized successfully
[2025-07-29 16:09:05,833] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 16:09:05,835] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 16:09:05,837] INFO in app: System encoding: utf-8
[2025-07-29 16:09:05,840] INFO in app: ==================================================
[2025-07-29 16:46:25,374] INFO in app: ==================================================
[2025-07-29 16:46:25,381] INFO in app: Application logging initialized successfully
[2025-07-29 16:46:25,383] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 16:46:25,385] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 16:46:25,387] INFO in app: System encoding: utf-8
[2025-07-29 16:46:25,392] INFO in app: ==================================================
[2025-07-29 16:47:01,086] INFO in app: ==================================================
[2025-07-29 16:47:01,111] INFO in app: Application logging initialized successfully
[2025-07-29 16:47:01,113] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 16:47:01,126] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 16:47:01,135] INFO in app: System encoding: utf-8
[2025-07-29 16:47:01,151] INFO in app: ==================================================
[2025-07-29 17:47:40,953] INFO in app: ==================================================
[2025-07-29 17:47:40,961] INFO in app: Application logging initialized successfully
[2025-07-29 17:47:40,964] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 17:47:40,966] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 17:47:40,969] INFO in app: System encoding: utf-8
[2025-07-29 17:47:40,974] INFO in app: ==================================================
[2025-07-29 20:31:37,784] INFO in app: ==================================================
[2025-07-29 20:31:37,796] INFO in app: Application logging initialized successfully
[2025-07-29 20:31:37,798] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 20:31:37,800] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 20:31:37,805] INFO in app: System encoding: utf-8
[2025-07-29 20:31:37,807] INFO in app: ==================================================
[2025-07-29 20:31:43,154] INFO in app: ==================================================
[2025-07-29 20:31:43,162] INFO in app: Application logging initialized successfully
[2025-07-29 20:31:43,164] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 20:31:43,165] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 20:31:43,167] INFO in app: System encoding: utf-8
[2025-07-29 20:31:43,168] INFO in app: ==================================================
[2025-07-29 21:07:00,144] INFO in app: ==================================================
[2025-07-29 21:07:00,153] INFO in app: Application logging initialized successfully
[2025-07-29 21:07:00,167] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 21:07:00,170] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 21:07:00,173] INFO in app: System encoding: utf-8
[2025-07-29 21:07:00,177] INFO in app: ==================================================
[2025-07-30 05:10:36,225] INFO in app: ==================================================
[2025-07-30 05:10:36,329] INFO in app: Application logging initialized successfully
[2025-07-30 05:10:36,331] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 05:10:36,333] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 05:10:36,341] INFO in app: System encoding: utf-8
[2025-07-30 05:10:36,345] INFO in app: ==================================================
[2025-07-30 05:43:02,461] INFO in app: ==================================================
[2025-07-30 05:43:02,471] INFO in app: Application logging initialized successfully
[2025-07-30 05:43:02,473] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 05:43:02,482] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 05:43:02,485] INFO in app: System encoding: utf-8
[2025-07-30 05:43:02,488] INFO in app: ==================================================
[2025-07-30 05:43:09,344] INFO in app: ==================================================
[2025-07-30 05:43:09,352] INFO in app: Application logging initialized successfully
[2025-07-30 05:43:09,354] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 05:43:09,357] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 05:43:09,362] INFO in app: System encoding: utf-8
[2025-07-30 05:43:09,365] INFO in app: ==================================================
[2025-07-30 05:43:20,310] INFO in app: ==================================================
[2025-07-30 05:43:20,316] INFO in app: Application logging initialized successfully
[2025-07-30 05:43:20,319] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 05:43:20,321] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 05:43:20,326] INFO in app: System encoding: utf-8
[2025-07-30 05:43:20,329] INFO in app: ==================================================
[2025-07-30 05:56:41,054] INFO in app: ==================================================
[2025-07-30 05:56:41,063] INFO in app: Application logging initialized successfully
[2025-07-30 05:56:41,066] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 05:56:41,069] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 05:56:41,075] INFO in app: System encoding: utf-8
[2025-07-30 05:56:41,078] INFO in app: ==================================================
[2025-07-30 05:56:49,855] INFO in app: ==================================================
[2025-07-30 05:56:49,866] INFO in app: Application logging initialized successfully
[2025-07-30 05:56:49,868] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 05:56:49,870] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 05:56:49,874] INFO in app: System encoding: utf-8
[2025-07-30 05:56:49,877] INFO in app: ==================================================
[2025-07-30 06:13:13,943] INFO in app: ==================================================
[2025-07-30 06:13:13,951] INFO in app: Application logging initialized successfully
[2025-07-30 06:13:13,955] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 06:13:13,957] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 06:13:13,963] INFO in app: System encoding: utf-8
[2025-07-30 06:13:13,970] INFO in app: ==================================================
[2025-07-30 06:19:53,750] INFO in app: ==================================================
[2025-07-30 06:19:53,756] INFO in app: Application logging initialized successfully
[2025-07-30 06:19:53,757] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 06:19:53,759] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 06:19:53,760] INFO in app: System encoding: utf-8
[2025-07-30 06:19:53,762] INFO in app: ==================================================
[2025-07-30 06:20:38,058] INFO in app: ==================================================
[2025-07-30 06:20:38,065] INFO in app: Application logging initialized successfully
[2025-07-30 06:20:38,067] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 06:20:38,068] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 06:20:38,070] INFO in app: System encoding: utf-8
[2025-07-30 06:20:38,073] INFO in app: ==================================================
[2025-07-30 06:21:11,114] INFO in app: ==================================================
[2025-07-30 06:21:11,120] INFO in app: Application logging initialized successfully
[2025-07-30 06:21:11,123] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 06:21:11,125] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 06:21:11,127] INFO in app: System encoding: utf-8
[2025-07-30 06:21:11,130] INFO in app: ==================================================
[2025-07-30 06:21:41,032] INFO in app: ==================================================
[2025-07-30 06:21:41,039] INFO in app: Application logging initialized successfully
[2025-07-30 06:21:41,040] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 06:21:41,042] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 06:21:41,043] INFO in app: System encoding: utf-8
[2025-07-30 06:21:41,046] INFO in app: ==================================================
[2025-07-30 06:22:52,854] INFO in app: ==================================================
[2025-07-30 06:22:52,863] INFO in app: Application logging initialized successfully
[2025-07-30 06:22:52,865] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 06:22:52,868] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 06:22:52,872] INFO in app: System encoding: utf-8
[2025-07-30 06:22:52,877] INFO in app: ==================================================
[2025-07-30 06:27:33,014] INFO in app: ==================================================
[2025-07-30 06:27:33,021] INFO in app: Application logging initialized successfully
[2025-07-30 06:27:33,022] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 06:27:33,024] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 06:27:33,027] INFO in app: System encoding: utf-8
[2025-07-30 06:27:33,028] INFO in app: ==================================================
[2025-07-30 06:28:59,124] INFO in app: ==================================================
[2025-07-30 06:28:59,131] INFO in app: Application logging initialized successfully
[2025-07-30 06:28:59,133] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 06:28:59,134] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 06:28:59,136] INFO in app: System encoding: utf-8
[2025-07-30 06:28:59,138] INFO in app: ==================================================
[2025-07-30 07:20:04,147] INFO in app: ==================================================
[2025-07-30 07:20:04,267] INFO in app: Application logging initialized successfully
[2025-07-30 07:20:04,269] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 07:20:04,271] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 07:20:04,278] INFO in app: System encoding: utf-8
[2025-07-30 07:20:04,284] INFO in app: ==================================================
[2025-07-30 13:56:50,325] INFO in app: ==================================================
[2025-07-30 13:56:50,441] INFO in app: Application logging initialized successfully
[2025-07-30 13:56:50,443] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 13:56:50,445] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 13:56:50,456] INFO in app: System encoding: utf-8
[2025-07-30 13:56:50,475] INFO in app: ==================================================
[2025-07-30 14:33:54,349] INFO in app: ==================================================
[2025-07-30 14:33:54,355] INFO in app: Application logging initialized successfully
[2025-07-30 14:33:54,357] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 14:33:54,359] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 14:33:54,362] INFO in app: System encoding: utf-8
[2025-07-30 14:33:54,369] INFO in app: ==================================================
[2025-07-30 14:45:38,534] INFO in app: ==================================================
[2025-07-30 14:45:38,548] INFO in app: Application logging initialized successfully
[2025-07-30 14:45:38,550] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 14:45:38,552] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 14:45:38,554] INFO in app: System encoding: utf-8
[2025-07-30 14:45:38,556] INFO in app: ==================================================
[2025-07-30 14:46:34,499] INFO in app: ==================================================
[2025-07-30 14:46:34,507] INFO in app: Application logging initialized successfully
[2025-07-30 14:46:34,511] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 14:46:34,513] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 14:46:34,516] INFO in app: System encoding: utf-8
[2025-07-30 14:46:34,519] INFO in app: ==================================================
[2025-07-30 14:46:43,461] INFO in app: ==================================================
[2025-07-30 14:46:43,467] INFO in app: Application logging initialized successfully
[2025-07-30 14:46:43,470] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 14:46:43,474] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 14:46:43,477] INFO in app: System encoding: utf-8
[2025-07-30 14:46:43,478] INFO in app: ==================================================
[2025-07-30 14:47:52,421] ERROR in app: Exception on /agents/team/add [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7504, in add_team_with_agents
    monthly_budget=float(request.form.getlist('agent_budget[]')[i] or 0.0,
                   ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    role='Agent',
    ^^^^^^^^^^^^^
    team_lead_id=leader.id))
    ^^^^^^^^^^^^^^^^^^^^^^^
TypeError: float() takes no keyword arguments
[2025-07-30 14:55:54,165] INFO in app: ==================================================
[2025-07-30 14:55:54,174] INFO in app: Application logging initialized successfully
[2025-07-30 14:55:54,177] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 14:55:54,180] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 14:55:54,183] INFO in app: System encoding: utf-8
[2025-07-30 14:55:54,189] INFO in app: ==================================================
[2025-07-30 14:59:21,678] INFO in app: ==================================================
[2025-07-30 14:59:21,692] INFO in app: Application logging initialized successfully
[2025-07-30 14:59:21,694] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 14:59:21,702] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 14:59:21,706] INFO in app: System encoding: utf-8
[2025-07-30 14:59:21,709] INFO in app: ==================================================
[2025-07-30 15:04:49,384] INFO in app: ==================================================
[2025-07-30 15:04:49,392] INFO in app: Application logging initialized successfully
[2025-07-30 15:04:49,395] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 15:04:49,398] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 15:04:49,408] INFO in app: System encoding: utf-8
[2025-07-30 15:04:49,410] INFO in app: ==================================================
[2025-07-30 15:05:00,185] INFO in app: ==================================================
[2025-07-30 15:05:00,194] INFO in app: Application logging initialized successfully
[2025-07-30 15:05:00,196] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 15:05:00,197] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 15:05:00,200] INFO in app: System encoding: utf-8
[2025-07-30 15:05:00,202] INFO in app: ==================================================
[2025-07-30 15:10:42,465] INFO in app: ==================================================
[2025-07-30 15:10:42,478] INFO in app: Application logging initialized successfully
[2025-07-30 15:10:42,481] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 15:10:42,489] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 15:10:42,494] INFO in app: System encoding: utf-8
[2025-07-30 15:10:42,497] INFO in app: ==================================================
[2025-07-30 15:13:16,955] INFO in app: ==================================================
[2025-07-30 15:13:16,963] INFO in app: Application logging initialized successfully
[2025-07-30 15:13:16,969] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 15:13:16,971] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 15:13:16,974] INFO in app: System encoding: utf-8
[2025-07-30 15:13:16,976] INFO in app: ==================================================
[2025-07-30 15:13:33,948] INFO in app: ==================================================
[2025-07-30 15:13:33,954] INFO in app: Application logging initialized successfully
[2025-07-30 15:13:33,956] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 15:13:33,958] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 15:13:33,961] INFO in app: System encoding: utf-8
[2025-07-30 15:13:33,967] INFO in app: ==================================================
[2025-07-30 15:18:40,370] INFO in app: ==================================================
[2025-07-30 15:18:40,380] INFO in app: Application logging initialized successfully
[2025-07-30 15:18:40,382] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 15:18:40,383] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 15:18:40,385] INFO in app: System encoding: utf-8
[2025-07-30 15:18:40,387] INFO in app: ==================================================
[2025-07-30 15:18:45,967] ERROR in app: Exception on /agents [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7487, in view_agents
    agents = Agent.query.options(db.joinedload(Agent.team_lead)).filter(
                                               ^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'team_lead'. Did you mean: 'team_leader'?
[2025-07-30 15:26:45,090] INFO in app: ==================================================
[2025-07-30 15:26:45,102] INFO in app: Application logging initialized successfully
[2025-07-30 15:26:45,105] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 15:26:45,112] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 15:26:45,120] INFO in app: System encoding: utf-8
[2025-07-30 15:26:45,121] INFO in app: ==================================================
[2025-07-30 15:26:49,172] ERROR in app: Exception on /agents [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7487, in view_agents
    agents = Agent.query.options(db.joinedload(Agent.team_lead)).filter(
                                               ^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'team_lead'. Did you mean: 'team_leader'?
[2025-07-30 15:28:00,972] INFO in app: ==================================================
[2025-07-30 15:28:00,989] INFO in app: Application logging initialized successfully
[2025-07-30 15:28:00,995] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 15:28:00,997] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 15:28:01,010] INFO in app: System encoding: utf-8
[2025-07-30 15:28:01,013] INFO in app: ==================================================
[2025-07-30 15:28:05,788] ERROR in app: Exception on /agents [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7487, in view_agents
    agents = Agent.query.options(db.joinedload(Agent.team_lead)).filter(
                                               ^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'team_lead'. Did you mean: 'team_leader'?
[2025-07-30 15:29:18,342] INFO in app: ==================================================
[2025-07-30 15:29:18,350] INFO in app: Application logging initialized successfully
[2025-07-30 15:29:18,353] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 15:29:18,355] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 15:29:18,364] INFO in app: System encoding: utf-8
[2025-07-30 15:29:18,365] INFO in app: ==================================================
[2025-07-30 15:29:24,167] ERROR in app: Exception on /agents [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7487, in view_agents
    agents = Agent.query.options(db.joinedload(Agent.team_lead)).filter(
                                               ^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'team_lead'. Did you mean: 'team_leader'?
[2025-07-30 15:30:07,347] INFO in app: ==================================================
[2025-07-30 15:30:07,356] INFO in app: Application logging initialized successfully
[2025-07-30 15:30:07,364] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 15:30:07,367] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 15:30:07,370] INFO in app: System encoding: utf-8
[2025-07-30 15:30:07,372] INFO in app: ==================================================
[2025-07-30 15:45:46,744] INFO in app: ==================================================
[2025-07-30 15:45:46,750] INFO in app: Application logging initialized successfully
[2025-07-30 15:45:46,752] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 15:45:46,754] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 15:45:46,756] INFO in app: System encoding: utf-8
[2025-07-30 15:45:46,764] INFO in app: ==================================================
[2025-07-30 15:45:53,432] INFO in app: ==================================================
[2025-07-30 15:45:53,468] INFO in app: Application logging initialized successfully
[2025-07-30 15:45:53,485] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 15:45:53,494] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 15:45:53,497] INFO in app: System encoding: utf-8
[2025-07-30 15:45:53,499] INFO in app: ==================================================
[2025-07-30 15:45:57,971] INFO in app: ==================================================
[2025-07-30 15:45:57,978] INFO in app: Application logging initialized successfully
[2025-07-30 15:45:57,980] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 15:45:57,982] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 15:45:57,984] INFO in app: System encoding: utf-8
[2025-07-30 15:45:57,993] INFO in app: ==================================================
[2025-07-30 15:56:17,268] INFO in app: ==================================================
[2025-07-30 15:56:17,274] INFO in app: Application logging initialized successfully
[2025-07-30 15:56:17,281] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 15:56:17,284] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 15:56:17,288] INFO in app: System encoding: utf-8
[2025-07-30 15:56:17,290] INFO in app: ==================================================
[2025-07-30 15:56:23,753] INFO in app: ==================================================
[2025-07-30 15:56:23,765] INFO in app: Application logging initialized successfully
[2025-07-30 15:56:23,768] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 15:56:23,771] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 15:56:23,777] INFO in app: System encoding: utf-8
[2025-07-30 15:56:23,781] INFO in app: ==================================================
[2025-07-30 16:00:48,131] INFO in app: ==================================================
[2025-07-30 16:00:48,138] INFO in app: Application logging initialized successfully
[2025-07-30 16:00:48,143] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 16:00:48,145] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 16:00:48,148] INFO in app: System encoding: utf-8
[2025-07-30 16:00:48,151] INFO in app: ==================================================
[2025-07-30 16:00:54,159] INFO in app: ==================================================
[2025-07-30 16:00:54,165] INFO in app: Application logging initialized successfully
[2025-07-30 16:00:54,170] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 16:00:54,173] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 16:00:54,177] INFO in app: System encoding: utf-8
[2025-07-30 16:00:54,178] INFO in app: ==================================================
[2025-07-30 16:12:53,601] INFO in app: ==================================================
[2025-07-30 16:12:53,610] INFO in app: Application logging initialized successfully
[2025-07-30 16:12:53,613] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 16:12:53,615] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 16:12:53,617] INFO in app: System encoding: utf-8
[2025-07-30 16:12:53,620] INFO in app: ==================================================
[2025-07-30 16:16:56,700] INFO in app: ==================================================
[2025-07-30 16:16:56,706] INFO in app: Application logging initialized successfully
[2025-07-30 16:16:56,711] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 16:16:56,714] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 16:16:56,717] INFO in app: System encoding: utf-8
[2025-07-30 16:16:56,719] INFO in app: ==================================================
[2025-07-30 16:17:04,919] INFO in app: ==================================================
[2025-07-30 16:17:04,929] INFO in app: Application logging initialized successfully
[2025-07-30 16:17:04,931] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 16:17:04,932] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 16:17:04,934] INFO in app: System encoding: utf-8
[2025-07-30 16:17:04,935] INFO in app: ==================================================
[2025-07-30 16:18:37,387] INFO in app: ==================================================
[2025-07-30 16:18:37,400] INFO in app: Application logging initialized successfully
[2025-07-30 16:18:37,401] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 16:18:37,402] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 16:18:37,403] INFO in app: System encoding: utf-8
[2025-07-30 16:18:37,404] INFO in app: ==================================================
[2025-07-30 19:19:19,126] INFO in app: ==================================================
[2025-07-30 19:19:19,326] INFO in app: Application logging initialized successfully
[2025-07-30 19:19:19,330] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 19:19:19,333] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 19:19:19,362] INFO in app: System encoding: utf-8
[2025-07-30 19:19:19,529] INFO in app: ==================================================
[2025-07-30 19:27:38,491] INFO in app: ==================================================
[2025-07-30 19:27:38,571] INFO in app: Application logging initialized successfully
[2025-07-30 19:27:38,573] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 19:27:38,575] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 19:27:38,577] INFO in app: System encoding: utf-8
[2025-07-30 19:27:38,579] INFO in app: ==================================================
[2025-07-30 19:28:28,902] INFO in app: ==================================================
[2025-07-30 19:28:28,909] INFO in app: Application logging initialized successfully
[2025-07-30 19:28:28,911] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 19:28:28,913] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 19:28:28,916] INFO in app: System encoding: utf-8
[2025-07-30 19:28:28,921] INFO in app: ==================================================
[2025-07-30 20:19:47,098] INFO in app: ==================================================
[2025-07-30 20:19:47,294] INFO in app: Application logging initialized successfully
[2025-07-30 20:19:47,296] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 20:19:47,299] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 20:19:47,302] INFO in app: System encoding: utf-8
[2025-07-30 20:19:47,305] INFO in app: ==================================================
[2025-07-30 22:53:45,312] INFO in app: ==================================================
[2025-07-30 22:53:45,462] INFO in app: Application logging initialized successfully
[2025-07-30 22:53:45,490] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 22:53:45,492] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 22:53:45,577] INFO in app: System encoding: utf-8
[2025-07-30 22:53:45,595] INFO in app: ==================================================
[2025-07-31 08:55:45,845] INFO in app: ==================================================
[2025-07-31 08:55:45,959] INFO in app: Application logging initialized successfully
[2025-07-31 08:55:45,961] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 08:55:45,962] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 08:55:45,970] INFO in app: System encoding: utf-8
[2025-07-31 08:55:45,974] INFO in app: ==================================================
[2025-07-31 10:27:21,692] INFO in app: ==================================================
[2025-07-31 10:27:21,811] INFO in app: Application logging initialized successfully
[2025-07-31 10:27:21,814] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 10:27:21,818] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 10:27:21,823] INFO in app: System encoding: utf-8
[2025-07-31 10:27:21,826] INFO in app: ==================================================
[2025-07-31 10:29:57,542] INFO in app: ==================================================
[2025-07-31 10:29:57,550] INFO in app: Application logging initialized successfully
[2025-07-31 10:29:57,552] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 10:29:57,555] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 10:29:57,557] INFO in app: System encoding: utf-8
[2025-07-31 10:29:57,559] INFO in app: ==================================================
[2025-07-31 10:30:10,942] INFO in app: ==================================================
[2025-07-31 10:30:10,950] INFO in app: Application logging initialized successfully
[2025-07-31 10:30:10,953] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 10:30:10,955] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 10:30:10,957] INFO in app: System encoding: utf-8
[2025-07-31 10:30:10,964] INFO in app: ==================================================
[2025-07-31 10:30:18,797] INFO in app: ==================================================
[2025-07-31 10:30:18,805] INFO in app: Application logging initialized successfully
[2025-07-31 10:30:18,807] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 10:30:18,809] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 10:30:18,813] INFO in app: System encoding: utf-8
[2025-07-31 10:30:18,816] INFO in app: ==================================================
[2025-07-31 10:30:22,259] ERROR in app: Exception on / [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 3783, in home
    return render_template('home.html')
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\home.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\home.html", line 77, in block 'content'
    <a href="{{ url_for('add_agent') }}" class="btn btn-primary btn-sm">Add Agent</a>
    ^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'add_agent'. Did you mean 'add_client' instead?
[2025-07-31 10:30:46,394] ERROR in app: Exception on / [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 3783, in home
    return render_template('home.html')
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\home.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\home.html", line 77, in block 'content'
    <a href="{{ url_for('add_agent') }}" class="btn btn-primary btn-sm">Add Agent</a>
    ^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'add_agent'. Did you mean 'add_client' instead?
[2025-07-31 10:35:57,711] INFO in app: ==================================================
[2025-07-31 10:35:57,717] INFO in app: Application logging initialized successfully
[2025-07-31 10:35:57,720] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 10:35:57,722] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 10:35:57,723] INFO in app: System encoding: utf-8
[2025-07-31 10:35:57,729] INFO in app: ==================================================
[2025-07-31 10:36:02,498] ERROR in app: Exception on / [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 3783, in home
    return render_template('home.html')
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\home.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\home.html", line 77, in block 'content'
    <a href="{{ url_for('add_agent') }}" class="btn btn-primary btn-sm">Add Agent</a>
    ^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'add_agent'. Did you mean 'add_client' instead?
[2025-07-31 10:36:05,597] ERROR in app: Exception on / [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 3783, in home
    return render_template('home.html')
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\home.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\home.html", line 77, in block 'content'
    <a href="{{ url_for('add_agent') }}" class="btn btn-primary btn-sm">Add Agent</a>
    ^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'add_agent'. Did you mean 'add_client' instead?
[2025-07-31 10:36:18,107] INFO in app: ==================================================
[2025-07-31 10:36:18,113] INFO in app: Application logging initialized successfully
[2025-07-31 10:36:18,115] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 10:36:18,117] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 10:36:18,119] INFO in app: System encoding: utf-8
[2025-07-31 10:36:18,123] INFO in app: ==================================================
[2025-07-31 10:36:45,272] ERROR in app: Exception on /dashboard/sales [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7321, in sales_dashboard
    query = Agent.query.join(Customer).filter(Agent.active.is_(True))
                                              ^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'active'
[2025-07-31 10:38:13,129] ERROR in app: Exception on /register [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 2181, in _entity_namespace_key
    return getattr(ns, key)  # type: ignore
AttributeError: type object 'Agent' has no attribute 'active'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 520, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 3857, in register_customer_debug
    agents = Agent.query.filter_by(active=True).order_by(Agent.name).all()
             ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 1992, in filter_by
    _entity_namespace_key(from_entity, key) == value
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 2183, in _entity_namespace_key
    raise exc.InvalidRequestError(
        'Entity namespace for "%s" has no property "%s"' % (entity, key)
    ) from err
sqlalchemy.exc.InvalidRequestError: Entity namespace for "agents" has no property "active"
[2025-07-31 10:40:59,624] INFO in app: ==================================================
[2025-07-31 10:40:59,634] INFO in app: Application logging initialized successfully
[2025-07-31 10:40:59,637] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 10:40:59,639] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 10:40:59,645] INFO in app: System encoding: utf-8
[2025-07-31 10:40:59,648] INFO in app: ==================================================
[2025-07-31 10:42:10,257] INFO in app: ==================================================
[2025-07-31 10:42:10,266] INFO in app: Application logging initialized successfully
[2025-07-31 10:42:10,269] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 10:42:10,271] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 10:42:10,274] INFO in app: System encoding: utf-8
[2025-07-31 10:42:10,277] INFO in app: ==================================================
[2025-07-31 10:42:15,104] INFO in app: ==================================================
[2025-07-31 10:42:15,113] INFO in app: Application logging initialized successfully
[2025-07-31 10:42:15,115] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 10:42:15,117] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 10:42:15,120] INFO in app: System encoding: utf-8
[2025-07-31 10:42:15,122] INFO in app: ==================================================
[2025-07-31 10:52:25,491] ERROR in app: Exception on /dashboard/sales [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7335, in sales_dashboard
    team_leads = [t[0] for t in db.session.query(Agent.team_lead).distinct() if t[0]]
                                                 ^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'team_lead'. Did you mean: 'team_leader'?
[2025-07-31 10:53:34,120] INFO in app: ==================================================
[2025-07-31 10:53:34,132] INFO in app: Application logging initialized successfully
[2025-07-31 10:53:34,135] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 10:53:34,145] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 10:53:34,149] INFO in app: System encoding: utf-8
[2025-07-31 10:53:34,152] INFO in app: ==================================================
[2025-07-31 10:53:40,405] ERROR in app: Exception on /notifications/sales-summary [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7390, in sales_summary_notification
    db.func.date(Customer.date_created) == today
                 ^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Customer' has no attribute 'date_created'
[2025-07-31 10:53:43,978] ERROR in app: Exception on /dashboard/team-leader [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7568, in team_leader_dashboard
    .group_by(Agent.team_lead)
              ^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'team_lead'. Did you mean: 'team_leader'?
[2025-07-31 10:54:20,226] INFO in app: ==================================================
[2025-07-31 10:54:20,233] INFO in app: Application logging initialized successfully
[2025-07-31 10:54:20,236] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 10:54:20,238] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 10:54:20,245] INFO in app: System encoding: utf-8
[2025-07-31 10:54:20,248] INFO in app: ==================================================
[2025-07-31 11:38:48,637] INFO in app: ==================================================
[2025-07-31 11:38:48,644] INFO in app: Application logging initialized successfully
[2025-07-31 11:38:48,647] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 11:38:48,649] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 11:38:48,653] INFO in app: System encoding: utf-8
[2025-07-31 11:38:48,656] INFO in app: ==================================================
[2025-07-31 12:14:26,403] INFO in app: [DISBURSEMENT] Loan #112000001 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-31 12:14:32,793] ERROR in app: [DISBURSE] Error for loan 112000001: 'LoanApplication' object has no attribute 'repayment_schedule'
[2025-07-31 12:14:34,936] INFO in app: [DISBURSEMENT] Loan #112000001 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-31 12:14:48,634] ERROR in app: Exception on /dashboard/sales [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7306, in sales_dashboard
    applications = customers.count()
TypeError: list.count() takes exactly one argument (0 given)
[2025-07-31 12:16:53,991] INFO in app: ==================================================
[2025-07-31 12:16:53,998] INFO in app: Application logging initialized successfully
[2025-07-31 12:16:54,001] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 12:16:54,003] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 12:16:54,005] INFO in app: System encoding: utf-8
[2025-07-31 12:16:54,008] INFO in app: ==================================================
[2025-07-31 12:16:57,933] ERROR in app: Exception on /dashboard/sales [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7306, in sales_dashboard
    applications = customers.count()
TypeError: list.count() takes exactly one argument (0 given)
[2025-07-31 12:21:46,493] INFO in app: ==================================================
[2025-07-31 12:21:46,509] INFO in app: Application logging initialized successfully
[2025-07-31 12:21:46,511] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 12:21:46,514] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 12:21:46,521] INFO in app: System encoding: utf-8
[2025-07-31 12:21:46,527] INFO in app: ==================================================
[2025-07-31 12:21:58,793] ERROR in app: Exception on /notifications/sales-summary [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7356, in sales_summary_notification
    db.func.date(Customer.date_created) == today
                 ^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Customer' has no attribute 'date_created'
[2025-07-31 12:22:27,259] ERROR in app: Exception on /dashboard/team-leader [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\result.py", line 199, in _key_not_found
    self._key_fallback(key, None)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\result.py", line 138, in _key_fallback
    raise KeyError(key) from err
KeyError: 'team_lead'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7543, in team_leader_dashboard
    "team_lead": row.team_lead,
                 ^^^^^^^^^^^^^
  File "lib\\sqlalchemy\\cyextension\\resultproxy.pyx", line 66, in sqlalchemy.cyextension.resultproxy.BaseRow.__getattr__
  File "lib\\sqlalchemy\\cyextension\\resultproxy.pyx", line 63, in sqlalchemy.cyextension.resultproxy.BaseRow._get_by_key_impl
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\result.py", line 201, in _key_not_found
    raise AttributeError(ke.args[0]) from ke
AttributeError: team_lead
[2025-07-31 12:23:53,630] INFO in app: ==================================================
[2025-07-31 12:23:53,640] INFO in app: Application logging initialized successfully
[2025-07-31 12:23:53,646] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 12:23:53,648] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 12:23:53,650] INFO in app: System encoding: utf-8
[2025-07-31 12:23:53,652] INFO in app: ==================================================
[2025-07-31 12:36:12,029] INFO in app: ==================================================
[2025-07-31 12:36:12,035] INFO in app: Application logging initialized successfully
[2025-07-31 12:36:12,037] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 12:36:12,038] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 12:36:12,039] INFO in app: System encoding: utf-8
[2025-07-31 12:36:12,041] INFO in app: ==================================================
[2025-07-31 12:51:56,704] INFO in app: ==================================================
[2025-07-31 12:51:56,711] INFO in app: Application logging initialized successfully
[2025-07-31 12:51:56,714] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 12:51:56,717] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 12:51:56,723] INFO in app: System encoding: utf-8
[2025-07-31 12:51:56,725] INFO in app: ==================================================
[2025-07-31 12:52:05,432] ERROR in app: Exception on /dashboard/team-leader [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7554, in team_leader_dashboard
    return render_template("dashboard/team_leader_dashboard.html", stats=team_stats, active_tab="team")
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\dashboard\team_leader_dashboard.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\dashboard\team_leader_dashboard.html", line 21, in block 'content'
    <td>{{ agent.team_leader.name if agent.team_leader else '-' }}</td>
    ^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 490, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'agent' is undefined
[2025-07-31 12:53:01,138] INFO in app: ==================================================
[2025-07-31 12:53:01,146] INFO in app: Application logging initialized successfully
[2025-07-31 12:53:01,148] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 12:53:01,150] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 12:53:01,152] INFO in app: System encoding: utf-8
[2025-07-31 12:53:01,154] INFO in app: ==================================================
[2025-07-31 13:08:54,088] INFO in app: ==================================================
[2025-07-31 13:08:54,099] INFO in app: Application logging initialized successfully
[2025-07-31 13:08:54,101] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 13:08:54,104] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 13:08:54,106] INFO in app: System encoding: utf-8
[2025-07-31 13:08:54,117] INFO in app: ==================================================
[2025-07-31 13:09:55,895] ERROR in app: Exception on /notifications/sales-summary [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7356, in sales_summary_notification
    db.func.date(Customer.date_created) == today
                 ^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Customer' has no attribute 'date_created'
[2025-07-31 13:11:19,046] INFO in app: ==================================================
[2025-07-31 13:11:19,056] INFO in app: Application logging initialized successfully
[2025-07-31 13:11:19,062] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 13:11:19,064] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 13:11:19,070] INFO in app: System encoding: utf-8
[2025-07-31 13:11:19,073] INFO in app: ==================================================
[2025-07-31 13:36:33,905] INFO in app: ==================================================
[2025-07-31 13:36:33,913] INFO in app: Application logging initialized successfully
[2025-07-31 13:36:33,916] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 13:36:33,918] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 13:36:33,921] INFO in app: System encoding: utf-8
[2025-07-31 13:36:33,924] INFO in app: ==================================================
[2025-07-31 13:54:10,153] INFO in app: ==================================================
[2025-07-31 13:54:10,159] INFO in app: Application logging initialized successfully
[2025-07-31 13:54:10,161] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 13:54:10,163] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 13:54:10,164] INFO in app: System encoding: utf-8
[2025-07-31 13:54:10,167] INFO in app: ==================================================
[2025-07-31 14:17:37,727] INFO in app: ==================================================
[2025-07-31 14:17:37,733] INFO in app: Application logging initialized successfully
[2025-07-31 14:17:37,736] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 14:17:37,738] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 14:17:37,740] INFO in app: System encoding: utf-8
[2025-07-31 14:17:37,744] INFO in app: ==================================================
[2025-07-31 14:17:45,573] ERROR in app: Exception on /dashboard/team-leader [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7532, in team_leader_dashboard
    TeamLeader.label('team_leader'),
    ^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\util.py", line 778, in __getattr__
    attr = getattr(target, key)
AttributeError: type object 'Agent' has no attribute 'label'
[2025-07-31 14:18:31,725] INFO in app: ==================================================
[2025-07-31 14:18:31,733] INFO in app: Application logging initialized successfully
[2025-07-31 14:18:31,736] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 14:18:31,739] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 14:18:31,742] INFO in app: System encoding: utf-8
[2025-07-31 14:18:31,746] INFO in app: ==================================================
[2025-07-31 14:18:34,270] ERROR in app: Exception on /dashboard/team-leader [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7532, in team_leader_dashboard
    TeamLeader('team_leader'),
    ~~~~~~~~~~^^^^^^^^^^^^^^^
TypeError: 'AliasedClass' object is not callable
[2025-07-31 14:19:01,271] INFO in app: ==================================================
[2025-07-31 14:19:01,278] INFO in app: Application logging initialized successfully
[2025-07-31 14:19:01,280] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 14:19:01,309] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 14:19:01,315] INFO in app: System encoding: utf-8
[2025-07-31 14:19:01,329] INFO in app: ==================================================
[2025-07-31 14:19:03,887] ERROR in app: Exception on /dashboard/team-leader [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7532, in team_leader_dashboard
    TeamLeader('team_leader'),
    ~~~~~~~~~~^^^^^^^^^^^^^^^
TypeError: 'AliasedClass' object is not callable
[2025-07-31 14:19:19,318] INFO in app: ==================================================
[2025-07-31 14:19:19,325] INFO in app: Application logging initialized successfully
[2025-07-31 14:19:19,327] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 14:19:19,329] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 14:19:19,331] INFO in app: System encoding: utf-8
[2025-07-31 14:19:19,333] INFO in app: ==================================================
[2025-07-31 14:19:22,437] ERROR in app: Exception on /dashboard/team-leader [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7532, in team_leader_dashboard
    TeamLeader.label('team_leader'),
    ^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\util.py", line 778, in __getattr__
    attr = getattr(target, key)
AttributeError: type object 'Agent' has no attribute 'label'
[2025-07-31 14:21:21,737] ERROR in app: Exception on /dashboard/team-leader [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7532, in team_leader_dashboard
    TeamLeader.label('team_leader'),
    ^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\util.py", line 778, in __getattr__
    attr = getattr(target, key)
AttributeError: type object 'Agent' has no attribute 'label'
[2025-07-31 14:25:28,822] INFO in app: ==================================================
[2025-07-31 14:25:28,829] INFO in app: Application logging initialized successfully
[2025-07-31 14:25:28,832] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 14:25:28,833] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 14:25:28,836] INFO in app: System encoding: utf-8
[2025-07-31 14:25:28,842] INFO in app: ==================================================
[2025-07-31 14:25:35,280] ERROR in app: Exception on /dashboard/team-leader [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7532, in team_leader_dashboard
    TeamLeader.label('team_leader'),
    ^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\util.py", line 778, in __getattr__
    attr = getattr(target, key)
AttributeError: type object 'Agent' has no attribute 'label'
[2025-07-31 14:25:47,010] INFO in app: ==================================================
[2025-07-31 14:25:47,017] INFO in app: Application logging initialized successfully
[2025-07-31 14:25:47,019] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 14:25:47,021] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 14:25:47,023] INFO in app: System encoding: utf-8
[2025-07-31 14:25:47,024] INFO in app: ==================================================
[2025-07-31 14:25:49,689] ERROR in app: Exception on /dashboard/team-leader [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7532, in team_leader_dashboard
    TeamLeader.label('team_leader'),
    ^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\util.py", line 778, in __getattr__
    attr = getattr(target, key)
AttributeError: type object 'Agent' has no attribute 'label'
[2025-07-31 14:29:49,539] INFO in app: ==================================================
[2025-07-31 14:29:49,545] INFO in app: Application logging initialized successfully
[2025-07-31 14:29:49,548] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 14:29:49,550] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 14:29:49,552] INFO in app: System encoding: utf-8
[2025-07-31 14:29:49,556] INFO in app: ==================================================
[2025-07-31 14:42:11,045] INFO in app: [DISBURSEMENT] Loan #112000001 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-31 14:42:11,049] INFO in app: [DISBURSEMENT] Loan #136000002 | Top-up of: None | Cash to Client: 1500000.0
[2025-07-31 14:42:18,177] ERROR in app: [DISBURSE] Error for loan 112000001: 'LoanApplication' object has no attribute 'repayment_schedule'
[2025-07-31 14:42:18,186] ERROR in app: [DISBURSE] Error for loan 136000002: 'LoanApplication' object has no attribute 'repayment_schedule'
[2025-07-31 14:42:21,466] ERROR in app: [DISBURSE] Error for loan 112000001: 'LoanApplication' object has no attribute 'repayment_schedule'
[2025-07-31 14:42:21,472] ERROR in app: [DISBURSE] Error for loan 136000002: 'LoanApplication' object has no attribute 'repayment_schedule'
[2025-07-31 16:44:09,462] INFO in app: Found 1 loans for customer 202507000001
[2025-07-31 16:44:09,466] INFO in app: Customer ID: 1
[2025-07-31 16:44:09,471] INFO in app: Found Loans: [('112000001', 'active')]
[2025-07-31 16:44:11,592] INFO in app: Found 1 loans for customer 202507000001
[2025-07-31 16:44:11,595] INFO in app: Customer ID: 1
[2025-07-31 16:44:11,602] INFO in app: Found Loans: [('112000001', 'active')]
[2025-07-31 16:44:38,231] INFO in app: Found 2 loans for customer 202507000001
[2025-07-31 16:44:38,233] INFO in app: Customer ID: 1
[2025-07-31 16:44:38,234] INFO in app: Found Loans: [('112000001', 'active'), ('124000003', 'active')]
[2025-07-31 16:45:11,292] INFO in app: [DISBURSEMENT] Loan #112000001 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-31 16:45:11,299] INFO in app: [DISBURSEMENT] Loan #136000002 | Top-up of: None | Cash to Client: 1500000.0
[2025-07-31 16:45:11,305] INFO in app: [DISBURSEMENT] Loan #124000003 | Top-up of: None | Cash to Client: 1200000.0
[2025-07-31 16:45:19,103] ERROR in app: [DISBURSE] Error for loan 112000001: 'LoanApplication' object has no attribute 'repayment_schedule'
[2025-07-31 16:45:19,114] ERROR in app: [DISBURSE] Error for loan 136000002: 'LoanApplication' object has no attribute 'repayment_schedule'
[2025-07-31 16:45:19,121] ERROR in app: [DISBURSE] Error for loan 124000003: 'LoanApplication' object has no attribute 'repayment_schedule'
[2025-07-31 16:45:20,457] INFO in app: [DISBURSEMENT] Loan #112000001 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-31 16:45:20,459] INFO in app: [DISBURSEMENT] Loan #136000002 | Top-up of: None | Cash to Client: 1500000.0
[2025-07-31 16:45:20,460] INFO in app: [DISBURSEMENT] Loan #124000003 | Top-up of: None | Cash to Client: 1200000.0
[2025-07-31 16:45:38,162] INFO in app: Found 2 loans for customer 202507000001
[2025-07-31 16:45:38,165] INFO in app: Customer ID: 1
[2025-07-31 16:45:38,170] INFO in app: Found Loans: [('112000001', 'active'), ('124000003', 'active')]
[2025-07-31 16:45:39,902] INFO in app: Found 2 loans for customer 202507000001
[2025-07-31 16:45:39,905] INFO in app: Customer ID: 1
[2025-07-31 16:45:39,909] INFO in app: Found Loans: [('112000001', 'active'), ('124000003', 'active')]
[2025-07-31 16:46:08,827] INFO in app: [TOPUP] Submit route hit for loan 1
[2025-07-31 16:46:08,879] INFO in app: [112000001] Schedule 1 updated → fees=11390.0, interest=40215.0, principal=78688.06
[2025-07-31 16:46:08,882] INFO in app: [112000001] Schedule 2 updated → fees=11390.0, interest=37460.92, principal=81442.14
[2025-07-31 16:46:08,888] INFO in app: [112000001] Schedule 3 updated → fees=11390.0, interest=34610.44, principal=84292.61
[2025-07-31 16:46:08,891] INFO in app: [112000001] Schedule 4 updated → fees=11390.0, interest=31660.2, principal=87242.86
[2025-07-31 16:46:08,893] INFO in app: [112000001] Schedule 5 updated → fees=11390.0, interest=28606.7, principal=90296.36
[2025-07-31 16:46:08,896] INFO in app: [112000001] Schedule 6 updated → fees=11390.0, interest=25446.33, principal=93456.73
[2025-07-31 16:46:08,898] INFO in app: [112000001] Schedule 7 updated → fees=11390.0, interest=22175.34, principal=96727.71
[2025-07-31 16:46:08,904] INFO in app: [112000001] Schedule 8 updated → fees=11390.0, interest=18789.87, principal=100113.18
[2025-07-31 16:46:08,908] INFO in app: [112000001] Schedule 9 updated → fees=11390.0, interest=15285.91, principal=103617.15
[2025-07-31 16:46:08,910] INFO in app: [112000001] Schedule 10 updated → fees=11390.0, interest=11659.31, principal=65599.54000000021
[2025-07-31 16:46:08,915] INFO in app: [112000001] Recalculated: capitalized=1149000.0, paid_principal=0, current_balance=1149000.0
[2025-07-31 16:46:08,921] INFO in app: [112000001] Payment of 1261286.36 allocated. Remaining: 0.0
[2025-07-31 16:46:08,924] INFO in app: [112000001] Recalculated: capitalized=1149000.0, paid_principal=0, current_balance=1149000.0
[2025-07-31 16:46:09,133] INFO in app: Found 3 loans for customer 202507000001
[2025-07-31 16:46:09,135] INFO in app: Customer ID: 1
[2025-07-31 16:46:09,137] INFO in app: Found Loans: [('112000001', 'topped_up'), ('124000003', 'active'), ('118000004', 'application')]
[2025-07-31 16:47:18,064] INFO in app: Found 3 loans for customer 202507000001
[2025-07-31 16:47:18,067] INFO in app: Customer ID: 1
[2025-07-31 16:47:18,074] INFO in app: Found Loans: [('112000001', 'topped_up'), ('124000003', 'active'), ('118000004', 'active')]
[2025-07-31 17:00:53,499] INFO in app: ==================================================
[2025-07-31 17:00:53,507] INFO in app: Application logging initialized successfully
[2025-07-31 17:00:53,509] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 17:00:53,511] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 17:00:53,513] INFO in app: System encoding: utf-8
[2025-07-31 17:00:53,517] INFO in app: ==================================================
[2025-07-31 17:01:12,403] INFO in app: Found 3 loans for customer 202507000001
[2025-07-31 17:01:12,405] INFO in app: Customer ID: 1
[2025-07-31 17:01:12,408] INFO in app: Found Loans: [('112000001', 'topped_up'), ('124000003', 'active'), ('118000004', 'active')]
[2025-07-31 17:01:16,508] INFO in app: Found 3 loans for customer 202507000001
[2025-07-31 17:01:16,510] INFO in app: Customer ID: 1
[2025-07-31 17:01:16,519] INFO in app: Found Loans: [('112000001', 'topped_up'), ('124000003', 'active'), ('118000004', 'active')]
[2025-07-31 17:01:59,816] INFO in app: [TOPUP] Submit route hit for loan 4
[2025-07-31 17:01:59,874] INFO in app: [118000004] Top-up payment → principal: 1261286.36, interest: 112286.36
[2025-07-31 17:01:59,876] INFO in app: [118000004] Loan marked as closed after top-up.
[2025-07-31 17:01:59,901] INFO in app: Found 4 loans for customer 202507000001
[2025-07-31 17:01:59,903] INFO in app: Customer ID: 1
[2025-07-31 17:01:59,905] INFO in app: Found Loans: [('112000001', 'topped_up'), ('124000003', 'active'), ('118000004', 'topped_up'), ('136000005', 'application')]
[2025-07-31 17:19:35,402] INFO in app: [118000004] Top-up payment → principal: 0.0, interest: 0.0
[2025-07-31 17:19:35,408] INFO in app: [118000004] Loan marked as closed after top-up.
[2025-07-31 17:21:36,742] WARNING in app: [118000004] Payment not allocated. Loan state is closed: settled_client
[2025-07-31 17:22:29,793] INFO in app: [118000004] Top-up payment → principal: 1149000.0, interest: 0.0
[2025-07-31 17:22:29,795] INFO in app: [118000004] Loan marked as closed after top-up.
[2025-07-31 17:37:45,722] INFO in app: ==================================================
[2025-07-31 17:37:45,729] INFO in app: Application logging initialized successfully
[2025-07-31 17:37:45,733] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 17:37:45,735] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 17:37:45,738] INFO in app: System encoding: utf-8
[2025-07-31 17:37:45,740] INFO in app: ==================================================
[2025-07-31 17:38:13,391] INFO in app: Found 4 loans for customer 202507000001
[2025-07-31 17:38:13,406] INFO in app: Customer ID: 1
[2025-07-31 17:38:13,411] INFO in app: Found Loans: [('112000001', 'topped_up'), ('124000003', 'active'), ('118000004', 'settled_client'), ('136000005', 'active')]
[2025-07-31 17:39:23,997] INFO in app: Found 1 loans for customer 202507000002
[2025-07-31 17:39:24,001] INFO in app: Customer ID: 2
[2025-07-31 17:39:24,008] INFO in app: Found Loans: [('136000002', 'active')]
[2025-07-31 17:39:28,751] INFO in app: Found 1 loans for customer 202507000002
[2025-07-31 17:39:28,760] INFO in app: Customer ID: 2
[2025-07-31 17:39:28,768] INFO in app: Found Loans: [('136000002', 'active')]
[2025-07-31 17:40:01,041] INFO in app: [TOPUP] Submit route hit for loan 2
[2025-07-31 17:40:01,182] INFO in app: [136000002] Top-up payment → principal: 0.0, interest: 0.0
[2025-07-31 17:40:01,186] INFO in app: [136000002] Loan marked as closed after top-up.
[2025-07-31 17:40:01,333] INFO in app: Found 2 loans for customer 202507000002
[2025-07-31 17:40:01,337] INFO in app: Customer ID: 2
[2025-07-31 17:40:01,342] INFO in app: Found Loans: [('136000002', 'settled_client'), ('136000006', 'application')]
[2025-07-31 17:44:39,953] INFO in app: Found 2 loans for customer 202507000002
[2025-07-31 17:44:39,977] INFO in app: Customer ID: 2
[2025-07-31 17:44:39,990] INFO in app: Found Loans: [('136000002', 'settled_client'), ('136000006', 'active')]
[2025-07-31 17:59:36,002] INFO in app: ==================================================
[2025-07-31 17:59:36,020] INFO in app: Application logging initialized successfully
[2025-07-31 17:59:36,077] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 17:59:36,080] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 17:59:36,082] INFO in app: System encoding: utf-8
[2025-07-31 17:59:36,085] INFO in app: ==================================================
[2025-07-31 18:02:58,905] INFO in app: ==================================================
[2025-07-31 18:02:58,917] INFO in app: Application logging initialized successfully
[2025-07-31 18:02:58,920] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 18:02:58,927] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 18:02:58,930] INFO in app: System encoding: utf-8
[2025-07-31 18:02:58,932] INFO in app: ==================================================
[2025-07-31 18:09:55,793] INFO in app: ==================================================
[2025-07-31 18:09:55,800] INFO in app: Application logging initialized successfully
[2025-07-31 18:09:55,803] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 18:09:55,804] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 18:09:55,806] INFO in app: System encoding: utf-8
[2025-07-31 18:09:55,810] INFO in app: ==================================================
[2025-07-31 18:15:53,554] INFO in app: ==================================================
[2025-07-31 18:15:53,562] INFO in app: Application logging initialized successfully
[2025-07-31 18:15:53,566] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 18:15:53,568] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 18:15:53,576] INFO in app: System encoding: utf-8
[2025-07-31 18:15:53,578] INFO in app: ==================================================
[2025-07-31 18:16:48,873] INFO in app: Found 2 loans for customer 202507000002
[2025-07-31 18:16:48,879] INFO in app: Customer ID: 2
[2025-07-31 18:16:48,889] INFO in app: Found Loans: [('136000002', 'settled_client'), ('136000006', 'active')]
[2025-07-31 18:16:51,939] INFO in app: Found 2 loans for customer 202507000002
[2025-07-31 18:16:51,943] INFO in app: Customer ID: 2
[2025-07-31 18:16:51,951] INFO in app: Found Loans: [('136000002', 'settled_client'), ('136000006', 'active')]
[2025-07-31 18:17:33,043] INFO in app: [TOPUP] Submit route hit for loan 6
[2025-07-31 18:17:33,140] INFO in app: [136000006] Top-up payment → principal: 2222965.83, interest: 208465.83
[2025-07-31 18:17:33,142] INFO in app: [136000006] Loan marked as closed after top-up.
[2025-07-31 18:17:33,350] INFO in app: Found 3 loans for customer 202507000002
[2025-07-31 18:17:33,353] INFO in app: Customer ID: 2
[2025-07-31 18:17:33,358] INFO in app: Found Loans: [('136000002', 'settled_client'), ('136000006', 'settled_client'), ('124000007', 'application')]
[2025-07-31 18:17:56,655] INFO in app: Found 3 loans for customer 202507000002
[2025-07-31 18:17:56,660] INFO in app: Customer ID: 2
[2025-07-31 18:17:56,670] INFO in app: Found Loans: [('136000002', 'settled_client'), ('136000006', 'settled_client'), ('124000007', 'active')]
[2025-07-31 19:42:37,067] INFO in app: ==================================================
[2025-07-31 19:42:37,081] INFO in app: Application logging initialized successfully
[2025-07-31 19:42:37,091] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 19:42:37,094] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 19:42:37,097] INFO in app: System encoding: utf-8
[2025-07-31 19:42:37,100] INFO in app: ==================================================
[2025-07-31 19:45:15,732] INFO in app: ==================================================
[2025-07-31 19:45:15,744] INFO in app: Application logging initialized successfully
[2025-07-31 19:45:15,748] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 19:45:15,752] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 19:45:15,755] INFO in app: System encoding: utf-8
[2025-07-31 19:45:15,758] INFO in app: ==================================================
[2025-07-31 19:49:05,879] INFO in app: ==================================================
[2025-07-31 19:49:05,893] INFO in app: Application logging initialized successfully
[2025-07-31 19:49:05,899] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 19:49:05,909] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 19:49:05,917] INFO in app: System encoding: utf-8
[2025-07-31 19:49:05,920] INFO in app: ==================================================
[2025-07-31 19:49:17,963] INFO in app: Found 4 loans for customer 202507000001
[2025-07-31 19:49:17,965] ERROR in app: Account view error: 'PaymentAllocation' object has no attribute 'loan'
[2025-07-31 19:54:31,033] INFO in app: ==================================================
[2025-07-31 19:54:31,051] INFO in app: Application logging initialized successfully
[2025-07-31 19:54:31,054] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 19:54:31,056] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 19:54:31,059] INFO in app: System encoding: utf-8
[2025-07-31 19:54:31,070] INFO in app: ==================================================
[2025-07-31 19:54:38,823] INFO in app: Found 4 loans for customer 202507000001
[2025-07-31 19:54:47,922] INFO in app: Found 4 loans for customer 202507000001
[2025-07-31 19:55:18,232] INFO in app: [TOPUP] Submit route hit for loan 3
[2025-07-31 19:55:18,294] INFO in app: [124000003] Top-up payment → principal: 0.0, interest: 0.0
[2025-07-31 19:55:18,298] INFO in app: [124000003] Loan marked as closed after top-up.
[2025-07-31 19:55:18,530] INFO in app: Found 5 loans for customer 202507000001
[2025-07-31 20:15:25,250] INFO in app: ==================================================
[2025-07-31 20:15:25,257] INFO in app: Application logging initialized successfully
[2025-07-31 20:15:25,259] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 20:15:25,261] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 20:15:25,262] INFO in app: System encoding: utf-8
[2025-07-31 20:15:25,266] INFO in app: ==================================================
[2025-07-31 20:19:06,244] INFO in app: ==================================================
[2025-07-31 20:19:06,251] INFO in app: Application logging initialized successfully
[2025-07-31 20:19:06,254] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 20:19:06,256] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 20:19:06,258] INFO in app: System encoding: utf-8
[2025-07-31 20:19:06,261] INFO in app: ==================================================
[2025-07-31 20:19:16,953] INFO in app: Found 5 loans for customer 202507000001
[2025-07-31 20:19:20,259] INFO in app: Found 5 loans for customer 202507000001
[2025-07-31 20:19:29,838] INFO in app: Found 5 loans for customer 202507000001
[2025-07-31 20:34:21,106] INFO in app: ==================================================
[2025-07-31 20:34:21,112] INFO in app: Application logging initialized successfully
[2025-07-31 20:34:21,115] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 20:34:21,118] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 20:34:21,125] INFO in app: System encoding: utf-8
[2025-07-31 20:34:21,126] INFO in app: ==================================================
[2025-07-31 20:34:29,153] INFO in app: Found 5 loans for customer 202507000001
[2025-07-31 20:34:29,155] ERROR in app: Account view error: Mapped instance expected for relationship comparison to object.   Classes, queries and other SQL elements are not accepted in this context; for comparison with a subquery, use User.role.has(**criteria).
[2025-07-31 21:28:08,108] INFO in app: ==================================================
[2025-07-31 21:28:08,116] INFO in app: Application logging initialized successfully
[2025-07-31 21:28:08,120] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 21:28:08,122] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 21:28:08,124] INFO in app: System encoding: utf-8
[2025-07-31 21:28:08,125] INFO in app: ==================================================
[2025-07-31 21:28:28,523] INFO in app: Found 5 loans for customer 202507000001
[2025-07-31 21:28:28,526] ERROR in app: Account view error: Mapped instance expected for relationship comparison to object.   Classes, queries and other SQL elements are not accepted in this context; for comparison with a subquery, use User.role.has(**criteria).
[2025-07-31 21:43:56,021] INFO in app: ==================================================
[2025-07-31 21:43:56,028] INFO in app: Application logging initialized successfully
[2025-07-31 21:43:56,033] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 21:43:56,035] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 21:43:56,037] INFO in app: System encoding: utf-8
[2025-07-31 21:43:56,039] INFO in app: ==================================================
[2025-07-31 21:44:10,089] INFO in app: Found 5 loans for customer 202507000001
[2025-07-31 21:44:10,096] ERROR in app: Account view error: Mapped instance expected for relationship comparison to object.   Classes, queries and other SQL elements are not accepted in this context; for comparison with a subquery, use User.role.has(**criteria).
[2025-07-31 21:49:48,662] INFO in app: ==================================================
[2025-07-31 21:49:48,675] INFO in app: Application logging initialized successfully
[2025-07-31 21:49:48,680] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 21:49:48,686] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 21:49:48,688] INFO in app: System encoding: utf-8
[2025-07-31 21:49:48,691] INFO in app: ==================================================
[2025-07-31 21:49:59,126] INFO in app: Found 6 agents and 5 team leaders
[2025-07-31 21:49:59,142] INFO in app: Found 5 loans for customer 202507000001
[2025-07-31 21:50:08,431] INFO in app: Found 6 agents and 5 team leaders
[2025-07-31 21:50:08,437] INFO in app: Found 5 loans for customer 202507000001
[2025-07-31 21:50:50,649] INFO in app: Found 6 agents and 5 team leaders
[2025-07-31 21:50:50,660] INFO in app: Found 5 loans for customer 202507000001
[2025-07-31 21:59:11,678] INFO in app: ==================================================
[2025-07-31 21:59:11,690] INFO in app: Application logging initialized successfully
[2025-07-31 21:59:11,693] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 21:59:11,695] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 21:59:11,701] INFO in app: System encoding: utf-8
[2025-07-31 21:59:11,707] INFO in app: ==================================================
[2025-07-31 21:59:18,730] INFO in app: Found 6 agents and 5 team leaders
[2025-07-31 21:59:18,746] INFO in app: Found 5 loans for customer 202507000001
[2025-07-31 21:59:55,393] INFO in app: Found 6 agents and 5 team leaders
[2025-07-31 21:59:55,406] INFO in app: Found 5 loans for customer 202507000001
[2025-07-31 22:01:00,851] INFO in app: ==================================================
[2025-07-31 22:01:00,857] INFO in app: Application logging initialized successfully
[2025-07-31 22:01:00,861] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 22:01:00,863] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 22:01:00,873] INFO in app: System encoding: utf-8
[2025-07-31 22:01:00,874] INFO in app: ==================================================
[2025-07-31 22:01:05,726] INFO in app: Found 6 agents and 5 team leaders
[2025-07-31 22:01:05,742] INFO in app: Found 5 loans for customer 202507000001
[2025-07-31 22:01:36,409] INFO in app: Found 6 agents and 5 team leaders
[2025-07-31 22:01:36,412] INFO in app: Found 5 loans for customer 202507000001
[2025-07-31 22:02:04,641] INFO in app: ==================================================
[2025-07-31 22:02:04,649] INFO in app: Application logging initialized successfully
[2025-07-31 22:02:04,652] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 22:02:04,655] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 22:02:04,657] INFO in app: System encoding: utf-8
[2025-07-31 22:02:04,666] INFO in app: ==================================================
[2025-07-31 22:02:07,482] INFO in app: Found 6 agents and 5 team leaders
[2025-07-31 22:02:07,501] INFO in app: Found 5 loans for customer 202507000001
[2025-07-31 22:02:09,431] INFO in app: Found 6 agents and 5 team leaders
[2025-07-31 22:02:09,437] INFO in app: Found 5 loans for customer 202507000001
[2025-07-31 22:02:34,332] INFO in app: Found 6 agents and 5 team leaders
[2025-07-31 22:02:34,338] INFO in app: Found 5 loans for customer 202507000001
[2025-07-31 22:48:11,057] INFO in app: ==================================================
[2025-07-31 22:48:11,127] INFO in app: Application logging initialized successfully
[2025-07-31 22:48:11,129] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 22:48:11,130] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 22:48:11,132] INFO in app: System encoding: utf-8
[2025-07-31 22:48:11,133] INFO in app: ==================================================
[2025-07-31 22:48:36,667] INFO in app: ==================================================
[2025-07-31 22:48:36,674] INFO in app: Application logging initialized successfully
[2025-07-31 22:48:36,676] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 22:48:36,678] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 22:48:36,681] INFO in app: System encoding: utf-8
[2025-07-31 22:48:36,684] INFO in app: ==================================================
[2025-07-31 22:48:45,853] INFO in app: Found 6 agents and 5 team leaders
[2025-07-31 22:48:45,871] INFO in app: Found 5 loans for customer 202507000001
[2025-07-31 22:49:14,758] INFO in app: Found 6 agents and 5 team leaders
[2025-07-31 22:49:14,761] INFO in app: Found 5 loans for customer 202507000001
[2025-08-01 02:48:47,354] INFO in app: ==================================================
[2025-08-01 02:48:47,478] INFO in app: Application logging initialized successfully
[2025-08-01 02:48:47,480] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 02:48:47,481] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 02:48:47,484] INFO in app: System encoding: utf-8
[2025-08-01 02:48:47,489] INFO in app: ==================================================
[2025-08-01 02:50:36,922] INFO in app: Found 6 agents and 5 team leaders
[2025-08-01 02:50:36,947] INFO in app: Found 5 loans for customer 202507000001
[2025-08-01 05:15:28,379] INFO in app: Found 6 agents and 5 team leaders
[2025-08-01 05:15:28,390] INFO in app: Found 5 loans for customer 202507000001
[2025-08-01 05:35:58,918] INFO in app: ==================================================
[2025-08-01 05:35:58,924] INFO in app: Application logging initialized successfully
[2025-08-01 05:35:58,927] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 05:35:58,929] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 05:35:58,932] INFO in app: System encoding: utf-8
[2025-08-01 05:35:58,934] INFO in app: ==================================================
[2025-08-01 05:36:31,759] INFO in app: Found 6 agents and 5 team leaders
[2025-08-01 05:36:31,774] INFO in app: Found 5 loans for customer 202507000001
[2025-08-01 05:46:13,980] INFO in app: ==================================================
[2025-08-01 05:46:13,987] INFO in app: Application logging initialized successfully
[2025-08-01 05:46:13,989] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 05:46:13,991] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 05:46:13,993] INFO in app: System encoding: utf-8
[2025-08-01 05:46:13,994] INFO in app: ==================================================
[2025-08-01 05:46:18,962] INFO in app: Found 6 agents and 5 team leaders
[2025-08-01 05:46:18,978] INFO in app: Found 5 loans for customer 202507000001
[2025-08-01 05:46:56,225] INFO in app: Found 6 agents and 5 team leaders
[2025-08-01 05:46:56,239] INFO in app: Found 5 loans for customer 202507000001
[2025-08-01 05:47:53,221] INFO in app: ==================================================
[2025-08-01 05:47:53,229] INFO in app: Application logging initialized successfully
[2025-08-01 05:47:53,231] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 05:47:53,234] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 05:47:53,239] INFO in app: System encoding: utf-8
[2025-08-01 05:47:53,242] INFO in app: ==================================================
[2025-08-01 05:48:00,270] INFO in app: Found 6 agents and 5 team leaders
[2025-08-01 05:48:00,303] INFO in app: Found 5 loans for customer 202507000001
[2025-08-01 05:48:32,665] INFO in app: Found 6 agents and 5 team leaders
[2025-08-01 05:48:32,682] INFO in app: Found 6 loans for customer 202507000001
[2025-08-01 05:50:21,253] INFO in app: ==================================================
[2025-08-01 05:50:21,262] INFO in app: Application logging initialized successfully
[2025-08-01 05:50:21,264] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 05:50:21,272] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 05:50:21,280] INFO in app: System encoding: utf-8
[2025-08-01 05:50:21,289] INFO in app: ==================================================
[2025-08-01 05:50:31,752] INFO in app: Found 6 agents and 5 team leaders
[2025-08-01 05:50:31,767] INFO in app: Found 6 loans for customer 202507000001
[2025-08-01 05:50:33,124] INFO in app: Found 6 agents and 5 team leaders
[2025-08-01 05:50:33,130] INFO in app: Found 6 loans for customer 202507000001
[2025-08-01 05:51:24,857] INFO in app: [TOPUP] Submit route hit for loan 9
[2025-08-01 05:52:21,253] INFO in app: [TOPUP] Submit route hit for loan 9
[2025-08-01 05:52:21,332] INFO in app: [103000009] Top-up payment → principal: 0.0, interest: 0.0
[2025-08-01 05:52:21,334] INFO in app: [103000009] Loan marked as closed after top-up.
[2025-08-01 05:52:21,371] INFO in app: Found 6 agents and 5 team leaders
[2025-08-01 05:52:21,374] INFO in app: Found 7 loans for customer 202507000001
[2025-08-01 05:52:41,985] INFO in app: Found 6 agents and 5 team leaders
[2025-08-01 05:52:41,991] INFO in app: Found 7 loans for customer 202507000001
[2025-08-01 05:56:31,701] INFO in app: ==================================================
[2025-08-01 05:56:31,712] INFO in app: Application logging initialized successfully
[2025-08-01 05:56:31,714] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 05:56:31,716] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 05:56:31,717] INFO in app: System encoding: utf-8
[2025-08-01 05:56:31,718] INFO in app: ==================================================
[2025-08-01 06:09:54,012] INFO in app: ==================================================
[2025-08-01 06:09:54,044] INFO in app: Application logging initialized successfully
[2025-08-01 06:09:54,048] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 06:09:54,056] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 06:09:54,061] INFO in app: System encoding: utf-8
[2025-08-01 06:09:54,064] INFO in app: ==================================================
[2025-08-01 06:24:55,841] INFO in app: ==================================================
[2025-08-01 06:24:55,850] INFO in app: Application logging initialized successfully
[2025-08-01 06:24:55,852] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 06:24:55,853] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 06:24:55,857] INFO in app: System encoding: utf-8
[2025-08-01 06:24:55,859] INFO in app: ==================================================
[2025-08-01 07:17:32,065] ERROR in app: Exception on /income_report [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 520, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 5829, in income_report
    
    ...<5 lines>...
    @role_required('finance_officer', 'admin')
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\income_report.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\income_report.html", line 88, in block 'content'
    <a href="{{ url_for('detailed_income_report', start_date=start_date, end_date=end_date) }}"
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'detailed_income_report' with values ['end_date', 'start_date']. Did you mean 'income_report' instead?
[2025-08-01 07:29:28,011] INFO in app: ==================================================
[2025-08-01 07:29:28,021] INFO in app: Application logging initialized successfully
[2025-08-01 07:29:28,025] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 07:29:28,027] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 07:29:28,037] INFO in app: System encoding: utf-8
[2025-08-01 07:29:28,042] INFO in app: ==================================================
[2025-08-01 07:30:55,591] INFO in app: ==================================================
[2025-08-01 07:30:55,598] INFO in app: Application logging initialized successfully
[2025-08-01 07:30:55,600] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 07:30:55,603] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 07:30:55,613] INFO in app: System encoding: utf-8
[2025-08-01 07:30:55,615] INFO in app: ==================================================
[2025-08-01 07:31:02,505] ERROR in app: Exception on /income_report [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 520, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 5847, in income_report
    one_time, accrued, recurring = _compute_income_db(start_date, end_date)
                                   ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 5779, in _compute_income_db
    func.coalesce(func.sum(LoanTopUp.interest_earned), 0).label('interest')
                           ^^^^^^^^^
NameError: name 'LoanTopUp' is not defined
[2025-08-01 07:31:52,478] INFO in app: ==================================================
[2025-08-01 07:31:52,484] INFO in app: Application logging initialized successfully
[2025-08-01 07:31:52,487] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 07:31:52,488] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 07:31:52,491] INFO in app: System encoding: utf-8
[2025-08-01 07:31:52,493] INFO in app: ==================================================
[2025-08-01 07:31:55,140] ERROR in app: Exception on /income_report [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 520, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 5847, in income_report
    one_time, accrued, recurring = _compute_income_db(start_date, end_date)
                                   ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 5779, in _compute_income_db
    func.coalesce(func.sum(LoanTopUp.interest_earned), 0).label('interest')
                           ^^^^^^^^^
NameError: name 'LoanTopUp' is not defined
[2025-08-01 07:32:27,697] INFO in app: ==================================================
[2025-08-01 07:32:27,703] INFO in app: Application logging initialized successfully
[2025-08-01 07:32:27,705] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 07:32:27,707] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 07:32:27,709] INFO in app: System encoding: utf-8
[2025-08-01 07:32:27,715] INFO in app: ==================================================
[2025-08-01 07:32:30,548] ERROR in app: Exception on /income_report [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 520, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 5751, in income_report
    one_time, scheduled, event_based = _compute_income_db(start_date, end_date)
                                       ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 5831, in _compute_income_db
    LoanApplication.closed_at != None,
    ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'LoanApplication' has no attribute 'closed_at'
[2025-08-01 07:32:37,948] ERROR in app: Exception on /income_report [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 520, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 5751, in income_report
    one_time, scheduled, event_based = _compute_income_db(start_date, end_date)
                                       ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 5831, in _compute_income_db
    LoanApplication.closed_at != None,
    ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'LoanApplication' has no attribute 'closed_at'
[2025-08-01 07:39:59,184] INFO in app: ==================================================
[2025-08-01 07:39:59,193] INFO in app: Application logging initialized successfully
[2025-08-01 07:39:59,206] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 07:39:59,210] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 07:39:59,216] INFO in app: System encoding: utf-8
[2025-08-01 07:39:59,222] INFO in app: ==================================================
[2025-08-01 07:40:14,142] ERROR in app: Exception on /detailed_income_breakdown [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 520, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 5882, in detailed_income_breakdown
    .having(func.sum(RepaymentSchedule.expected_interest) > 0 or func.sum(RepaymentSchedule.expected_fees) > 0)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 3964, in __bool__
    raise TypeError("Boolean value of this clause is not defined")
TypeError: Boolean value of this clause is not defined
[2025-08-01 07:47:39,644] INFO in app: ==================================================
[2025-08-01 07:47:39,653] INFO in app: Application logging initialized successfully
[2025-08-01 07:47:39,655] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 07:47:39,657] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 07:47:39,663] INFO in app: System encoding: utf-8
[2025-08-01 07:47:39,666] INFO in app: ==================================================
[2025-08-01 07:47:48,419] INFO in app: ==================================================
[2025-08-01 07:47:48,433] INFO in app: Application logging initialized successfully
[2025-08-01 07:47:48,439] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 07:47:48,441] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 07:47:48,445] INFO in app: System encoding: utf-8
[2025-08-01 07:47:48,448] INFO in app: ==================================================
[2025-08-01 07:47:52,290] ERROR in app: Exception on /detailed_income_breakdown [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 521, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 5890, in detailed_income_breakdown
    return render_template(
        'detailed_income_breakdown.html',
    ...<2 lines>...
        end_date=end_date.isoformat()
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: detailed_income_breakdown.html
[2025-08-01 07:48:34,304] INFO in app: ==================================================
[2025-08-01 07:48:34,311] INFO in app: Application logging initialized successfully
[2025-08-01 07:48:34,312] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 07:48:34,314] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 07:48:34,316] INFO in app: System encoding: utf-8
[2025-08-01 07:48:34,318] INFO in app: ==================================================
[2025-08-01 07:51:00,542] INFO in app: ==================================================
[2025-08-01 07:51:00,550] INFO in app: Application logging initialized successfully
[2025-08-01 07:51:00,552] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 07:51:00,553] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 07:51:00,554] INFO in app: System encoding: utf-8
[2025-08-01 07:51:00,556] INFO in app: ==================================================
[2025-08-01 08:27:50,746] INFO in app: ==================================================
[2025-08-01 08:27:50,753] INFO in app: Application logging initialized successfully
[2025-08-01 08:27:50,755] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 08:27:50,758] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 08:27:50,761] INFO in app: System encoding: utf-8
[2025-08-01 08:27:50,766] INFO in app: ==================================================
[2025-08-01 08:27:57,963] INFO in app: ==================================================
[2025-08-01 08:27:57,973] INFO in app: Application logging initialized successfully
[2025-08-01 08:27:57,975] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 08:27:57,978] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 08:27:57,981] INFO in app: System encoding: utf-8
[2025-08-01 08:27:57,984] INFO in app: ==================================================
[2025-08-01 08:29:16,900] INFO in app: ==================================================
[2025-08-01 08:29:16,921] INFO in app: Application logging initialized successfully
[2025-08-01 08:29:16,924] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 08:29:16,931] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 08:29:16,934] INFO in app: System encoding: utf-8
[2025-08-01 08:29:16,938] INFO in app: ==================================================
