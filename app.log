[2025-08-01 02:48:47,354] INFO in app: ==================================================
[2025-08-01 02:48:47,478] INFO in app: Application logging initialized successfully
[2025-08-01 02:48:47,480] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 02:48:47,481] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 02:48:47,484] INFO in app: System encoding: utf-8
[2025-08-01 02:48:47,489] INFO in app: ==================================================
2025-08-01 02:48:48,028 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 02:48:48,032 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 02:48:48,032 - INFO - Scheduler started
2025-08-01 02:48:48,054 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 02:48:48,054 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 02:48:48,054 - INFO - Scheduler started
2025-08-01 02:48:48,147 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-01 02:48:48,147 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-01 02:50:36,922] INFO in app: Found 6 agents and 5 team leaders
2025-08-01 02:50:36,922 - INFO - Found 6 agents and 5 team leaders
[2025-08-01 02:50:36,947] INFO in app: Found 5 loans for customer 202507000001
2025-08-01 02:50:36,947 - INFO - Found 5 loans for customer 202507000001
2025-08-01 02:50:37,168 - INFO - 127.0.0.1 - - [01/Aug/2025 02:50:37] "GET /customer/202507000001/account?section=additional HTTP/1.1" 200 -
2025-08-01 02:51:26,202 - INFO - 127.0.0.1 - - [01/Aug/2025 02:51:26] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-08-01 05:15:28,379] INFO in app: Found 6 agents and 5 team leaders
2025-08-01 05:15:28,379 - INFO - Found 6 agents and 5 team leaders
[2025-08-01 05:15:28,390] INFO in app: Found 5 loans for customer 202507000001
2025-08-01 05:15:28,390 - INFO - Found 5 loans for customer 202507000001
2025-08-01 05:15:28,420 - INFO - 127.0.0.1 - - [01/Aug/2025 05:15:28] "GET /customer/202507000001/account?section=additional HTTP/1.1" 200 -
2025-08-01 05:15:29,343 - INFO - 127.0.0.1 - - [01/Aug/2025 05:15:29] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-01 05:35:54,563 - INFO - Scheduler has been shut down
[2025-08-01 05:35:58,918] INFO in app: ==================================================
[2025-08-01 05:35:58,924] INFO in app: Application logging initialized successfully
[2025-08-01 05:35:58,927] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 05:35:58,929] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 05:35:58,932] INFO in app: System encoding: utf-8
[2025-08-01 05:35:58,934] INFO in app: ==================================================
2025-08-01 05:35:59,158 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 05:35:59,159 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 05:35:59,159 - INFO - Scheduler started
2025-08-01 05:35:59,171 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 05:35:59,171 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 05:35:59,171 - INFO - Scheduler started
2025-08-01 05:35:59,186 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-01 05:35:59,186 - INFO - [33mPress CTRL+C to quit[0m
2025-08-01 05:36:31,743 - INFO - 127.0.0.1 - - [01/Aug/2025 05:36:31] "[32mPOST /apply_additional/1 HTTP/1.1[0m" 302 -
[2025-08-01 05:36:31,759] INFO in app: Found 6 agents and 5 team leaders
2025-08-01 05:36:31,759 - INFO - Found 6 agents and 5 team leaders
[2025-08-01 05:36:31,774] INFO in app: Found 5 loans for customer 202507000001
2025-08-01 05:36:31,774 - INFO - Found 5 loans for customer 202507000001
2025-08-01 05:36:31,844 - INFO - 127.0.0.1 - - [01/Aug/2025 05:36:31] "GET /customer/202507000001/account?section=additional HTTP/1.1" 200 -
2025-08-01 05:46:10,730 - INFO - Scheduler has been shut down
[2025-08-01 05:46:13,980] INFO in app: ==================================================
[2025-08-01 05:46:13,987] INFO in app: Application logging initialized successfully
[2025-08-01 05:46:13,989] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 05:46:13,991] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 05:46:13,993] INFO in app: System encoding: utf-8
[2025-08-01 05:46:13,994] INFO in app: ==================================================
2025-08-01 05:46:14,202 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 05:46:14,204 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 05:46:14,204 - INFO - Scheduler started
2025-08-01 05:46:14,215 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 05:46:14,216 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 05:46:14,216 - INFO - Scheduler started
2025-08-01 05:46:14,234 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-01 05:46:14,234 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-01 05:46:18,962] INFO in app: Found 6 agents and 5 team leaders
2025-08-01 05:46:18,962 - INFO - Found 6 agents and 5 team leaders
[2025-08-01 05:46:18,978] INFO in app: Found 5 loans for customer 202507000001
2025-08-01 05:46:18,978 - INFO - Found 5 loans for customer 202507000001
2025-08-01 05:46:19,041 - INFO - 127.0.0.1 - - [01/Aug/2025 05:46:19] "GET /customer/202507000001/account?section=additional HTTP/1.1" 200 -
2025-08-01 05:46:20,983 - INFO - 127.0.0.1 - - [01/Aug/2025 05:46:20] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-01 05:46:55,946 - INFO - 127.0.0.1 - - [01/Aug/2025 05:46:55] "[32mPOST /apply_additional/1 HTTP/1.1[0m" 302 -
[2025-08-01 05:46:56,225] INFO in app: Found 6 agents and 5 team leaders
2025-08-01 05:46:56,225 - INFO - Found 6 agents and 5 team leaders
[2025-08-01 05:46:56,239] INFO in app: Found 5 loans for customer 202507000001
2025-08-01 05:46:56,239 - INFO - Found 5 loans for customer 202507000001
2025-08-01 05:46:56,259 - INFO - 127.0.0.1 - - [01/Aug/2025 05:46:56] "GET /customer/202507000001/account?section=additional HTTP/1.1" 200 -
2025-08-01 05:47:49,553 - INFO - Scheduler has been shut down
[2025-08-01 05:47:53,221] INFO in app: ==================================================
[2025-08-01 05:47:53,229] INFO in app: Application logging initialized successfully
[2025-08-01 05:47:53,231] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 05:47:53,234] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 05:47:53,239] INFO in app: System encoding: utf-8
[2025-08-01 05:47:53,242] INFO in app: ==================================================
2025-08-01 05:47:53,469 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 05:47:53,470 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 05:47:53,470 - INFO - Scheduler started
2025-08-01 05:47:53,485 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 05:47:53,486 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 05:47:53,486 - INFO - Scheduler started
2025-08-01 05:47:53,506 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-01 05:47:53,506 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-01 05:48:00,270] INFO in app: Found 6 agents and 5 team leaders
2025-08-01 05:48:00,270 - INFO - Found 6 agents and 5 team leaders
[2025-08-01 05:48:00,303] INFO in app: Found 5 loans for customer 202507000001
2025-08-01 05:48:00,303 - INFO - Found 5 loans for customer 202507000001
2025-08-01 05:48:00,409 - INFO - 127.0.0.1 - - [01/Aug/2025 05:48:00] "GET /customer/202507000001/account?section=additional HTTP/1.1" 200 -
2025-08-01 05:48:05,021 - INFO - 127.0.0.1 - - [01/Aug/2025 05:48:05] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-01 05:48:32,426 - INFO - 127.0.0.1 - - [01/Aug/2025 05:48:32] "[32mPOST /apply_additional/1 HTTP/1.1[0m" 302 -
[2025-08-01 05:48:32,665] INFO in app: Found 6 agents and 5 team leaders
2025-08-01 05:48:32,665 - INFO - Found 6 agents and 5 team leaders
[2025-08-01 05:48:32,682] INFO in app: Found 6 loans for customer 202507000001
2025-08-01 05:48:32,682 - INFO - Found 6 loans for customer 202507000001
2025-08-01 05:48:32,713 - INFO - 127.0.0.1 - - [01/Aug/2025 05:48:32] "GET /customer/202507000001/account?section=statement HTTP/1.1" 200 -
2025-08-01 05:48:43,303 - INFO - 127.0.0.1 - - [01/Aug/2025 05:48:43] "GET /loans HTTP/1.1" 200 -
2025-08-01 05:48:49,226 - INFO - 127.0.0.1 - - [01/Aug/2025 05:48:49] "[32mPOST /process_loan/9/approve HTTP/1.1[0m" 302 -
2025-08-01 05:48:49,287 - INFO - 127.0.0.1 - - [01/Aug/2025 05:48:49] "GET /loans HTTP/1.1" 200 -
2025-08-01 05:48:56,081 - INFO - 127.0.0.1 - - [01/Aug/2025 05:48:56] "GET /loanbook HTTP/1.1" 200 -
2025-08-01 05:50:16,985 - INFO - Scheduler has been shut down
[2025-08-01 05:50:21,253] INFO in app: ==================================================
[2025-08-01 05:50:21,262] INFO in app: Application logging initialized successfully
[2025-08-01 05:50:21,264] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 05:50:21,272] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 05:50:21,280] INFO in app: System encoding: utf-8
[2025-08-01 05:50:21,289] INFO in app: ==================================================
2025-08-01 05:50:21,636 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 05:50:21,637 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 05:50:21,637 - INFO - Scheduler started
2025-08-01 05:50:21,659 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 05:50:21,659 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 05:50:21,659 - INFO - Scheduler started
2025-08-01 05:50:21,681 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-01 05:50:21,681 - INFO - [33mPress CTRL+C to quit[0m
2025-08-01 05:50:25,799 - INFO - 127.0.0.1 - - [01/Aug/2025 05:50:25] "GET /loanbook HTTP/1.1" 200 -
2025-08-01 05:50:29,951 - INFO - 127.0.0.1 - - [01/Aug/2025 05:50:29] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-08-01 05:50:31,752] INFO in app: Found 6 agents and 5 team leaders
2025-08-01 05:50:31,752 - INFO - Found 6 agents and 5 team leaders
[2025-08-01 05:50:31,767] INFO in app: Found 6 loans for customer 202507000001
2025-08-01 05:50:31,767 - INFO - Found 6 loans for customer 202507000001
2025-08-01 05:50:31,819 - INFO - 127.0.0.1 - - [01/Aug/2025 05:50:31] "GET /customer/202507000001/account HTTP/1.1" 200 -
[2025-08-01 05:50:33,124] INFO in app: Found 6 agents and 5 team leaders
2025-08-01 05:50:33,124 - INFO - Found 6 agents and 5 team leaders
[2025-08-01 05:50:33,130] INFO in app: Found 6 loans for customer 202507000001
2025-08-01 05:50:33,130 - INFO - Found 6 loans for customer 202507000001
2025-08-01 05:50:33,142 - INFO - 127.0.0.1 - - [01/Aug/2025 05:50:33] "GET /customer/202507000001/account?section=topup HTTP/1.1" 200 -
[2025-08-01 05:51:24,857] INFO in app: [TOPUP] Submit route hit for loan 9
2025-08-01 05:51:24,857 - INFO - [TOPUP] Submit route hit for loan 9
2025-08-01 05:51:24,867 - INFO - 127.0.0.1 - - [01/Aug/2025 05:51:24] "[31m[1mPOST /topup/9 HTTP/1.1[0m" 413 -
[2025-08-01 05:52:21,253] INFO in app: [TOPUP] Submit route hit for loan 9
2025-08-01 05:52:21,253 - INFO - [TOPUP] Submit route hit for loan 9
[2025-08-01 05:52:21,332] INFO in app: [103000009] Top-up payment → principal: 0.0, interest: 0.0
2025-08-01 05:52:21,332 - INFO - [103000009] Top-up payment → principal: 0.0, interest: 0.0
[2025-08-01 05:52:21,334] INFO in app: [103000009] Loan marked as closed after top-up.
2025-08-01 05:52:21,334 - INFO - [103000009] Loan marked as closed after top-up.
2025-08-01 05:52:21,364 - INFO - 127.0.0.1 - - [01/Aug/2025 05:52:21] "[32mPOST /topup/9 HTTP/1.1[0m" 302 -
[2025-08-01 05:52:21,371] INFO in app: Found 6 agents and 5 team leaders
2025-08-01 05:52:21,371 - INFO - Found 6 agents and 5 team leaders
[2025-08-01 05:52:21,374] INFO in app: Found 7 loans for customer 202507000001
2025-08-01 05:52:21,374 - INFO - Found 7 loans for customer 202507000001
2025-08-01 05:52:21,388 - INFO - 127.0.0.1 - - [01/Aug/2025 05:52:21] "GET /customer/202507000001/account?section=statement HTTP/1.1" 200 -
2025-08-01 05:52:26,576 - INFO - 127.0.0.1 - - [01/Aug/2025 05:52:26] "GET /loans HTTP/1.1" 200 -
2025-08-01 05:52:30,770 - INFO - 127.0.0.1 - - [01/Aug/2025 05:52:30] "[32mPOST /process_loan/10/approve HTTP/1.1[0m" 302 -
2025-08-01 05:52:30,843 - INFO - 127.0.0.1 - - [01/Aug/2025 05:52:30] "GET /loans HTTP/1.1" 200 -
2025-08-01 05:52:37,110 - INFO - 127.0.0.1 - - [01/Aug/2025 05:52:37] "GET /loanbook HTTP/1.1" 200 -
[2025-08-01 05:52:41,985] INFO in app: Found 6 agents and 5 team leaders
2025-08-01 05:52:41,985 - INFO - Found 6 agents and 5 team leaders
[2025-08-01 05:52:41,991] INFO in app: Found 7 loans for customer 202507000001
2025-08-01 05:52:41,991 - INFO - Found 7 loans for customer 202507000001
2025-08-01 05:52:42,010 - INFO - 127.0.0.1 - - [01/Aug/2025 05:52:42] "GET /customer/202507000001/account HTTP/1.1" 200 -
2025-08-01 05:52:47,063 - INFO - 127.0.0.1 - - [01/Aug/2025 05:52:47] "GET /loan/103000009/statement HTTP/1.1" 200 -
2025-08-01 05:53:08,038 - INFO - 127.0.0.1 - - [01/Aug/2025 05:53:08] "GET /income_report HTTP/1.1" 200 -
[2025-08-01 05:56:31,701] INFO in app: ==================================================
[2025-08-01 05:56:31,712] INFO in app: Application logging initialized successfully
[2025-08-01 05:56:31,714] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 05:56:31,716] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 05:56:31,717] INFO in app: System encoding: utf-8
[2025-08-01 05:56:31,718] INFO in app: ==================================================
2025-08-01 05:56:32,174 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 05:56:32,179 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 05:56:32,179 - INFO - Scheduler started
2025-08-01 05:56:32,205 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 05:56:32,205 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 05:56:32,206 - INFO - Scheduler started
2025-08-01 06:09:46,603 - INFO - Scheduler has been shut down
[2025-08-01 06:09:54,012] INFO in app: ==================================================
[2025-08-01 06:09:54,044] INFO in app: Application logging initialized successfully
[2025-08-01 06:09:54,048] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 06:09:54,056] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 06:09:54,061] INFO in app: System encoding: utf-8
[2025-08-01 06:09:54,064] INFO in app: ==================================================
2025-08-01 06:09:54,405 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 06:09:54,407 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 06:09:54,407 - INFO - Scheduler started
2025-08-01 06:09:54,422 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 06:09:54,423 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 06:09:54,423 - INFO - Scheduler started
2025-08-01 06:15:40,355 - INFO - Scheduler has been shut down
2025-08-01 06:24:32,440 - INFO - Scheduler has been shut down
[2025-08-01 06:24:55,841] INFO in app: ==================================================
[2025-08-01 06:24:55,850] INFO in app: Application logging initialized successfully
[2025-08-01 06:24:55,852] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 06:24:55,853] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 06:24:55,857] INFO in app: System encoding: utf-8
[2025-08-01 06:24:55,859] INFO in app: ==================================================
2025-08-01 06:24:56,059 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 06:24:56,061 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 06:24:56,061 - INFO - Scheduler started
2025-08-01 06:24:56,077 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 06:24:56,077 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 06:24:56,078 - INFO - Scheduler started
2025-08-01 06:24:56,094 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-01 06:24:56,094 - INFO - [33mPress CTRL+C to quit[0m
2025-08-01 06:24:56,972 - INFO - 127.0.0.1 - - [01/Aug/2025 06:24:56] "GET / HTTP/1.1" 200 -
2025-08-01 06:24:57,262 - INFO - 127.0.0.1 - - [01/Aug/2025 06:24:57] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-01 06:25:01,563 - INFO - 127.0.0.1 - - [01/Aug/2025 06:25:01] "GET /dashboard/sales HTTP/1.1" 200 -
2025-08-01 06:25:01,837 - INFO - 127.0.0.1 - - [01/Aug/2025 06:25:01] "GET /notifications/sales-summary HTTP/1.1" 200 -
2025-08-01 06:25:12,244 - INFO - 127.0.0.1 - - [01/Aug/2025 06:25:12] "GET /dashboard/team-leader HTTP/1.1" 200 -
2025-08-01 06:25:15,162 - INFO - 127.0.0.1 - - [01/Aug/2025 06:25:15] "GET /dashboard/analytics HTTP/1.1" 200 -
2025-08-01 06:25:15,601 - INFO - 127.0.0.1 - - [01/Aug/2025 06:25:15] "GET /api/loans-by-region HTTP/1.1" 200 -
2025-08-01 06:25:15,903 - INFO - 127.0.0.1 - - [01/Aug/2025 06:25:15] "GET /api/loans-by-district HTTP/1.1" 200 -
2025-08-01 06:25:15,908 - INFO - 127.0.0.1 - - [01/Aug/2025 06:25:15] "GET /api/average-ticket-size HTTP/1.1" 200 -
2025-08-01 06:25:25,642 - INFO - 127.0.0.1 - - [01/Aug/2025 06:25:25] "GET /dashboard/sales HTTP/1.1" 200 -
2025-08-01 06:25:25,889 - INFO - 127.0.0.1 - - [01/Aug/2025 06:25:25] "GET /notifications/sales-summary HTTP/1.1" 200 -
2025-08-01 07:17:28,913 - INFO - 127.0.0.1 - - [01/Aug/2025 07:17:28] "GET /dashboard/sales HTTP/1.1" 200 -
2025-08-01 07:17:29,364 - INFO - 127.0.0.1 - - [01/Aug/2025 07:17:29] "GET /notifications/sales-summary HTTP/1.1" 200 -
2025-08-01 07:17:30,277 - INFO - 127.0.0.1 - - [01/Aug/2025 07:17:30] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-08-01 07:17:32,065] ERROR in app: Exception on /income_report [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 520, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 5829, in income_report
    
    ...<5 lines>...
    @role_required('finance_officer', 'admin')
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\income_report.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\income_report.html", line 88, in block 'content'
    <a href="{{ url_for('detailed_income_report', start_date=start_date, end_date=end_date) }}"
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'detailed_income_report' with values ['end_date', 'start_date']. Did you mean 'income_report' instead?
2025-08-01 07:17:32,065 - ERROR - Exception on /income_report [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 520, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 5829, in income_report
    
    ...<5 lines>...
    @role_required('finance_officer', 'admin')
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\income_report.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\income_report.html", line 88, in block 'content'
    <a href="{{ url_for('detailed_income_report', start_date=start_date, end_date=end_date) }}"
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'detailed_income_report' with values ['end_date', 'start_date']. Did you mean 'income_report' instead?
2025-08-01 07:17:32,139 - INFO - 127.0.0.1 - - [01/Aug/2025 07:17:32] "[35m[1mGET /income_report HTTP/1.1[0m" 500 -
2025-08-01 07:29:24,279 - INFO - Scheduler has been shut down
[2025-08-01 07:29:28,011] INFO in app: ==================================================
[2025-08-01 07:29:28,021] INFO in app: Application logging initialized successfully
[2025-08-01 07:29:28,025] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 07:29:28,027] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 07:29:28,037] INFO in app: System encoding: utf-8
[2025-08-01 07:29:28,042] INFO in app: ==================================================
2025-08-01 07:29:28,345 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 07:29:28,348 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 07:29:28,348 - INFO - Scheduler started
2025-08-01 07:29:28,362 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 07:29:28,362 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 07:29:28,362 - INFO - Scheduler started
2025-08-01 07:29:28,378 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-01 07:29:28,378 - INFO - [33mPress CTRL+C to quit[0m
2025-08-01 07:30:52,621 - INFO - Scheduler has been shut down
[2025-08-01 07:30:55,591] INFO in app: ==================================================
[2025-08-01 07:30:55,598] INFO in app: Application logging initialized successfully
[2025-08-01 07:30:55,600] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 07:30:55,603] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 07:30:55,613] INFO in app: System encoding: utf-8
[2025-08-01 07:30:55,615] INFO in app: ==================================================
2025-08-01 07:30:55,809 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 07:30:55,810 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 07:30:55,810 - INFO - Scheduler started
2025-08-01 07:30:55,821 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 07:30:55,821 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 07:30:55,822 - INFO - Scheduler started
2025-08-01 07:30:55,838 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-01 07:30:55,838 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-01 07:31:02,505] ERROR in app: Exception on /income_report [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 520, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 5847, in income_report
    one_time, accrued, recurring = _compute_income_db(start_date, end_date)
                                   ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 5779, in _compute_income_db
    func.coalesce(func.sum(LoanTopUp.interest_earned), 0).label('interest')
                           ^^^^^^^^^
NameError: name 'LoanTopUp' is not defined
2025-08-01 07:31:02,505 - ERROR - Exception on /income_report [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 520, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 5847, in income_report
    one_time, accrued, recurring = _compute_income_db(start_date, end_date)
                                   ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 5779, in _compute_income_db
    func.coalesce(func.sum(LoanTopUp.interest_earned), 0).label('interest')
                           ^^^^^^^^^
NameError: name 'LoanTopUp' is not defined
2025-08-01 07:31:02,527 - INFO - 127.0.0.1 - - [01/Aug/2025 07:31:02] "[35m[1mGET /income_report HTTP/1.1[0m" 500 -
2025-08-01 07:31:02,591 - INFO - 127.0.0.1 - - [01/Aug/2025 07:31:02] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-01 07:31:49,473 - INFO - Scheduler has been shut down
[2025-08-01 07:31:52,478] INFO in app: ==================================================
[2025-08-01 07:31:52,484] INFO in app: Application logging initialized successfully
[2025-08-01 07:31:52,487] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 07:31:52,488] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 07:31:52,491] INFO in app: System encoding: utf-8
[2025-08-01 07:31:52,493] INFO in app: ==================================================
2025-08-01 07:31:52,698 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 07:31:52,700 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 07:31:52,700 - INFO - Scheduler started
2025-08-01 07:31:52,711 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 07:31:52,712 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 07:31:52,712 - INFO - Scheduler started
2025-08-01 07:31:52,729 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-01 07:31:52,729 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-01 07:31:55,140] ERROR in app: Exception on /income_report [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 520, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 5847, in income_report
    one_time, accrued, recurring = _compute_income_db(start_date, end_date)
                                   ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 5779, in _compute_income_db
    func.coalesce(func.sum(LoanTopUp.interest_earned), 0).label('interest')
                           ^^^^^^^^^
NameError: name 'LoanTopUp' is not defined
2025-08-01 07:31:55,140 - ERROR - Exception on /income_report [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 520, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 5847, in income_report
    one_time, accrued, recurring = _compute_income_db(start_date, end_date)
                                   ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 5779, in _compute_income_db
    func.coalesce(func.sum(LoanTopUp.interest_earned), 0).label('interest')
                           ^^^^^^^^^
NameError: name 'LoanTopUp' is not defined
2025-08-01 07:31:55,161 - INFO - 127.0.0.1 - - [01/Aug/2025 07:31:55] "[35m[1mGET /income_report HTTP/1.1[0m" 500 -
2025-08-01 07:31:55,229 - INFO - 127.0.0.1 - - [01/Aug/2025 07:31:55] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-01 07:32:24,361 - INFO - Scheduler has been shut down
[2025-08-01 07:32:27,697] INFO in app: ==================================================
[2025-08-01 07:32:27,703] INFO in app: Application logging initialized successfully
[2025-08-01 07:32:27,705] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 07:32:27,707] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 07:32:27,709] INFO in app: System encoding: utf-8
[2025-08-01 07:32:27,715] INFO in app: ==================================================
2025-08-01 07:32:28,041 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 07:32:28,043 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 07:32:28,043 - INFO - Scheduler started
2025-08-01 07:32:28,062 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 07:32:28,062 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 07:32:28,062 - INFO - Scheduler started
2025-08-01 07:32:28,078 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-01 07:32:28,078 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-01 07:32:30,548] ERROR in app: Exception on /income_report [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 520, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 5751, in income_report
    one_time, scheduled, event_based = _compute_income_db(start_date, end_date)
                                       ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 5831, in _compute_income_db
    LoanApplication.closed_at != None,
    ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'LoanApplication' has no attribute 'closed_at'
2025-08-01 07:32:30,548 - ERROR - Exception on /income_report [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 520, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 5751, in income_report
    one_time, scheduled, event_based = _compute_income_db(start_date, end_date)
                                       ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 5831, in _compute_income_db
    LoanApplication.closed_at != None,
    ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'LoanApplication' has no attribute 'closed_at'
2025-08-01 07:32:30,566 - INFO - 127.0.0.1 - - [01/Aug/2025 07:32:30] "[35m[1mGET /income_report HTTP/1.1[0m" 500 -
2025-08-01 07:32:30,626 - INFO - 127.0.0.1 - - [01/Aug/2025 07:32:30] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-01 07:32:34,975 - INFO - 127.0.0.1 - - [01/Aug/2025 07:32:34] "GET /dashboard/sales HTTP/1.1" 200 -
2025-08-01 07:32:35,285 - INFO - 127.0.0.1 - - [01/Aug/2025 07:32:35] "GET /notifications/sales-summary HTTP/1.1" 200 -
2025-08-01 07:32:35,997 - INFO - 127.0.0.1 - - [01/Aug/2025 07:32:35] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-08-01 07:32:37,948] ERROR in app: Exception on /income_report [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 520, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 5751, in income_report
    one_time, scheduled, event_based = _compute_income_db(start_date, end_date)
                                       ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 5831, in _compute_income_db
    LoanApplication.closed_at != None,
    ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'LoanApplication' has no attribute 'closed_at'
2025-08-01 07:32:37,948 - ERROR - Exception on /income_report [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 520, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 5751, in income_report
    one_time, scheduled, event_based = _compute_income_db(start_date, end_date)
                                       ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 5831, in _compute_income_db
    LoanApplication.closed_at != None,
    ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'LoanApplication' has no attribute 'closed_at'
2025-08-01 07:32:37,975 - INFO - 127.0.0.1 - - [01/Aug/2025 07:32:37] "[35m[1mGET /income_report HTTP/1.1[0m" 500 -
2025-08-01 07:39:55,169 - INFO - Scheduler has been shut down
[2025-08-01 07:39:59,184] INFO in app: ==================================================
[2025-08-01 07:39:59,193] INFO in app: Application logging initialized successfully
[2025-08-01 07:39:59,206] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 07:39:59,210] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 07:39:59,216] INFO in app: System encoding: utf-8
[2025-08-01 07:39:59,222] INFO in app: ==================================================
2025-08-01 07:39:59,542 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 07:39:59,545 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 07:39:59,545 - INFO - Scheduler started
2025-08-01 07:39:59,565 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 07:39:59,565 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 07:39:59,566 - INFO - Scheduler started
2025-08-01 07:39:59,586 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-01 07:39:59,586 - INFO - [33mPress CTRL+C to quit[0m
2025-08-01 07:40:05,286 - INFO - 127.0.0.1 - - [01/Aug/2025 07:40:05] "GET /income_report HTTP/1.1" 200 -
2025-08-01 07:40:06,308 - INFO - 127.0.0.1 - - [01/Aug/2025 07:40:06] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-08-01 07:40:14,142] ERROR in app: Exception on /detailed_income_breakdown [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 520, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 5882, in detailed_income_breakdown
    .having(func.sum(RepaymentSchedule.expected_interest) > 0 or func.sum(RepaymentSchedule.expected_fees) > 0)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 3964, in __bool__
    raise TypeError("Boolean value of this clause is not defined")
TypeError: Boolean value of this clause is not defined
2025-08-01 07:40:14,142 - ERROR - Exception on /detailed_income_breakdown [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 520, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 5882, in detailed_income_breakdown
    .having(func.sum(RepaymentSchedule.expected_interest) > 0 or func.sum(RepaymentSchedule.expected_fees) > 0)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 3964, in __bool__
    raise TypeError("Boolean value of this clause is not defined")
TypeError: Boolean value of this clause is not defined
2025-08-01 07:40:14,169 - INFO - 127.0.0.1 - - [01/Aug/2025 07:40:14] "[35m[1mGET /detailed_income_breakdown HTTP/1.1[0m" 500 -
2025-08-01 07:47:35,873 - INFO - Scheduler has been shut down
[2025-08-01 07:47:39,644] INFO in app: ==================================================
[2025-08-01 07:47:39,653] INFO in app: Application logging initialized successfully
[2025-08-01 07:47:39,655] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 07:47:39,657] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 07:47:39,663] INFO in app: System encoding: utf-8
[2025-08-01 07:47:39,666] INFO in app: ==================================================
2025-08-01 07:47:39,976 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 07:47:39,979 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 07:47:39,979 - INFO - Scheduler started
2025-08-01 07:47:39,993 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 07:47:39,993 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 07:47:39,993 - INFO - Scheduler started
2025-08-01 07:47:40,013 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-01 07:47:40,013 - INFO - [33mPress CTRL+C to quit[0m
2025-08-01 07:47:45,096 - INFO - Scheduler has been shut down
[2025-08-01 07:47:48,419] INFO in app: ==================================================
[2025-08-01 07:47:48,433] INFO in app: Application logging initialized successfully
[2025-08-01 07:47:48,439] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 07:47:48,441] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 07:47:48,445] INFO in app: System encoding: utf-8
[2025-08-01 07:47:48,448] INFO in app: ==================================================
2025-08-01 07:47:48,740 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 07:47:48,741 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 07:47:48,742 - INFO - Scheduler started
2025-08-01 07:47:48,761 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 07:47:48,761 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 07:47:48,761 - INFO - Scheduler started
2025-08-01 07:47:48,781 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-01 07:47:48,781 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-01 07:47:52,290] ERROR in app: Exception on /detailed_income_breakdown [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 521, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 5890, in detailed_income_breakdown
    return render_template(
        'detailed_income_breakdown.html',
    ...<2 lines>...
        end_date=end_date.isoformat()
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: detailed_income_breakdown.html
2025-08-01 07:47:52,290 - ERROR - Exception on /detailed_income_breakdown [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 521, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 5890, in detailed_income_breakdown
    return render_template(
        'detailed_income_breakdown.html',
    ...<2 lines>...
        end_date=end_date.isoformat()
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: detailed_income_breakdown.html
2025-08-01 07:47:52,335 - INFO - 127.0.0.1 - - [01/Aug/2025 07:47:52] "[35m[1mGET /detailed_income_breakdown HTTP/1.1[0m" 500 -
2025-08-01 07:47:52,393 - INFO - 127.0.0.1 - - [01/Aug/2025 07:47:52] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-01 07:48:31,197 - INFO - Scheduler has been shut down
[2025-08-01 07:48:34,304] INFO in app: ==================================================
[2025-08-01 07:48:34,311] INFO in app: Application logging initialized successfully
[2025-08-01 07:48:34,312] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 07:48:34,314] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 07:48:34,316] INFO in app: System encoding: utf-8
[2025-08-01 07:48:34,318] INFO in app: ==================================================
2025-08-01 07:48:34,517 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 07:48:34,519 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 07:48:34,519 - INFO - Scheduler started
2025-08-01 07:48:34,536 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 07:48:34,537 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 07:48:34,537 - INFO - Scheduler started
2025-08-01 07:48:34,554 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-01 07:48:34,555 - INFO - [33mPress CTRL+C to quit[0m
2025-08-01 07:48:36,962 - INFO - 127.0.0.1 - - [01/Aug/2025 07:48:36] "GET /detailed_income_breakdown HTTP/1.1" 200 -
2025-08-01 07:48:37,897 - INFO - 127.0.0.1 - - [01/Aug/2025 07:48:37] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-01 07:49:43,654 - INFO - 127.0.0.1 - - [01/Aug/2025 07:49:43] "POST /detailed_income_breakdown HTTP/1.1" 200 -
[2025-08-01 07:51:00,542] INFO in app: ==================================================
[2025-08-01 07:51:00,550] INFO in app: Application logging initialized successfully
[2025-08-01 07:51:00,552] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 07:51:00,553] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 07:51:00,554] INFO in app: System encoding: utf-8
[2025-08-01 07:51:00,556] INFO in app: ==================================================
2025-08-01 07:51:00,761 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 07:51:00,763 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 07:51:00,763 - INFO - Scheduler started
2025-08-01 07:51:00,776 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 07:51:00,777 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 07:51:00,777 - INFO - Scheduler started
2025-08-01 07:54:13,851 - INFO - 127.0.0.1 - - [01/Aug/2025 07:54:13] "GET /income_report HTTP/1.1" 200 -
2025-08-01 07:54:23,804 - INFO - 127.0.0.1 - - [01/Aug/2025 07:54:23] "GET / HTTP/1.1" 200 -
2025-08-01 07:54:28,615 - INFO - 127.0.0.1 - - [01/Aug/2025 07:54:28] "GET /dashboard/sales HTTP/1.1" 200 -
2025-08-01 07:54:28,896 - INFO - 127.0.0.1 - - [01/Aug/2025 07:54:28] "GET /notifications/sales-summary HTTP/1.1" 200 -
2025-08-01 07:55:13,807 - INFO - 127.0.0.1 - - [01/Aug/2025 07:55:13] "GET /dashboard/team-leader HTTP/1.1" 200 -
2025-08-01 07:55:18,180 - INFO - 127.0.0.1 - - [01/Aug/2025 07:55:18] "GET /dashboard/analytics HTTP/1.1" 200 -
2025-08-01 07:55:18,265 - INFO - 127.0.0.1 - - [01/Aug/2025 07:55:18] "GET /api/loans-by-region HTTP/1.1" 200 -
2025-08-01 07:55:18,582 - INFO - 127.0.0.1 - - [01/Aug/2025 07:55:18] "GET /api/loans-by-district HTTP/1.1" 200 -
2025-08-01 07:55:18,595 - INFO - 127.0.0.1 - - [01/Aug/2025 07:55:18] "GET /api/average-ticket-size HTTP/1.1" 200 -
2025-08-01 07:55:21,129 - INFO - 127.0.0.1 - - [01/Aug/2025 07:55:21] "GET /dashboard/sales HTTP/1.1" 200 -
2025-08-01 07:55:21,361 - INFO - 127.0.0.1 - - [01/Aug/2025 07:55:21] "GET /notifications/sales-summary HTTP/1.1" 200 -
2025-08-01 08:26:51,081 - INFO - Scheduler has been shut down
[2025-08-01 08:27:50,746] INFO in app: ==================================================
[2025-08-01 08:27:50,753] INFO in app: Application logging initialized successfully
[2025-08-01 08:27:50,755] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 08:27:50,758] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 08:27:50,761] INFO in app: System encoding: utf-8
[2025-08-01 08:27:50,766] INFO in app: ==================================================
2025-08-01 08:27:50,988 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 08:27:50,990 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 08:27:50,991 - INFO - Scheduler started
2025-08-01 08:27:51,004 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 08:27:51,005 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 08:27:51,005 - INFO - Scheduler started
[2025-08-01 08:27:57,963] INFO in app: ==================================================
[2025-08-01 08:27:57,973] INFO in app: Application logging initialized successfully
[2025-08-01 08:27:57,975] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 08:27:57,978] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 08:27:57,981] INFO in app: System encoding: utf-8
[2025-08-01 08:27:57,984] INFO in app: ==================================================
2025-08-01 08:27:58,294 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 08:27:58,296 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 08:27:58,296 - INFO - Scheduler started
2025-08-01 08:27:58,313 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 08:27:58,315 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 08:27:58,315 - INFO - Scheduler started
[2025-08-01 08:29:16,900] INFO in app: ==================================================
[2025-08-01 08:29:16,921] INFO in app: Application logging initialized successfully
[2025-08-01 08:29:16,924] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 08:29:16,931] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 08:29:16,934] INFO in app: System encoding: utf-8
[2025-08-01 08:29:16,938] INFO in app: ==================================================
2025-08-01 08:29:17,206 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 08:29:17,207 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 08:29:17,207 - INFO - Scheduler started
2025-08-01 08:29:17,222 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 08:29:17,222 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 08:29:17,222 - INFO - Scheduler started
[2025-08-01 08:29:30,932] INFO in app: ==================================================
[2025-08-01 08:29:30,955] INFO in app: Application logging initialized successfully
[2025-08-01 08:29:30,959] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 08:29:30,963] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 08:29:30,965] INFO in app: System encoding: utf-8
[2025-08-01 08:29:30,971] INFO in app: ==================================================
2025-08-01 08:29:31,452 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 08:29:31,454 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 08:29:31,455 - INFO - Scheduler started
2025-08-01 08:29:31,470 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 08:29:31,470 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 08:29:31,470 - INFO - Scheduler started
[2025-08-01 08:29:54,741] INFO in app: ==================================================
[2025-08-01 08:29:54,749] INFO in app: Application logging initialized successfully
[2025-08-01 08:29:54,787] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 08:29:54,791] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 08:29:54,795] INFO in app: System encoding: utf-8
[2025-08-01 08:29:54,798] INFO in app: ==================================================
2025-08-01 08:29:55,053 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 08:29:55,055 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 08:29:55,055 - INFO - Scheduler started
2025-08-01 08:29:55,066 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 08:29:55,066 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 08:29:55,066 - INFO - Scheduler started
[2025-08-01 08:30:03,632] INFO in app: ==================================================
[2025-08-01 08:30:03,639] INFO in app: Application logging initialized successfully
[2025-08-01 08:30:03,641] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 08:30:03,643] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 08:30:03,645] INFO in app: System encoding: utf-8
[2025-08-01 08:30:03,650] INFO in app: ==================================================
2025-08-01 08:30:03,855 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 08:30:03,857 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 08:30:03,857 - INFO - Scheduler started
2025-08-01 08:30:03,869 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 08:30:03,869 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 08:30:03,869 - INFO - Scheduler started
[2025-08-01 08:30:08,033] INFO in app: ==================================================
[2025-08-01 08:30:08,039] INFO in app: Application logging initialized successfully
[2025-08-01 08:30:08,041] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 08:30:08,043] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 08:30:08,044] INFO in app: System encoding: utf-8
[2025-08-01 08:30:08,046] INFO in app: ==================================================
2025-08-01 08:30:08,371 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 08:30:08,372 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 08:30:08,372 - INFO - Scheduler started
2025-08-01 08:30:08,385 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 08:30:08,385 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 08:30:08,385 - INFO - Scheduler started
[2025-08-01 08:31:09,981] INFO in app: ==================================================
[2025-08-01 08:31:09,987] INFO in app: Application logging initialized successfully
[2025-08-01 08:31:09,990] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 08:31:09,992] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 08:31:09,994] INFO in app: System encoding: utf-8
[2025-08-01 08:31:09,998] INFO in app: ==================================================
2025-08-01 08:31:10,318 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 08:31:10,319 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 08:31:10,319 - INFO - Scheduler started
2025-08-01 08:31:10,337 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 08:31:10,337 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 08:31:10,337 - INFO - Scheduler started
[2025-08-01 08:31:15,119] INFO in app: ==================================================
[2025-08-01 08:31:15,127] INFO in app: Application logging initialized successfully
[2025-08-01 08:31:15,129] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 08:31:15,131] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 08:31:15,140] INFO in app: System encoding: utf-8
[2025-08-01 08:31:15,142] INFO in app: ==================================================
2025-08-01 08:31:15,337 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 08:31:15,338 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 08:31:15,338 - INFO - Scheduler started
2025-08-01 08:31:15,351 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 08:31:15,351 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 08:31:15,351 - INFO - Scheduler started
2025-08-01 08:31:15,368 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-01 08:31:15,369 - INFO - [33mPress CTRL+C to quit[0m
2025-08-01 08:47:17,438 - INFO - Scheduler has been shut down
[2025-08-01 08:48:12,813] INFO in app: ==================================================
[2025-08-01 08:48:12,829] INFO in app: Application logging initialized successfully
[2025-08-01 08:48:12,834] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 08:48:12,837] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 08:48:12,840] INFO in app: System encoding: utf-8
[2025-08-01 08:48:12,842] INFO in app: ==================================================
2025-08-01 08:48:13,189 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 08:48:13,191 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 08:48:13,191 - INFO - Scheduler started
2025-08-01 08:48:13,215 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 08:48:13,215 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 08:48:13,216 - INFO - Scheduler started
2025-08-01 08:48:13,237 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-01 08:48:13,238 - INFO - [33mPress CTRL+C to quit[0m
2025-08-01 08:48:17,784 - INFO - 127.0.0.1 - - [01/Aug/2025 08:48:17] "GET /dashboard/sales HTTP/1.1" 200 -
2025-08-01 08:48:18,043 - INFO - 127.0.0.1 - - [01/Aug/2025 08:48:18] "GET /notifications/sales-summary HTTP/1.1" 200 -
2025-08-01 08:48:18,515 - INFO - 127.0.0.1 - - [01/Aug/2025 08:48:18] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-01 08:48:20,133 - INFO - 127.0.0.1 - - [01/Aug/2025 08:48:20] "GET /loanbook HTTP/1.1" 200 -
[2025-08-01 08:48:22,016] INFO in app: Found 6 agents and 5 team leaders
2025-08-01 08:48:22,016 - INFO - Found 6 agents and 5 team leaders
[2025-08-01 08:48:22,061] INFO in app: Found 7 loans for customer 202507000001
2025-08-01 08:48:22,061 - INFO - Found 7 loans for customer 202507000001
2025-08-01 08:48:22,169 - INFO - 127.0.0.1 - - [01/Aug/2025 08:48:22] "GET /customer/202507000001/account HTTP/1.1" 200 -
[2025-08-01 08:48:24,182] INFO in app: Found 6 agents and 5 team leaders
2025-08-01 08:48:24,182 - INFO - Found 6 agents and 5 team leaders
[2025-08-01 08:48:24,204] INFO in app: Found 7 loans for customer 202507000001
2025-08-01 08:48:24,204 - INFO - Found 7 loans for customer 202507000001
2025-08-01 08:48:24,235 - INFO - 127.0.0.1 - - [01/Aug/2025 08:48:24] "GET /customer/202507000001/account?section=topup HTTP/1.1" 200 -
[2025-08-01 08:48:53,856] INFO in app: [TOPUP] Submit route hit for loan 8
2025-08-01 08:48:53,856 - INFO - [TOPUP] Submit route hit for loan 8
[2025-08-01 08:48:53,980] INFO in app: [124000008] Top-up payment → top_up_interest: 151867.92, principal: 0.0
2025-08-01 08:48:53,980 - INFO - [124000008] Top-up payment → top_up_interest: 151867.92, principal: 0.0
[2025-08-01 08:48:53,985] INFO in app: [124000008] Loan marked as closed after top-up payment.
2025-08-01 08:48:53,985 - INFO - [124000008] Loan marked as closed after top-up payment.
2025-08-01 08:48:54,023 - INFO - 127.0.0.1 - - [01/Aug/2025 08:48:54] "[32mPOST /topup/8 HTTP/1.1[0m" 302 -
[2025-08-01 08:48:54,164] INFO in app: Found 6 agents and 5 team leaders
2025-08-01 08:48:54,164 - INFO - Found 6 agents and 5 team leaders
[2025-08-01 08:48:54,182] INFO in app: Found 8 loans for customer 202507000001
2025-08-01 08:48:54,182 - INFO - Found 8 loans for customer 202507000001
2025-08-01 08:48:54,234 - INFO - 127.0.0.1 - - [01/Aug/2025 08:48:54] "GET /customer/202507000001/account?section=statement HTTP/1.1" 200 -
2025-08-01 08:48:57,002 - INFO - 127.0.0.1 - - [01/Aug/2025 08:48:57] "GET /loans HTTP/1.1" 200 -
2025-08-01 08:49:00,293 - INFO - 127.0.0.1 - - [01/Aug/2025 08:49:00] "[32mPOST /process_loan/11/approve HTTP/1.1[0m" 302 -
2025-08-01 08:49:00,466 - INFO - 127.0.0.1 - - [01/Aug/2025 08:49:00] "GET /loans HTTP/1.1" 200 -
2025-08-01 08:49:03,835 - INFO - 127.0.0.1 - - [01/Aug/2025 08:49:03] "GET /loanbook HTTP/1.1" 200 -
2025-08-01 08:49:14,389 - INFO - 127.0.0.1 - - [01/Aug/2025 08:49:14] "GET /loan/124000010/statement HTTP/1.1" 200 -
2025-08-01 08:49:22,247 - INFO - 127.0.0.1 - - [01/Aug/2025 08:49:22] "GET /loanbook HTTP/1.1" 200 -
2025-08-01 08:49:29,167 - INFO - 127.0.0.1 - - [01/Aug/2025 08:49:29] "GET /loan/124000008/statement HTTP/1.1" 200 -
2025-08-01 08:49:40,323 - INFO - 127.0.0.1 - - [01/Aug/2025 08:49:40] "GET /income_report HTTP/1.1" 200 -
2025-08-01 08:49:53,092 - INFO - 127.0.0.1 - - [01/Aug/2025 08:49:53] "GET /detailed_income_breakdown HTTP/1.1" 200 -
2025-08-01 08:59:31,897 - INFO - Scheduler has been shut down
[2025-08-01 08:59:35,838] INFO in app: ==================================================
[2025-08-01 08:59:35,848] INFO in app: Application logging initialized successfully
[2025-08-01 08:59:35,850] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 08:59:35,852] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 08:59:35,854] INFO in app: System encoding: utf-8
[2025-08-01 08:59:35,857] INFO in app: ==================================================
2025-08-01 08:59:36,188 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 08:59:36,199 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 08:59:36,199 - INFO - Scheduler started
2025-08-01 08:59:36,225 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 08:59:36,226 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 08:59:36,226 - INFO - Scheduler started
2025-08-01 08:59:36,246 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-01 08:59:36,247 - INFO - [33mPress CTRL+C to quit[0m
2025-08-01 09:00:04,145 - INFO - Scheduler has been shut down
[2025-08-01 09:00:07,609] INFO in app: ==================================================
[2025-08-01 09:00:07,622] INFO in app: Application logging initialized successfully
[2025-08-01 09:00:07,627] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 09:00:07,631] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 09:00:07,636] INFO in app: System encoding: utf-8
[2025-08-01 09:00:07,646] INFO in app: ==================================================
2025-08-01 09:00:07,953 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 09:00:07,954 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 09:00:07,955 - INFO - Scheduler started
2025-08-01 09:00:07,966 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 09:00:07,966 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 09:00:07,967 - INFO - Scheduler started
2025-08-01 09:00:07,982 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-01 09:00:07,982 - INFO - [33mPress CTRL+C to quit[0m
2025-08-01 09:00:12,754 - INFO - 127.0.0.1 - - [01/Aug/2025 09:00:12] "GET /detailed_income_breakdown HTTP/1.1" 200 -
2025-08-01 09:00:16,940 - INFO - 127.0.0.1 - - [01/Aug/2025 09:00:16] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-01 09:00:23,716 - INFO - 127.0.0.1 - - [01/Aug/2025 09:00:23] "GET /income_report HTTP/1.1" 200 -
2025-08-01 09:00:26,777 - INFO - 127.0.0.1 - - [01/Aug/2025 09:00:26] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-01 09:00:45,633 - INFO - 127.0.0.1 - - [01/Aug/2025 09:00:45] "GET /loanbook HTTP/1.1" 200 -
[2025-08-01 09:00:47,525] INFO in app: Found 6 agents and 5 team leaders
2025-08-01 09:00:47,525 - INFO - Found 6 agents and 5 team leaders
[2025-08-01 09:00:47,565] INFO in app: Found 8 loans for customer 202507000001
2025-08-01 09:00:47,565 - INFO - Found 8 loans for customer 202507000001
2025-08-01 09:00:47,694 - INFO - 127.0.0.1 - - [01/Aug/2025 09:00:47] "GET /customer/202507000001/account HTTP/1.1" 200 -
2025-08-01 09:00:51,657 - INFO - 127.0.0.1 - - [01/Aug/2025 09:00:51] "GET /loanbook HTTP/1.1" 200 -
[2025-08-01 09:00:53,938] INFO in app: Found 6 agents and 5 team leaders
2025-08-01 09:00:53,938 - INFO - Found 6 agents and 5 team leaders
[2025-08-01 09:00:53,961] INFO in app: Found 3 loans for customer 202507000002
2025-08-01 09:00:53,961 - INFO - Found 3 loans for customer 202507000002
2025-08-01 09:00:53,983 - INFO - 127.0.0.1 - - [01/Aug/2025 09:00:53] "GET /customer/202507000002/account HTTP/1.1" 200 -
[2025-08-01 09:00:56,713] INFO in app: Found 6 agents and 5 team leaders
2025-08-01 09:00:56,713 - INFO - Found 6 agents and 5 team leaders
[2025-08-01 09:00:56,737] INFO in app: Found 3 loans for customer 202507000002
2025-08-01 09:00:56,737 - INFO - Found 3 loans for customer 202507000002
2025-08-01 09:00:56,799 - INFO - 127.0.0.1 - - [01/Aug/2025 09:00:56] "GET /customer/202507000002/account?section=topup HTTP/1.1" 200 -
[2025-08-01 09:01:42,356] INFO in app: [TOPUP] Submit route hit for loan 7
2025-08-01 09:01:42,356 - INFO - [TOPUP] Submit route hit for loan 7
[2025-08-01 09:01:42,462] INFO in app: [124000007] Top-up payment → principal: 4026000.0, top-up interest: 416621.21
2025-08-01 09:01:42,462 - INFO - [124000007] Top-up payment → principal: 4026000.0, top-up interest: 416621.21
[2025-08-01 09:01:42,465] INFO in app: [124000007] Loan marked as closed after top-up.
2025-08-01 09:01:42,465 - INFO - [124000007] Loan marked as closed after top-up.
2025-08-01 09:01:42,493 - INFO - 127.0.0.1 - - [01/Aug/2025 09:01:42] "[32mPOST /topup/7 HTTP/1.1[0m" 302 -
[2025-08-01 09:01:42,647] INFO in app: Found 6 agents and 5 team leaders
2025-08-01 09:01:42,647 - INFO - Found 6 agents and 5 team leaders
[2025-08-01 09:01:42,657] INFO in app: Found 4 loans for customer 202507000002
2025-08-01 09:01:42,657 - INFO - Found 4 loans for customer 202507000002
2025-08-01 09:01:42,681 - INFO - 127.0.0.1 - - [01/Aug/2025 09:01:42] "GET /customer/202507000002/account?section=statement HTTP/1.1" 200 -
2025-08-01 09:01:45,072 - INFO - 127.0.0.1 - - [01/Aug/2025 09:01:45] "GET /loans HTTP/1.1" 200 -
2025-08-01 09:01:48,230 - INFO - 127.0.0.1 - - [01/Aug/2025 09:01:48] "[32mPOST /process_loan/12/approve HTTP/1.1[0m" 302 -
2025-08-01 09:01:48,430 - INFO - 127.0.0.1 - - [01/Aug/2025 09:01:48] "GET /loans HTTP/1.1" 200 -
2025-08-01 09:01:53,768 - INFO - 127.0.0.1 - - [01/Aug/2025 09:01:53] "GET /income_report HTTP/1.1" 200 -
2025-08-01 09:02:01,673 - INFO - 127.0.0.1 - - [01/Aug/2025 09:02:01] "GET /detailed_income_breakdown HTTP/1.1" 200 -
2025-08-01 09:05:07,878 - INFO - 127.0.0.1 - - [01/Aug/2025 09:05:07] "GET /loanbook HTTP/1.1" 200 -
2025-08-01 09:10:10,285 - INFO - Scheduler has been shut down
[2025-08-01 09:10:14,588] INFO in app: ==================================================
[2025-08-01 09:10:14,596] INFO in app: Application logging initialized successfully
[2025-08-01 09:10:14,600] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 09:10:14,602] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 09:10:14,605] INFO in app: System encoding: utf-8
[2025-08-01 09:10:14,607] INFO in app: ==================================================
2025-08-01 09:10:14,865 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 09:10:14,871 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 09:10:14,871 - INFO - Scheduler started
2025-08-01 09:10:14,898 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 09:10:14,899 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 09:10:14,899 - INFO - Scheduler started
2025-08-01 09:10:14,928 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-01 09:10:14,928 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-01 09:10:29,586] INFO in app: Found 6 agents and 5 team leaders
2025-08-01 09:10:29,586 - INFO - Found 6 agents and 5 team leaders
[2025-08-01 09:10:29,631] INFO in app: Found 8 loans for customer 202507000001
2025-08-01 09:10:29,631 - INFO - Found 8 loans for customer 202507000001
2025-08-01 09:10:29,844 - INFO - 127.0.0.1 - - [01/Aug/2025 09:10:29] "GET /customer/202507000001/account HTTP/1.1" 200 -
[2025-08-01 09:10:31,296] INFO in app: Found 6 agents and 5 team leaders
2025-08-01 09:10:31,296 - INFO - Found 6 agents and 5 team leaders
[2025-08-01 09:10:31,308] INFO in app: Found 8 loans for customer 202507000001
2025-08-01 09:10:31,308 - INFO - Found 8 loans for customer 202507000001
2025-08-01 09:10:31,331 - INFO - 127.0.0.1 - - [01/Aug/2025 09:10:31] "GET /customer/202507000001/account?section=topup HTTP/1.1" 200 -
[2025-08-01 09:11:00,508] INFO in app: [TOPUP] Submit route hit for loan 5
2025-08-01 09:11:00,508 - INFO - [TOPUP] Submit route hit for loan 5
[2025-08-01 09:11:00,675] INFO in app: [136000005] Top-up payment → principal: 2474600.0, top-up interest: 249103.71
2025-08-01 09:11:00,675 - INFO - [136000005] Top-up payment → principal: 2474600.0, top-up interest: 249103.71
[2025-08-01 09:11:00,679] INFO in app: [136000005] Loan marked as closed after top-up.
2025-08-01 09:11:00,679 - INFO - [136000005] Loan marked as closed after top-up.
2025-08-01 09:11:00,729 - INFO - 127.0.0.1 - - [01/Aug/2025 09:11:00] "[32mPOST /topup/5 HTTP/1.1[0m" 302 -
[2025-08-01 09:11:00,795] INFO in app: Found 6 agents and 5 team leaders
2025-08-01 09:11:00,795 - INFO - Found 6 agents and 5 team leaders
[2025-08-01 09:11:00,801] INFO in app: Found 9 loans for customer 202507000001
2025-08-01 09:11:00,801 - INFO - Found 9 loans for customer 202507000001
2025-08-01 09:11:00,817 - INFO - 127.0.0.1 - - [01/Aug/2025 09:11:00] "GET /customer/202507000001/account?section=statement HTTP/1.1" 200 -
2025-08-01 09:11:03,421 - INFO - 127.0.0.1 - - [01/Aug/2025 09:11:03] "GET /loans HTTP/1.1" 200 -
2025-08-01 09:11:06,901 - INFO - 127.0.0.1 - - [01/Aug/2025 09:11:06] "[32mPOST /process_loan/13/approve HTTP/1.1[0m" 302 -
2025-08-01 09:11:07,139 - INFO - 127.0.0.1 - - [01/Aug/2025 09:11:07] "GET /loans HTTP/1.1" 200 -
[2025-08-01 09:11:11,238] INFO in app: [DISBURSEMENT] Loan #112000001 | Top-up of: None | Cash to Client: 1000000.0
2025-08-01 09:11:11,238 - INFO - [DISBURSEMENT] Loan #112000001 | Top-up of: None | Cash to Client: 1000000.0
[2025-08-01 09:11:11,242] INFO in app: [DISBURSEMENT] Loan #136000002 | Top-up of: None | Cash to Client: 1500000.0
2025-08-01 09:11:11,242 - INFO - [DISBURSEMENT] Loan #136000002 | Top-up of: None | Cash to Client: 1500000.0
[2025-08-01 09:11:11,250] INFO in app: [DISBURSEMENT] Loan #124000003 | Top-up of: None | Cash to Client: 1200000.0
2025-08-01 09:11:11,250 - INFO - [DISBURSEMENT] Loan #124000003 | Top-up of: None | Cash to Client: 1200000.0
[2025-08-01 09:11:11,258] INFO in app: [DISBURSEMENT] Loan #118000004 | Top-up of: 1 | Cash to Client: 738713.64
2025-08-01 09:11:11,258 - INFO - [DISBURSEMENT] Loan #118000004 | Top-up of: 1 | Cash to Client: 738713.64
[2025-08-01 09:11:11,268] INFO in app: [DISBURSEMENT] Loan #136000005 | Top-up of: 4 | Cash to Client: 1276296.29
2025-08-01 09:11:11,268 - INFO - [DISBURSEMENT] Loan #136000005 | Top-up of: 4 | Cash to Client: 1276296.29
[2025-08-01 09:11:11,276] INFO in app: [DISBURSEMENT] Loan #136000006 | Top-up of: 2 | Cash to Client: 777034.17
2025-08-01 09:11:11,276 - INFO - [DISBURSEMENT] Loan #136000006 | Top-up of: 2 | Cash to Client: 777034.17
[2025-08-01 09:11:11,279] INFO in app: [DISBURSEMENT] Loan #124000007 | Top-up of: 6 | Cash to Client: 3557378.79
2025-08-01 09:11:11,279 - INFO - [DISBURSEMENT] Loan #124000007 | Top-up of: 6 | Cash to Client: 3557378.79
[2025-08-01 09:11:11,282] INFO in app: [DISBURSEMENT] Loan #124000008 | Top-up of: 3 | Cash to Client: 2360732.08
2025-08-01 09:11:11,282 - INFO - [DISBURSEMENT] Loan #124000008 | Top-up of: 3 | Cash to Client: 2360732.08
[2025-08-01 09:11:11,289] INFO in app: [DISBURSEMENT] Loan #103000009 | Top-up of: None | Cash to Client: 1200000.0
2025-08-01 09:11:11,289 - INFO - [DISBURSEMENT] Loan #103000009 | Top-up of: None | Cash to Client: 1200000.0
[2025-08-01 09:11:11,292] INFO in app: [DISBURSEMENT] Loan #124000010 | Top-up of: 9 | Cash to Client: 2508800.38
2025-08-01 09:11:11,292 - INFO - [DISBURSEMENT] Loan #124000010 | Top-up of: 9 | Cash to Client: 2508800.38
[2025-08-01 09:11:11,298] INFO in app: [DISBURSEMENT] Loan #103000011 | Top-up of: 8 | Cash to Client: 3543488.33
2025-08-01 09:11:11,298 - INFO - [DISBURSEMENT] Loan #103000011 | Top-up of: 8 | Cash to Client: 3543488.33
[2025-08-01 09:11:11,301] INFO in app: [DISBURSEMENT] Loan #124000012 | Top-up of: 7 | Cash to Client: 4090282.96
2025-08-01 09:11:11,301 - INFO - [DISBURSEMENT] Loan #124000012 | Top-up of: 7 | Cash to Client: 4090282.96
[2025-08-01 09:11:11,310] INFO in app: [DISBURSEMENT] Loan #136000013 | Top-up of: 5 | Cash to Client: 4077608.54
2025-08-01 09:11:11,310 - INFO - [DISBURSEMENT] Loan #136000013 | Top-up of: 5 | Cash to Client: 4077608.54
2025-08-01 09:11:11,351 - INFO - 127.0.0.1 - - [01/Aug/2025 09:11:11] "GET /disbursements HTTP/1.1" 200 -
[2025-08-01 09:11:17,520] ERROR in app: [DISBURSE] Error for loan 112000001: 'LoanApplication' object has no attribute 'repayment_schedule'
2025-08-01 09:11:17,520 - ERROR - [DISBURSE] Error for loan 112000001: 'LoanApplication' object has no attribute 'repayment_schedule'
[2025-08-01 09:11:17,527] ERROR in app: [DISBURSE] Error for loan 136000002: 'LoanApplication' object has no attribute 'repayment_schedule'
2025-08-01 09:11:17,527 - ERROR - [DISBURSE] Error for loan 136000002: 'LoanApplication' object has no attribute 'repayment_schedule'
[2025-08-01 09:11:17,554] ERROR in app: [DISBURSE] Error for loan 124000003: 'LoanApplication' object has no attribute 'repayment_schedule'
2025-08-01 09:11:17,554 - ERROR - [DISBURSE] Error for loan 124000003: 'LoanApplication' object has no attribute 'repayment_schedule'
[2025-08-01 09:11:17,624] ERROR in app: [DISBURSE] Error for loan 118000004: 'LoanApplication' object has no attribute 'repayment_schedule'
2025-08-01 09:11:17,624 - ERROR - [DISBURSE] Error for loan 118000004: 'LoanApplication' object has no attribute 'repayment_schedule'
[2025-08-01 09:11:17,734] ERROR in app: [DISBURSE] Error for loan 136000005: 'LoanApplication' object has no attribute 'repayment_schedule'
2025-08-01 09:11:17,734 - ERROR - [DISBURSE] Error for loan 136000005: 'LoanApplication' object has no attribute 'repayment_schedule'
[2025-08-01 09:11:17,813] ERROR in app: [DISBURSE] Error for loan 136000006: 'LoanApplication' object has no attribute 'repayment_schedule'
2025-08-01 09:11:17,813 - ERROR - [DISBURSE] Error for loan 136000006: 'LoanApplication' object has no attribute 'repayment_schedule'
[2025-08-01 09:11:17,830] ERROR in app: [DISBURSE] Error for loan 124000007: 'LoanApplication' object has no attribute 'repayment_schedule'
2025-08-01 09:11:17,830 - ERROR - [DISBURSE] Error for loan 124000007: 'LoanApplication' object has no attribute 'repayment_schedule'
[2025-08-01 09:11:17,840] ERROR in app: [DISBURSE] Error for loan 124000008: 'LoanApplication' object has no attribute 'repayment_schedule'
2025-08-01 09:11:17,840 - ERROR - [DISBURSE] Error for loan 124000008: 'LoanApplication' object has no attribute 'repayment_schedule'
[2025-08-01 09:11:17,853] ERROR in app: [DISBURSE] Error for loan 103000009: 'LoanApplication' object has no attribute 'repayment_schedule'
2025-08-01 09:11:17,853 - ERROR - [DISBURSE] Error for loan 103000009: 'LoanApplication' object has no attribute 'repayment_schedule'
[2025-08-01 09:11:17,862] ERROR in app: [DISBURSE] Error for loan 124000010: 'LoanApplication' object has no attribute 'repayment_schedule'
2025-08-01 09:11:17,862 - ERROR - [DISBURSE] Error for loan 124000010: 'LoanApplication' object has no attribute 'repayment_schedule'
[2025-08-01 09:11:17,873] ERROR in app: [DISBURSE] Error for loan 103000011: 'LoanApplication' object has no attribute 'repayment_schedule'
2025-08-01 09:11:17,873 - ERROR - [DISBURSE] Error for loan 103000011: 'LoanApplication' object has no attribute 'repayment_schedule'
[2025-08-01 09:11:17,881] ERROR in app: [DISBURSE] Error for loan 124000012: 'LoanApplication' object has no attribute 'repayment_schedule'
2025-08-01 09:11:17,881 - ERROR - [DISBURSE] Error for loan 124000012: 'LoanApplication' object has no attribute 'repayment_schedule'
[2025-08-01 09:11:17,888] ERROR in app: [DISBURSE] Error for loan 136000013: 'LoanApplication' object has no attribute 'repayment_schedule'
2025-08-01 09:11:17,888 - ERROR - [DISBURSE] Error for loan 136000013: 'LoanApplication' object has no attribute 'repayment_schedule'
2025-08-01 09:11:19,615 - INFO - 127.0.0.1 - - [01/Aug/2025 09:11:19] "[32mPOST /disbursements HTTP/1.1[0m" 302 -
[2025-08-01 09:11:19,644] INFO in app: [DISBURSEMENT] Loan #112000001 | Top-up of: None | Cash to Client: 1000000.0
2025-08-01 09:11:19,644 - INFO - [DISBURSEMENT] Loan #112000001 | Top-up of: None | Cash to Client: 1000000.0
[2025-08-01 09:11:19,646] INFO in app: [DISBURSEMENT] Loan #136000002 | Top-up of: None | Cash to Client: 1500000.0
2025-08-01 09:11:19,646 - INFO - [DISBURSEMENT] Loan #136000002 | Top-up of: None | Cash to Client: 1500000.0
[2025-08-01 09:11:19,649] INFO in app: [DISBURSEMENT] Loan #124000003 | Top-up of: None | Cash to Client: 1200000.0
2025-08-01 09:11:19,649 - INFO - [DISBURSEMENT] Loan #124000003 | Top-up of: None | Cash to Client: 1200000.0
[2025-08-01 09:11:19,652] INFO in app: [DISBURSEMENT] Loan #118000004 | Top-up of: 1 | Cash to Client: 738713.64
2025-08-01 09:11:19,652 - INFO - [DISBURSEMENT] Loan #118000004 | Top-up of: 1 | Cash to Client: 738713.64
[2025-08-01 09:11:19,655] INFO in app: [DISBURSEMENT] Loan #136000005 | Top-up of: 4 | Cash to Client: 1276296.29
2025-08-01 09:11:19,655 - INFO - [DISBURSEMENT] Loan #136000005 | Top-up of: 4 | Cash to Client: 1276296.29
[2025-08-01 09:11:19,657] INFO in app: [DISBURSEMENT] Loan #136000006 | Top-up of: 2 | Cash to Client: 777034.17
2025-08-01 09:11:19,657 - INFO - [DISBURSEMENT] Loan #136000006 | Top-up of: 2 | Cash to Client: 777034.17
[2025-08-01 09:11:19,665] INFO in app: [DISBURSEMENT] Loan #124000007 | Top-up of: 6 | Cash to Client: 3557378.79
2025-08-01 09:11:19,665 - INFO - [DISBURSEMENT] Loan #124000007 | Top-up of: 6 | Cash to Client: 3557378.79
[2025-08-01 09:11:19,668] INFO in app: [DISBURSEMENT] Loan #124000008 | Top-up of: 3 | Cash to Client: 2360732.08
2025-08-01 09:11:19,668 - INFO - [DISBURSEMENT] Loan #124000008 | Top-up of: 3 | Cash to Client: 2360732.08
[2025-08-01 09:11:19,671] INFO in app: [DISBURSEMENT] Loan #103000009 | Top-up of: None | Cash to Client: 1200000.0
2025-08-01 09:11:19,671 - INFO - [DISBURSEMENT] Loan #103000009 | Top-up of: None | Cash to Client: 1200000.0
[2025-08-01 09:11:19,675] INFO in app: [DISBURSEMENT] Loan #124000010 | Top-up of: 9 | Cash to Client: 2508800.38
2025-08-01 09:11:19,675 - INFO - [DISBURSEMENT] Loan #124000010 | Top-up of: 9 | Cash to Client: 2508800.38
[2025-08-01 09:11:19,678] INFO in app: [DISBURSEMENT] Loan #103000011 | Top-up of: 8 | Cash to Client: 3543488.33
2025-08-01 09:11:19,678 - INFO - [DISBURSEMENT] Loan #103000011 | Top-up of: 8 | Cash to Client: 3543488.33
[2025-08-01 09:11:19,694] INFO in app: [DISBURSEMENT] Loan #124000012 | Top-up of: 7 | Cash to Client: 4090282.96
2025-08-01 09:11:19,694 - INFO - [DISBURSEMENT] Loan #124000012 | Top-up of: 7 | Cash to Client: 4090282.96
[2025-08-01 09:11:19,707] INFO in app: [DISBURSEMENT] Loan #136000013 | Top-up of: 5 | Cash to Client: 4077608.54
2025-08-01 09:11:19,707 - INFO - [DISBURSEMENT] Loan #136000013 | Top-up of: 5 | Cash to Client: 4077608.54
2025-08-01 09:11:19,715 - INFO - 127.0.0.1 - - [01/Aug/2025 09:11:19] "GET /disbursements HTTP/1.1" 200 -
2025-08-01 09:11:27,313 - INFO - 127.0.0.1 - - [01/Aug/2025 09:11:27] "GET /payments HTTP/1.1" 200 -
2025-08-01 09:11:28,953 - INFO - 127.0.0.1 - - [01/Aug/2025 09:11:28] "GET /placements HTTP/1.1" 200 -
2025-08-01 09:11:34,647 - INFO - 127.0.0.1 - - [01/Aug/2025 09:11:34] "GET /arrears-waterfall HTTP/1.1" 200 -
2025-08-01 09:11:37,353 - INFO - 127.0.0.1 - - [01/Aug/2025 09:11:37] "GET /arrears-trend HTTP/1.1" 200 -
2025-08-01 09:11:51,564 - INFO - 127.0.0.1 - - [01/Aug/2025 09:11:51] "GET /loanbook HTTP/1.1" 200 -
2025-08-01 09:12:04,605 - INFO - 127.0.0.1 - - [01/Aug/2025 09:12:04] "GET /income_report HTTP/1.1" 200 -
2025-08-01 09:24:58,036 - INFO - Scheduler has been shut down
[2025-08-01 09:25:18,254] INFO in app: ==================================================
[2025-08-01 09:25:18,260] INFO in app: Application logging initialized successfully
[2025-08-01 09:25:18,262] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 09:25:18,264] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 09:25:18,267] INFO in app: System encoding: utf-8
[2025-08-01 09:25:18,270] INFO in app: ==================================================
2025-08-01 09:25:18,485 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 09:25:18,486 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 09:25:18,486 - INFO - Scheduler started
2025-08-01 09:25:18,501 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 09:25:18,502 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 09:25:18,502 - INFO - Scheduler started
[2025-08-01 09:25:24,482] INFO in app: ==================================================
[2025-08-01 09:25:24,499] INFO in app: Application logging initialized successfully
[2025-08-01 09:25:24,506] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 09:25:24,512] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 09:25:24,520] INFO in app: System encoding: utf-8
[2025-08-01 09:25:24,524] INFO in app: ==================================================
2025-08-01 09:25:24,875 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 09:25:24,876 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 09:25:24,876 - INFO - Scheduler started
2025-08-01 09:25:24,893 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 09:25:24,893 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 09:25:24,893 - INFO - Scheduler started
[2025-08-01 09:25:29,384] INFO in app: ==================================================
[2025-08-01 09:25:29,392] INFO in app: Application logging initialized successfully
[2025-08-01 09:25:29,395] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 09:25:29,397] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 09:25:29,402] INFO in app: System encoding: utf-8
[2025-08-01 09:25:29,420] INFO in app: ==================================================
2025-08-01 09:25:29,874 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 09:25:29,876 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 09:25:29,876 - INFO - Scheduler started
2025-08-01 09:25:29,896 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 09:25:29,896 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 09:25:29,896 - INFO - Scheduler started
2025-08-01 09:25:29,916 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-01 09:25:29,916 - INFO - [33mPress CTRL+C to quit[0m
2025-08-01 09:26:21,324 - INFO - Scheduler has been shut down
2025-08-01 09:26:27,237 - INFO - Scheduler has been shut down
[2025-08-01 09:26:30,688] INFO in app: ==================================================
[2025-08-01 09:26:30,697] INFO in app: Application logging initialized successfully
[2025-08-01 09:26:30,700] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 09:26:30,703] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 09:26:30,708] INFO in app: System encoding: utf-8
[2025-08-01 09:26:30,712] INFO in app: ==================================================
2025-08-01 09:26:30,983 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 09:26:30,985 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 09:26:30,985 - INFO - Scheduler started
2025-08-01 09:26:31,010 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 09:26:31,010 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 09:26:31,010 - INFO - Scheduler started
2025-08-01 09:26:31,037 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-01 09:26:31,037 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-01 09:26:36,715] INFO in app: ==================================================
[2025-08-01 09:26:36,725] INFO in app: Application logging initialized successfully
[2025-08-01 09:26:36,727] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 09:26:36,731] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 09:26:36,733] INFO in app: System encoding: utf-8
[2025-08-01 09:26:36,734] INFO in app: ==================================================
2025-08-01 09:26:36,932 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 09:26:36,933 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 09:26:36,933 - INFO - Scheduler started
2025-08-01 09:26:36,945 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 09:26:36,945 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 09:26:36,945 - INFO - Scheduler started
2025-08-01 09:28:55,785 - INFO - 127.0.0.1 - - [01/Aug/2025 09:28:55] "GET /income_report HTTP/1.1" 200 -
2025-08-01 09:28:57,383 - INFO - 127.0.0.1 - - [01/Aug/2025 09:28:57] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-01 10:10:56,438 - INFO - Scheduler has been shut down
[2025-08-01 10:11:01,625] INFO in app: ==================================================
[2025-08-01 10:11:01,645] INFO in app: Application logging initialized successfully
[2025-08-01 10:11:01,659] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 10:11:01,663] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 10:11:01,668] INFO in app: System encoding: utf-8
[2025-08-01 10:11:01,671] INFO in app: ==================================================
2025-08-01 10:11:02,093 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 10:11:02,096 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 10:11:02,096 - INFO - Scheduler started
2025-08-01 10:11:02,119 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 10:11:02,120 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 10:11:02,120 - INFO - Scheduler started
2025-08-01 10:11:02,160 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-01 10:11:02,161 - INFO - [33mPress CTRL+C to quit[0m
2025-08-01 10:11:08,953 - INFO - 127.0.0.1 - - [01/Aug/2025 10:11:08] "GET /loanbook HTTP/1.1" 200 -
[2025-08-01 10:11:15,292] INFO in app: Found 6 agents and 5 team leaders
2025-08-01 10:11:15,292 - INFO - Found 6 agents and 5 team leaders
[2025-08-01 10:11:15,329] INFO in app: Found 4 loans for customer 202507000002
2025-08-01 10:11:15,329 - INFO - Found 4 loans for customer 202507000002
2025-08-01 10:11:15,481 - INFO - 127.0.0.1 - - [01/Aug/2025 10:11:15] "GET /customer/202507000002/account HTTP/1.1" 200 -
[2025-08-01 10:11:25,731] INFO in app: Found 6 agents and 5 team leaders
2025-08-01 10:11:25,731 - INFO - Found 6 agents and 5 team leaders
[2025-08-01 10:11:25,752] INFO in app: Found 4 loans for customer 202507000002
2025-08-01 10:11:25,752 - INFO - Found 4 loans for customer 202507000002
2025-08-01 10:11:25,835 - INFO - 127.0.0.1 - - [01/Aug/2025 10:11:25] "GET /customer/202507000002/account?section=topup HTTP/1.1" 200 -
[2025-08-01 10:12:07,520] INFO in app: [TOPUP] Submit route hit for loan 12
2025-08-01 10:12:07,520 - INFO - [TOPUP] Submit route hit for loan 12
[2025-08-01 10:12:07,725] INFO in app: [124000012] Top-up payment → principal: 9899000.0, top-up interest: 1010717.04
2025-08-01 10:12:07,725 - INFO - [124000012] Top-up payment → principal: 9899000.0, top-up interest: 1010717.04
[2025-08-01 10:12:07,817] INFO in app: [124000012] Loan marked as closed after top-up.
2025-08-01 10:12:07,817 - INFO - [124000012] Loan marked as closed after top-up.
2025-08-01 10:12:07,938 - INFO - 127.0.0.1 - - [01/Aug/2025 10:12:07] "[32mPOST /topup/12 HTTP/1.1[0m" 302 -
[2025-08-01 10:12:07,958] INFO in app: Found 6 agents and 5 team leaders
2025-08-01 10:12:07,958 - INFO - Found 6 agents and 5 team leaders
[2025-08-01 10:12:07,967] INFO in app: Found 5 loans for customer 202507000002
2025-08-01 10:12:07,967 - INFO - Found 5 loans for customer 202507000002
2025-08-01 10:12:08,022 - INFO - 127.0.0.1 - - [01/Aug/2025 10:12:08] "GET /customer/202507000002/account?section=statement HTTP/1.1" 200 -
2025-08-01 10:12:09,562 - INFO - 127.0.0.1 - - [01/Aug/2025 10:12:09] "GET /loans HTTP/1.1" 200 -
2025-08-01 10:12:14,593 - INFO - 127.0.0.1 - - [01/Aug/2025 10:12:14] "[32mPOST /process_loan/14/approve HTTP/1.1[0m" 302 -
2025-08-01 10:12:14,911 - INFO - 127.0.0.1 - - [01/Aug/2025 10:12:14] "GET /loans HTTP/1.1" 200 -
2025-08-01 10:12:18,973 - INFO - 127.0.0.1 - - [01/Aug/2025 10:12:18] "GET /income_report HTTP/1.1" 200 -
2025-08-01 10:12:21,523 - INFO - 127.0.0.1 - - [01/Aug/2025 10:12:21] "GET /income_report HTTP/1.1" 200 -
2025-08-01 10:12:22,563 - INFO - 127.0.0.1 - - [01/Aug/2025 10:12:22] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-01 10:12:27,829 - INFO - 127.0.0.1 - - [01/Aug/2025 10:12:27] "GET /detailed_income_breakdown HTTP/1.1" 200 -
2025-08-01 10:12:35,752 - INFO - 127.0.0.1 - - [01/Aug/2025 10:12:35] "GET / HTTP/1.1" 200 -
2025-08-01 10:12:40,959 - INFO - 127.0.0.1 - - [01/Aug/2025 10:12:40] "GET /dashboard/sales HTTP/1.1" 200 -
2025-08-01 10:12:41,203 - INFO - 127.0.0.1 - - [01/Aug/2025 10:12:41] "GET /notifications/sales-summary HTTP/1.1" 200 -
2025-08-01 10:21:40,526 - INFO - Scheduler has been shut down
[2025-08-01 10:21:46,568] INFO in app: ==================================================
[2025-08-01 10:21:46,651] INFO in app: Application logging initialized successfully
[2025-08-01 10:21:46,664] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 10:21:46,669] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 10:21:46,679] INFO in app: System encoding: utf-8
[2025-08-01 10:21:46,682] INFO in app: ==================================================
2025-08-01 10:21:47,160 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 10:21:47,162 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 10:21:47,162 - INFO - Scheduler started
2025-08-01 10:21:47,180 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 10:21:47,180 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 10:21:47,180 - INFO - Scheduler started
2025-08-01 10:21:47,201 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-01 10:21:47,201 - INFO - [33mPress CTRL+C to quit[0m
2025-08-01 10:21:53,359 - INFO - 127.0.0.1 - - [01/Aug/2025 10:21:53] "GET /dashboard/sales HTTP/1.1" 200 -
2025-08-01 10:21:53,791 - INFO - 127.0.0.1 - - [01/Aug/2025 10:21:53] "GET /notifications/sales-summary HTTP/1.1" 200 -
2025-08-01 10:21:55,441 - INFO - 127.0.0.1 - - [01/Aug/2025 10:21:55] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-01 10:22:25,350 - INFO - Scheduler has been shut down
[2025-08-01 10:22:29,513] INFO in app: ==================================================
[2025-08-01 10:22:29,531] INFO in app: Application logging initialized successfully
[2025-08-01 10:22:29,537] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 10:22:29,540] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 10:22:29,542] INFO in app: System encoding: utf-8
[2025-08-01 10:22:29,547] INFO in app: ==================================================
2025-08-01 10:22:29,912 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 10:22:29,914 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 10:22:29,914 - INFO - Scheduler started
2025-08-01 10:22:29,931 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 10:22:29,932 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 10:22:29,932 - INFO - Scheduler started
2025-08-01 10:22:29,950 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-01 10:22:29,950 - INFO - [33mPress CTRL+C to quit[0m
2025-08-01 10:22:32,916 - INFO - 127.0.0.1 - - [01/Aug/2025 10:22:32] "GET /dashboard/sales HTTP/1.1" 200 -
2025-08-01 10:22:34,427 - INFO - 127.0.0.1 - - [01/Aug/2025 10:22:34] "GET /notifications/sales-summary HTTP/1.1" 200 -
2025-08-01 10:22:38,562 - INFO - 127.0.0.1 - - [01/Aug/2025 10:22:38] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-01 10:23:39,404 - INFO - Scheduler has been shut down
[2025-08-01 10:23:52,734] INFO in app: ==================================================
[2025-08-01 10:23:52,768] INFO in app: Application logging initialized successfully
[2025-08-01 10:23:52,774] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 10:23:52,788] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 10:23:52,793] INFO in app: System encoding: utf-8
[2025-08-01 10:23:52,814] INFO in app: ==================================================
2025-08-01 10:23:53,293 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 10:23:53,295 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 10:23:53,296 - INFO - Scheduler started
2025-08-01 10:23:53,324 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 10:23:53,324 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 10:23:53,324 - INFO - Scheduler started
2025-08-01 10:23:53,349 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-01 10:23:53,350 - INFO - [33mPress CTRL+C to quit[0m
2025-08-01 10:23:58,096 - INFO - 127.0.0.1 - - [01/Aug/2025 10:23:58] "GET /dashboard/sales HTTP/1.1" 200 -
2025-08-01 10:23:59,074 - INFO - 127.0.0.1 - - [01/Aug/2025 10:23:59] "GET /notifications/sales-summary HTTP/1.1" 200 -
2025-08-01 10:24:01,485 - INFO - 127.0.0.1 - - [01/Aug/2025 10:24:01] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-01 10:24:25,705 - INFO - 127.0.0.1 - - [01/Aug/2025 10:24:25] "GET /dashboard/team-leader HTTP/1.1" 200 -
2025-08-01 10:24:32,964 - INFO - 127.0.0.1 - - [01/Aug/2025 10:24:32] "GET /dashboard/analytics HTTP/1.1" 200 -
2025-08-01 10:24:33,122 - INFO - 127.0.0.1 - - [01/Aug/2025 10:24:33] "GET /api/loans-by-region HTTP/1.1" 200 -
2025-08-01 10:24:33,427 - INFO - 127.0.0.1 - - [01/Aug/2025 10:24:33] "GET /api/loans-by-district HTTP/1.1" 200 -
2025-08-01 10:24:33,442 - INFO - 127.0.0.1 - - [01/Aug/2025 10:24:33] "GET /api/average-ticket-size HTTP/1.1" 200 -
2025-08-01 10:27:50,843 - INFO - Scheduler has been shut down
[2025-08-01 10:29:34,912] INFO in app: ==================================================
[2025-08-01 10:29:34,929] INFO in app: Application logging initialized successfully
[2025-08-01 10:29:34,937] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 10:29:34,953] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 10:29:34,963] INFO in app: System encoding: utf-8
[2025-08-01 10:29:34,979] INFO in app: ==================================================
2025-08-01 10:29:35,391 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 10:29:35,394 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 10:29:35,394 - INFO - Scheduler started
2025-08-01 10:29:35,435 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 10:29:35,436 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 10:29:35,436 - INFO - Scheduler started
2025-08-01 10:29:35,532 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-01 10:29:35,532 - INFO - [33mPress CTRL+C to quit[0m
2025-08-01 10:33:49,604 - INFO - 127.0.0.1 - - [01/Aug/2025 10:33:49] "GET /dashboard/sales HTTP/1.1" 200 -
2025-08-01 10:33:49,735 - INFO - 127.0.0.1 - - [01/Aug/2025 10:33:49] "GET /notifications/sales-summary HTTP/1.1" 200 -
2025-08-01 10:33:57,052 - INFO - 127.0.0.1 - - [01/Aug/2025 10:33:57] "GET /dashboard/sales HTTP/1.1" 200 -
2025-08-01 10:33:57,376 - INFO - 127.0.0.1 - - [01/Aug/2025 10:33:57] "GET /notifications/sales-summary HTTP/1.1" 200 -
2025-08-01 10:33:58,247 - INFO - 127.0.0.1 - - [01/Aug/2025 10:33:58] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-01 10:53:24,334 - INFO - Scheduler has been shut down
[2025-08-01 10:53:30,203] INFO in app: ==================================================
[2025-08-01 10:53:30,213] INFO in app: Application logging initialized successfully
[2025-08-01 10:53:30,216] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 10:53:30,220] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 10:53:30,223] INFO in app: System encoding: utf-8
[2025-08-01 10:53:30,226] INFO in app: ==================================================
2025-08-01 10:53:30,577 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 10:53:30,580 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 10:53:30,580 - INFO - Scheduler started
2025-08-01 10:53:30,609 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 10:53:30,610 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 10:53:30,610 - INFO - Scheduler started
2025-08-01 10:53:30,661 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-01 10:53:30,662 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-01 10:53:34,811] ERROR in app: Exception on /dashboard/sales [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7542, in sales_dashboard
    total_loan = sum(loan.amount_requested or 0 for loan in loans)
  File "C:\Users\pc\loan-app\app.py", line 7542, in <genexpr>
    total_loan = sum(loan.amount_requested or 0 for loan in loans)
                     ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'LoanApplication' object has no attribute 'amount_requested'
2025-08-01 10:53:34,811 - ERROR - Exception on /dashboard/sales [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7542, in sales_dashboard
    total_loan = sum(loan.amount_requested or 0 for loan in loans)
  File "C:\Users\pc\loan-app\app.py", line 7542, in <genexpr>
    total_loan = sum(loan.amount_requested or 0 for loan in loans)
                     ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'LoanApplication' object has no attribute 'amount_requested'
2025-08-01 10:53:34,873 - INFO - 127.0.0.1 - - [01/Aug/2025 10:53:34] "[35m[1mGET /dashboard/sales HTTP/1.1[0m" 500 -
2025-08-01 10:53:34,998 - INFO - 127.0.0.1 - - [01/Aug/2025 10:53:34] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-01 10:55:26,983 - INFO - Scheduler has been shut down
[2025-08-01 10:55:32,116] INFO in app: ==================================================
[2025-08-01 10:55:32,125] INFO in app: Application logging initialized successfully
[2025-08-01 10:55:32,129] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 10:55:32,131] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 10:55:32,134] INFO in app: System encoding: utf-8
[2025-08-01 10:55:32,141] INFO in app: ==================================================
2025-08-01 10:55:32,434 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 10:55:32,436 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 10:55:32,437 - INFO - Scheduler started
[2025-08-01 10:57:09,397] INFO in app: ==================================================
[2025-08-01 10:57:09,405] INFO in app: Application logging initialized successfully
[2025-08-01 10:57:09,413] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 10:57:09,419] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 10:57:09,423] INFO in app: System encoding: utf-8
[2025-08-01 10:57:09,426] INFO in app: ==================================================
2025-08-01 10:57:09,776 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 10:57:09,778 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 10:57:09,778 - INFO - Scheduler started
2025-08-01 10:57:09,803 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 10:57:09,803 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 10:57:09,803 - INFO - Scheduler started
2025-08-01 10:57:09,821 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-01 10:57:09,821 - INFO - [33mPress CTRL+C to quit[0m
2025-08-01 10:57:13,599 - INFO - 127.0.0.1 - - [01/Aug/2025 10:57:13] "GET /dashboard/sales HTTP/1.1" 200 -
2025-08-01 10:57:14,275 - INFO - 127.0.0.1 - - [01/Aug/2025 10:57:14] "GET /notifications/sales-summary HTTP/1.1" 200 -
2025-08-01 10:57:15,338 - INFO - 127.0.0.1 - - [01/Aug/2025 10:57:15] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-01 10:57:25,271 - INFO - 127.0.0.1 - - [01/Aug/2025 10:57:25] "GET /dashboard/team-leader HTTP/1.1" 200 -
2025-08-01 10:57:27,494 - INFO - 127.0.0.1 - - [01/Aug/2025 10:57:27] "GET /dashboard/analytics HTTP/1.1" 200 -
2025-08-01 10:57:27,813 - INFO - 127.0.0.1 - - [01/Aug/2025 10:57:27] "GET /api/loans-by-region HTTP/1.1" 200 -
2025-08-01 10:57:27,954 - INFO - 127.0.0.1 - - [01/Aug/2025 10:57:27] "GET /api/loans-by-district HTTP/1.1" 200 -
2025-08-01 10:57:27,957 - INFO - 127.0.0.1 - - [01/Aug/2025 10:57:27] "GET /api/average-ticket-size HTTP/1.1" 200 -
2025-08-01 10:57:29,862 - INFO - 127.0.0.1 - - [01/Aug/2025 10:57:29] "GET /dashboard/sales HTTP/1.1" 200 -
2025-08-01 10:57:30,103 - INFO - 127.0.0.1 - - [01/Aug/2025 10:57:30] "GET /notifications/sales-summary HTTP/1.1" 200 -
[2025-08-01 15:47:09,941] INFO in app: ==================================================
[2025-08-01 15:47:10,027] INFO in app: Application logging initialized successfully
[2025-08-01 15:47:10,030] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 15:47:10,031] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 15:47:10,033] INFO in app: System encoding: utf-8
[2025-08-01 15:47:10,037] INFO in app: ==================================================
2025-08-01 15:47:10,457 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 15:47:10,459 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 15:47:10,459 - INFO - Scheduler started
2025-08-01 15:47:10,478 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 15:47:10,478 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 15:47:10,478 - INFO - Scheduler started
2025-08-01 15:47:10,520 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-01 15:47:10,520 - INFO - [33mPress CTRL+C to quit[0m
2025-08-01 15:47:15,088 - INFO - Scheduler has been shut down
[2025-08-01 15:47:18,378] INFO in app: ==================================================
[2025-08-01 15:47:18,385] INFO in app: Application logging initialized successfully
[2025-08-01 15:47:18,388] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 15:47:18,393] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 15:47:18,398] INFO in app: System encoding: utf-8
[2025-08-01 15:47:18,401] INFO in app: ==================================================
2025-08-01 15:47:18,654 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 15:47:18,656 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 15:47:18,656 - INFO - Scheduler started
2025-08-01 15:47:18,668 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 15:47:18,668 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 15:47:18,668 - INFO - Scheduler started
2025-08-01 15:47:18,683 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-01 15:47:18,683 - INFO - [33mPress CTRL+C to quit[0m
2025-08-01 15:47:23,802 - INFO - 127.0.0.1 - - [01/Aug/2025 15:47:23] "GET /dashboard/sales HTTP/1.1" 200 -
2025-08-01 15:47:24,077 - INFO - 127.0.0.1 - - [01/Aug/2025 15:47:24] "GET /notifications/sales-summary HTTP/1.1" 200 -
2025-08-01 15:47:24,708 - INFO - 127.0.0.1 - - [01/Aug/2025 15:47:24] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-08-01 15:51:12,928] INFO in app: ==================================================
[2025-08-01 15:51:12,937] INFO in app: Application logging initialized successfully
[2025-08-01 15:51:12,938] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-01 15:51:12,939] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-01 15:51:12,941] INFO in app: System encoding: utf-8
[2025-08-01 15:51:12,943] INFO in app: ==================================================
2025-08-01 15:51:13,217 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 15:51:13,218 - INFO - Added job "snapshot_par" to job store "default"
2025-08-01 15:51:13,218 - INFO - Scheduler started
2025-08-01 15:51:13,230 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-01 15:51:13,230 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-01 15:51:13,230 - INFO - Scheduler started
2025-08-01 18:31:45,366 - WARNING - Run time of job "send_sales_notification_email (trigger: cron[hour='17', minute='0'], next run at: 2025-08-01 17:00:00 SAST)" was missed by 1:31:45.365178
2025-08-01 18:31:45,390 - WARNING - Run time of job "send_sales_notification_email (trigger: cron[hour='17', minute='0'], next run at: 2025-08-01 17:00:00 SAST)" was missed by 1:31:45.388754
[2025-08-02 07:57:56,503] INFO in app: ==================================================
[2025-08-02 07:57:56,578] INFO in app: Application logging initialized successfully
[2025-08-02 07:57:56,580] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-02 07:57:56,582] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-02 07:57:56,583] INFO in app: System encoding: utf-8
[2025-08-02 07:57:56,589] INFO in app: ==================================================
2025-08-02 07:57:56,882 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-02 07:57:56,884 - INFO - Added job "snapshot_par" to job store "default"
2025-08-02 07:57:56,884 - INFO - Scheduler started
2025-08-02 07:57:56,896 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-02 07:57:56,896 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-02 07:57:56,896 - INFO - Scheduler started
2025-08-02 07:57:56,933 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-02 07:57:56,933 - INFO - [33mPress CTRL+C to quit[0m
2025-08-02 08:08:23,224 - INFO - Scheduler has been shut down
[2025-08-02 08:08:26,744] INFO in app: ==================================================
[2025-08-02 08:08:26,751] INFO in app: Application logging initialized successfully
[2025-08-02 08:08:26,753] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-02 08:08:26,756] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-02 08:08:26,758] INFO in app: System encoding: utf-8
[2025-08-02 08:08:26,761] INFO in app: ==================================================
2025-08-02 08:08:27,186 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-02 08:08:27,200 - INFO - Added job "snapshot_par" to job store "default"
2025-08-02 08:08:27,201 - INFO - Scheduler started
2025-08-02 08:08:27,246 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-02 08:08:27,247 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-02 08:08:27,247 - INFO - Scheduler started
2025-08-02 08:08:27,281 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-02 08:08:27,281 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-02 08:09:58,285] ERROR in app: Exception on /dashboard/sales [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7563, in sales_dashboard
    return render_template(
        "dashboard/sales_dashboard.html",
    ...<5 lines>...
        notif=notif
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\dashboard\sales_dashboard.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\dashboard\sales_dashboard.html", line 17, in block 'content'
    {% include "dashboard/_tabs.html" with context %}
    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\dashboard\_tabs.html", line 6, in top-level template code
    <a class="nav-link {% if active_tab == 'team' %}active{% endif %}" href="{{ url_for('team_leader_dashboard') }}">Team Leader</a>
    ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'team_leader_dashboard'. Did you mean 'sales_dashboard' instead?
2025-08-02 08:09:58,285 - ERROR - Exception on /dashboard/sales [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7563, in sales_dashboard
    return render_template(
        "dashboard/sales_dashboard.html",
    ...<5 lines>...
        notif=notif
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\dashboard\sales_dashboard.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\dashboard\sales_dashboard.html", line 17, in block 'content'
    {% include "dashboard/_tabs.html" with context %}
    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\dashboard\_tabs.html", line 6, in top-level template code
    <a class="nav-link {% if active_tab == 'team' %}active{% endif %}" href="{{ url_for('team_leader_dashboard') }}">Team Leader</a>
    ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'team_leader_dashboard'. Did you mean 'sales_dashboard' instead?
2025-08-02 08:09:58,345 - INFO - 127.0.0.1 - - [02/Aug/2025 08:09:58] "[35m[1mGET /dashboard/sales HTTP/1.1[0m" 500 -
2025-08-02 08:09:58,510 - INFO - 127.0.0.1 - - [02/Aug/2025 08:09:58] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-02 08:25:40,413 - INFO - Scheduler has been shut down
[2025-08-02 08:25:43,647] INFO in app: ==================================================
[2025-08-02 08:25:43,654] INFO in app: Application logging initialized successfully
[2025-08-02 08:25:43,657] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-02 08:25:43,658] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-02 08:25:43,659] INFO in app: System encoding: utf-8
[2025-08-02 08:25:43,661] INFO in app: ==================================================
2025-08-02 08:25:43,854 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-02 08:25:43,855 - INFO - Added job "snapshot_par" to job store "default"
2025-08-02 08:25:43,855 - INFO - Scheduler started
2025-08-02 08:25:43,865 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-02 08:25:43,865 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-02 08:25:43,866 - INFO - Scheduler started
2025-08-02 08:25:43,879 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-02 08:25:43,879 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-02 08:25:47,916] ERROR in app: Exception on /dashboard/sales [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7563, in sales_dashboard
    return render_template(
        "dashboard/sales_dashboard.html",
    ...<5 lines>...
        notif=notif
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\dashboard\sales_dashboard.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\dashboard\sales_dashboard.html", line 20, in block 'content'
    <a href="{{ url_for('add_team_with_agents') }}" class="btn btn-success" aria-label="Add new team and agents">
    ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'add_team_with_agents'. Did you mean 'delete_test_payments' instead?
2025-08-02 08:25:47,916 - ERROR - Exception on /dashboard/sales [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7563, in sales_dashboard
    return render_template(
        "dashboard/sales_dashboard.html",
    ...<5 lines>...
        notif=notif
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\dashboard\sales_dashboard.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\dashboard\sales_dashboard.html", line 20, in block 'content'
    <a href="{{ url_for('add_team_with_agents') }}" class="btn btn-success" aria-label="Add new team and agents">
    ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'add_team_with_agents'. Did you mean 'delete_test_payments' instead?
2025-08-02 08:25:47,950 - INFO - 127.0.0.1 - - [02/Aug/2025 08:25:47] "[35m[1mGET /dashboard/sales HTTP/1.1[0m" 500 -
2025-08-02 08:25:48,002 - INFO - 127.0.0.1 - - [02/Aug/2025 08:25:48] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-02 10:40:35,608 - INFO - Scheduler has been shut down
[2025-08-02 10:40:40,190] INFO in app: ==================================================
[2025-08-02 10:40:40,216] INFO in app: Application logging initialized successfully
[2025-08-02 10:40:40,220] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-02 10:40:40,244] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-02 10:40:40,251] INFO in app: System encoding: utf-8
[2025-08-02 10:40:40,267] INFO in app: ==================================================
2025-08-02 10:40:40,648 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-02 10:40:40,650 - INFO - Added job "snapshot_par" to job store "default"
2025-08-02 10:40:40,650 - INFO - Scheduler started
2025-08-02 10:40:40,673 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-02 10:40:40,674 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-02 10:40:40,674 - INFO - Scheduler started
2025-08-02 10:40:40,699 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-02 10:40:40,747 - INFO - [33mPress CTRL+C to quit[0m
2025-08-02 10:40:44,039 - INFO - 127.0.0.1 - - [02/Aug/2025 10:40:44] "GET /dashboard/sales HTTP/1.1" 200 -
2025-08-02 10:40:44,842 - INFO - 127.0.0.1 - - [02/Aug/2025 10:40:44] "GET /notifications/sales-summary HTTP/1.1" 200 -
2025-08-02 10:40:46,077 - INFO - 127.0.0.1 - - [02/Aug/2025 10:40:46] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-02 10:41:52,542 - INFO - 127.0.0.1 - - [02/Aug/2025 10:41:52] "GET /dashboard/team-leader HTTP/1.1" 200 -
2025-08-02 10:42:06,021 - INFO - 127.0.0.1 - - [02/Aug/2025 10:42:06] "GET /dashboard/analytics HTTP/1.1" 200 -
2025-08-02 10:42:06,579 - INFO - 127.0.0.1 - - [02/Aug/2025 10:42:06] "GET /api/loans-by-region HTTP/1.1" 200 -
2025-08-02 10:42:06,882 - INFO - 127.0.0.1 - - [02/Aug/2025 10:42:06] "GET /api/loans-by-district HTTP/1.1" 200 -
2025-08-02 10:42:06,885 - INFO - 127.0.0.1 - - [02/Aug/2025 10:42:06] "GET /api/average-ticket-size HTTP/1.1" 200 -
2025-08-02 10:42:11,021 - INFO - 127.0.0.1 - - [02/Aug/2025 10:42:11] "GET /dashboard/sales HTTP/1.1" 200 -
2025-08-02 10:42:11,251 - INFO - 127.0.0.1 - - [02/Aug/2025 10:42:11] "GET /notifications/sales-summary HTTP/1.1" 200 -
[2025-08-02 11:48:25,279] INFO in app: ==================================================
[2025-08-02 11:48:25,285] INFO in app: Application logging initialized successfully
[2025-08-02 11:48:25,286] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-02 11:48:25,287] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-02 11:48:25,288] INFO in app: System encoding: utf-8
[2025-08-02 11:48:25,289] INFO in app: ==================================================
2025-08-02 11:48:25,504 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-02 11:48:25,505 - INFO - Added job "snapshot_par" to job store "default"
2025-08-02 11:48:25,505 - INFO - Scheduler started
2025-08-02 11:48:25,517 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-02 11:48:25,517 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-02 11:48:25,517 - INFO - Scheduler started
2025-08-02 12:04:30,225 - INFO - Scheduler has been shut down
[2025-08-02 12:04:33,882] INFO in app: ==================================================
[2025-08-02 12:04:33,888] INFO in app: Application logging initialized successfully
[2025-08-02 12:04:33,891] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-02 12:04:33,893] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-02 12:04:33,895] INFO in app: System encoding: utf-8
[2025-08-02 12:04:33,902] INFO in app: ==================================================
2025-08-02 12:04:34,127 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-02 12:04:34,128 - INFO - Added job "snapshot_par" to job store "default"
2025-08-02 12:04:34,129 - INFO - Scheduler started
2025-08-02 12:04:34,141 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-02 12:04:34,141 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-02 12:04:34,141 - INFO - Scheduler started
2025-08-02 12:04:34,156 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-02 12:04:34,156 - INFO - [33mPress CTRL+C to quit[0m
2025-08-02 12:04:56,044 - INFO - Scheduler has been shut down
[2025-08-02 12:05:13,191] INFO in app: ==================================================
[2025-08-02 12:05:13,198] INFO in app: Application logging initialized successfully
[2025-08-02 12:05:13,200] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-02 12:05:13,204] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-02 12:05:13,206] INFO in app: System encoding: utf-8
[2025-08-02 12:05:13,211] INFO in app: ==================================================
2025-08-02 12:05:13,457 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-02 12:05:13,458 - INFO - Added job "snapshot_par" to job store "default"
2025-08-02 12:05:13,459 - INFO - Scheduler started
2025-08-02 12:05:13,471 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-02 12:05:13,471 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-02 12:05:13,471 - INFO - Scheduler started
[2025-08-02 12:05:25,269] INFO in app: ==================================================
[2025-08-02 12:05:25,275] INFO in app: Application logging initialized successfully
[2025-08-02 12:05:25,277] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-02 12:05:25,279] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-02 12:05:25,286] INFO in app: System encoding: utf-8
[2025-08-02 12:05:25,288] INFO in app: ==================================================
2025-08-02 12:05:25,638 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-02 12:05:25,639 - INFO - Added job "snapshot_par" to job store "default"
2025-08-02 12:05:25,639 - INFO - Scheduler started
2025-08-02 12:05:25,651 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-02 12:05:25,651 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-02 12:05:25,651 - INFO - Scheduler started
[2025-08-02 12:05:33,185] INFO in app: ==================================================
[2025-08-02 12:05:33,191] INFO in app: Application logging initialized successfully
[2025-08-02 12:05:33,193] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-02 12:05:33,199] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-02 12:05:33,205] INFO in app: System encoding: utf-8
[2025-08-02 12:05:33,206] INFO in app: ==================================================
2025-08-02 12:05:33,436 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-02 12:05:33,438 - INFO - Added job "snapshot_par" to job store "default"
2025-08-02 12:05:33,438 - INFO - Scheduler started
2025-08-02 12:05:33,450 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-02 12:05:33,451 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-02 12:05:33,451 - INFO - Scheduler started
[2025-08-02 12:05:38,581] INFO in app: ==================================================
[2025-08-02 12:05:38,587] INFO in app: Application logging initialized successfully
[2025-08-02 12:05:38,589] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-02 12:05:38,590] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-02 12:05:38,592] INFO in app: System encoding: utf-8
[2025-08-02 12:05:38,597] INFO in app: ==================================================
2025-08-02 12:05:38,808 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-02 12:05:38,811 - INFO - Added job "snapshot_par" to job store "default"
2025-08-02 12:05:38,811 - INFO - Scheduler started
2025-08-02 12:05:38,821 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-02 12:05:38,821 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-02 12:05:38,821 - INFO - Scheduler started
2025-08-02 12:05:38,839 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-02 12:05:38,839 - INFO - [33mPress CTRL+C to quit[0m
2025-08-02 12:12:36,417 - INFO - Scheduler has been shut down
[2025-08-02 12:12:42,824] INFO in app: ==================================================
[2025-08-02 12:12:42,838] INFO in app: Application logging initialized successfully
[2025-08-02 12:12:42,842] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-02 12:12:42,846] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-02 12:12:42,848] INFO in app: System encoding: utf-8
[2025-08-02 12:12:42,859] INFO in app: ==================================================
2025-08-02 12:12:43,208 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-02 12:12:43,210 - INFO - Added job "snapshot_par" to job store "default"
2025-08-02 12:12:43,210 - INFO - Scheduler started
2025-08-02 12:12:43,230 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-02 12:12:43,231 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-02 12:12:43,231 - INFO - Scheduler started
2025-08-02 12:12:43,261 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-02 12:12:43,261 - INFO - [33mPress CTRL+C to quit[0m
2025-08-02 12:12:53,113 - INFO - Scheduler has been shut down
[2025-08-02 12:12:57,606] INFO in app: ==================================================
[2025-08-02 12:12:57,617] INFO in app: Application logging initialized successfully
[2025-08-02 12:12:57,618] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-02 12:12:57,619] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-02 12:12:57,620] INFO in app: System encoding: utf-8
[2025-08-02 12:12:57,621] INFO in app: ==================================================
2025-08-02 12:12:57,819 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-02 12:12:57,820 - INFO - Added job "snapshot_par" to job store "default"
2025-08-02 12:12:57,820 - INFO - Scheduler started
2025-08-02 12:12:57,832 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-02 12:12:57,832 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-02 12:12:57,832 - INFO - Scheduler started
2025-08-02 13:10:05,517 - INFO - Scheduler has been shut down
[2025-08-02 13:10:11,027] INFO in app: ==================================================
[2025-08-02 13:10:11,037] INFO in app: Application logging initialized successfully
[2025-08-02 13:10:11,040] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-02 13:10:11,042] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-02 13:10:11,046] INFO in app: System encoding: utf-8
[2025-08-02 13:10:11,053] INFO in app: ==================================================
2025-08-02 13:10:11,504 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-02 13:10:11,506 - INFO - Added job "snapshot_par" to job store "default"
2025-08-02 13:10:11,507 - INFO - Scheduler started
2025-08-02 13:10:11,537 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-02 13:10:11,538 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-02 13:10:11,538 - INFO - Scheduler started
2025-08-02 13:10:11,604 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-02 13:10:11,604 - INFO - [33mPress CTRL+C to quit[0m
2025-08-02 13:10:16,707 - INFO - 127.0.0.1 - - [02/Aug/2025 13:10:16] "GET /dashboard/sales HTTP/1.1" 200 -
2025-08-02 13:10:16,973 - INFO - 127.0.0.1 - - [02/Aug/2025 13:10:16] "GET /notifications/sales-summary HTTP/1.1" 200 -
2025-08-02 13:10:17,690 - INFO - 127.0.0.1 - - [02/Aug/2025 13:10:17] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-02 13:12:34,701 - INFO - 127.0.0.1 - - [02/Aug/2025 13:12:34] "GET /dashboard/sales HTTP/1.1" 200 -
2025-08-02 13:12:35,112 - INFO - 127.0.0.1 - - [02/Aug/2025 13:12:35] "GET /notifications/sales-summary HTTP/1.1" 200 -
2025-08-02 13:12:35,603 - INFO - 127.0.0.1 - - [02/Aug/2025 13:12:35] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-02 13:18:50,356 - INFO - Scheduler has been shut down
[2025-08-02 13:18:54,916] INFO in app: ==================================================
[2025-08-02 13:18:54,928] INFO in app: Application logging initialized successfully
[2025-08-02 13:18:54,935] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-02 13:18:54,946] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-02 13:18:54,951] INFO in app: System encoding: utf-8
[2025-08-02 13:18:54,992] INFO in app: ==================================================
2025-08-02 13:18:55,527 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-02 13:18:55,528 - INFO - Added job "snapshot_par" to job store "default"
2025-08-02 13:18:55,529 - INFO - Scheduler started
2025-08-02 13:18:55,547 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-02 13:18:55,547 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-02 13:18:55,547 - INFO - Scheduler started
2025-08-02 13:18:55,573 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-02 13:18:55,573 - INFO - [33mPress CTRL+C to quit[0m
2025-08-02 13:19:09,790 - INFO - 127.0.0.1 - - [02/Aug/2025 13:19:09] "GET /dashboard/sales HTTP/1.1" 200 -
2025-08-02 13:19:10,087 - INFO - 127.0.0.1 - - [02/Aug/2025 13:19:10] "GET /notifications/sales-summary HTTP/1.1" 200 -
2025-08-02 13:19:10,423 - INFO - 127.0.0.1 - - [02/Aug/2025 13:19:10] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-02 13:20:13,162 - INFO - 127.0.0.1 - - [02/Aug/2025 13:20:13] "GET /dashboard/team-leader HTTP/1.1" 200 -
2025-08-02 13:21:20,637 - INFO - 127.0.0.1 - - [02/Aug/2025 13:21:20] "GET /dashboard/sales HTTP/1.1" 200 -
2025-08-02 13:21:20,793 - INFO - 127.0.0.1 - - [02/Aug/2025 13:21:20] "GET /notifications/sales-summary HTTP/1.1" 200 -
2025-08-02 13:26:53,650 - INFO - Scheduler has been shut down
[2025-08-02 13:27:04,862] INFO in app: ==================================================
[2025-08-02 13:27:04,873] INFO in app: Application logging initialized successfully
[2025-08-02 13:27:04,874] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-02 13:27:04,878] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-02 13:27:04,880] INFO in app: System encoding: utf-8
[2025-08-02 13:27:04,882] INFO in app: ==================================================
2025-08-02 13:27:05,098 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-02 13:27:05,100 - INFO - Added job "snapshot_par" to job store "default"
2025-08-02 13:27:05,100 - INFO - Scheduler started
2025-08-02 13:27:05,117 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-02 13:27:05,118 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-02 13:27:05,118 - INFO - Scheduler started
2025-08-02 13:27:05,133 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-02 13:27:05,133 - INFO - [33mPress CTRL+C to quit[0m
2025-08-02 13:27:09,378 - INFO - 127.0.0.1 - - [02/Aug/2025 13:27:09] "GET /dashboard/sales HTTP/1.1" 200 -
2025-08-02 13:27:09,646 - INFO - 127.0.0.1 - - [02/Aug/2025 13:27:09] "GET /notifications/sales-summary HTTP/1.1" 200 -
2025-08-02 13:27:10,358 - INFO - 127.0.0.1 - - [02/Aug/2025 13:27:10] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-02 13:27:18,873 - INFO - 127.0.0.1 - - [02/Aug/2025 13:27:18] "GET /dashboard/team-leader HTTP/1.1" 200 -
2025-08-02 13:27:23,191 - INFO - 127.0.0.1 - - [02/Aug/2025 13:27:23] "GET /dashboard/analytics HTTP/1.1" 200 -
2025-08-02 13:27:23,992 - INFO - 127.0.0.1 - - [02/Aug/2025 13:27:23] "GET /api/loans-by-region HTTP/1.1" 200 -
2025-08-02 13:27:24,310 - INFO - 127.0.0.1 - - [02/Aug/2025 13:27:24] "GET /api/average-ticket-size HTTP/1.1" 200 -
2025-08-02 13:27:24,318 - INFO - 127.0.0.1 - - [02/Aug/2025 13:27:24] "GET /api/loans-by-district HTTP/1.1" 200 -
2025-08-02 13:37:21,613 - INFO - 127.0.0.1 - - [02/Aug/2025 13:37:21] "GET /dashboard/sales HTTP/1.1" 200 -
2025-08-02 13:37:21,718 - INFO - 127.0.0.1 - - [02/Aug/2025 13:37:21] "GET /notifications/sales-summary HTTP/1.1" 200 -
2025-08-02 14:19:31,978 - INFO - 127.0.0.1 - - [02/Aug/2025 14:19:31] "GET /dashboard/sales HTTP/1.1" 200 -
2025-08-02 14:19:32,040 - INFO - 127.0.0.1 - - [02/Aug/2025 14:19:32] "GET /notifications/sales-summary HTTP/1.1" 200 -
[2025-08-02 16:12:42,998] INFO in app: ==================================================
[2025-08-02 16:12:43,106] INFO in app: Application logging initialized successfully
[2025-08-02 16:12:43,108] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-02 16:12:43,110] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-02 16:12:43,118] INFO in app: System encoding: utf-8
[2025-08-02 16:12:43,123] INFO in app: ==================================================
2025-08-02 16:12:43,764 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-02 16:12:43,766 - INFO - Added job "snapshot_par" to job store "default"
2025-08-02 16:12:43,766 - INFO - Scheduler started
2025-08-02 16:12:43,785 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-02 16:12:43,826 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-02 16:12:43,826 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-03 04:17:17,280] INFO in app: ==================================================
[2025-08-03 04:17:17,430] INFO in app: Application logging initialized successfully
[2025-08-03 04:17:17,433] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 04:17:17,436] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 04:17:17,439] INFO in app: System encoding: utf-8
[2025-08-03 04:17:17,443] INFO in app: ==================================================
2025-08-03 04:17:17,779 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 04:17:17,782 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 04:17:17,782 - INFO - Scheduler started
2025-08-03 04:17:17,830 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 04:17:17,831 - INFO - [33mPress CTRL+C to quit[0m
2025-08-03 04:18:22,349 - INFO - Scheduler has been shut down
[2025-08-03 04:18:27,689] INFO in app: ==================================================
[2025-08-03 04:18:27,700] INFO in app: Application logging initialized successfully
[2025-08-03 04:18:27,706] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 04:18:27,710] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 04:18:27,717] INFO in app: System encoding: utf-8
[2025-08-03 04:18:27,724] INFO in app: ==================================================
2025-08-03 04:18:28,047 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 04:18:28,048 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 04:18:28,085 - INFO - Scheduler started
2025-08-03 04:18:28,134 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 04:18:28,134 - INFO - [33mPress CTRL+C to quit[0m
2025-08-03 04:33:27,470 - INFO - Scheduler has been shut down
[2025-08-03 04:33:32,809] INFO in app: ==================================================
[2025-08-03 04:33:32,820] INFO in app: Application logging initialized successfully
[2025-08-03 04:33:32,824] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 04:33:32,826] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 04:33:32,830] INFO in app: System encoding: utf-8
[2025-08-03 04:33:32,833] INFO in app: ==================================================
2025-08-03 04:33:33,196 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 04:33:33,197 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 04:33:33,197 - INFO - Scheduler started
2025-08-03 04:33:33,233 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 04:33:33,233 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-03 04:39:02,580] INFO in app: ==================================================
[2025-08-03 04:39:02,594] INFO in app: Application logging initialized successfully
[2025-08-03 04:39:02,598] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 04:39:02,601] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 04:39:02,606] INFO in app: System encoding: utf-8
[2025-08-03 04:39:02,615] INFO in app: ==================================================
2025-08-03 04:39:02,999 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 04:39:03,001 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 04:39:03,001 - INFO - Scheduler started
2025-08-03 04:39:03,038 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 04:39:03,038 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-03 04:45:36,061] INFO in app: ==================================================
[2025-08-03 04:45:36,071] INFO in app: Application logging initialized successfully
[2025-08-03 04:45:36,074] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 04:45:36,076] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 04:45:36,082] INFO in app: System encoding: utf-8
[2025-08-03 04:45:36,085] INFO in app: ==================================================
2025-08-03 04:45:36,439 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 04:45:36,441 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 04:45:36,441 - INFO - Scheduler started
2025-08-03 04:45:36,472 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 04:45:36,472 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-03 04:46:58,872] INFO in app: ==================================================
[2025-08-03 04:46:58,880] INFO in app: Application logging initialized successfully
[2025-08-03 04:46:58,885] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 04:46:58,887] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 04:46:58,890] INFO in app: System encoding: utf-8
[2025-08-03 04:46:58,892] INFO in app: ==================================================
2025-08-03 04:46:59,176 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 04:46:59,179 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 04:46:59,179 - INFO - Scheduler started
2025-08-03 04:46:59,226 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 04:46:59,226 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-03 04:57:47,555] INFO in app: ==================================================
[2025-08-03 04:57:47,614] INFO in app: Application logging initialized successfully
[2025-08-03 04:57:47,616] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 04:57:47,617] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 04:57:47,618] INFO in app: System encoding: utf-8
[2025-08-03 04:57:47,619] INFO in app: ==================================================
[2025-08-03 04:57:47,711] INFO in app: ==================================================
[2025-08-03 04:57:47,711] INFO in app: ==================================================
2025-08-03 04:57:47,711 - INFO - ==================================================
[2025-08-03 04:57:47,716] INFO in app: Application logging initialized successfully
[2025-08-03 04:57:47,716] INFO in app: Application logging initialized successfully
2025-08-03 04:57:47,716 - INFO - Application logging initialized successfully
[2025-08-03 04:57:47,718] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 04:57:47,718] INFO in app: Log directory: C:\Users\pc\loan-app\logs
2025-08-03 04:57:47,718 - INFO - Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 04:57:47,720] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 04:57:47,720] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
2025-08-03 04:57:47,720 - INFO - Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 04:57:47,722] INFO in app: System encoding: utf-8
[2025-08-03 04:57:47,722] INFO in app: System encoding: utf-8
2025-08-03 04:57:47,722 - INFO - System encoding: utf-8
[2025-08-03 04:57:47,724] INFO in app: ==================================================
[2025-08-03 04:57:47,724] INFO in app: ==================================================
2025-08-03 04:57:47,724 - INFO - ==================================================
2025-08-03 04:57:47,890 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 04:57:47,891 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 04:57:47,891 - INFO - Scheduler started
[2025-08-03 05:02:46,779] INFO in app: ==================================================
[2025-08-03 05:02:46,786] INFO in app: Application logging initialized successfully
[2025-08-03 05:02:46,787] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 05:02:46,788] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 05:02:46,789] INFO in app: System encoding: utf-8
[2025-08-03 05:02:46,790] INFO in app: ==================================================
[2025-08-03 05:02:46,824] INFO in app: ==================================================
[2025-08-03 05:02:46,824] INFO in app: ==================================================
2025-08-03 05:02:46,824 - INFO - ==================================================
[2025-08-03 05:02:46,830] INFO in app: Application logging initialized successfully
[2025-08-03 05:02:46,830] INFO in app: Application logging initialized successfully
2025-08-03 05:02:46,830 - INFO - Application logging initialized successfully
[2025-08-03 05:02:46,834] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 05:02:46,834] INFO in app: Log directory: C:\Users\pc\loan-app\logs
2025-08-03 05:02:46,834 - INFO - Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 05:02:46,837] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 05:02:46,837] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
2025-08-03 05:02:46,837 - INFO - Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 05:02:46,839] INFO in app: System encoding: utf-8
[2025-08-03 05:02:46,839] INFO in app: System encoding: utf-8
2025-08-03 05:02:46,839 - INFO - System encoding: utf-8
[2025-08-03 05:02:46,841] INFO in app: ==================================================
[2025-08-03 05:02:46,841] INFO in app: ==================================================
2025-08-03 05:02:46,841 - INFO - ==================================================
2025-08-03 05:02:47,055 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 05:02:47,056 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 05:02:47,056 - INFO - Scheduler started
[2025-08-03 05:08:34,905] INFO in app: ==================================================
[2025-08-03 05:08:34,988] INFO in app: Application logging initialized successfully
[2025-08-03 05:08:34,989] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 05:08:34,991] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 05:08:34,998] INFO in app: System encoding: utf-8
[2025-08-03 05:08:34,999] INFO in app: ==================================================
2025-08-03 05:08:35,504 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 05:08:35,505 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 05:08:35,505 - INFO - Scheduler started
2025-08-03 05:08:35,550 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 05:08:35,550 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-03 05:08:50,393] INFO in app: ==================================================
[2025-08-03 05:08:50,401] INFO in app: Application logging initialized successfully
[2025-08-03 05:08:50,402] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 05:08:50,403] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 05:08:50,405] INFO in app: System encoding: utf-8
[2025-08-03 05:08:50,408] INFO in app: ==================================================
[2025-08-03 05:08:50,438] INFO in app: ==================================================
[2025-08-03 05:08:50,438] INFO in app: ==================================================
2025-08-03 05:08:50,438 - INFO - ==================================================
[2025-08-03 05:08:50,442] INFO in app: Application logging initialized successfully
[2025-08-03 05:08:50,442] INFO in app: Application logging initialized successfully
2025-08-03 05:08:50,442 - INFO - Application logging initialized successfully
[2025-08-03 05:08:50,445] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 05:08:50,445] INFO in app: Log directory: C:\Users\pc\loan-app\logs
2025-08-03 05:08:50,445 - INFO - Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 05:08:50,447] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 05:08:50,447] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
2025-08-03 05:08:50,447 - INFO - Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 05:08:50,449] INFO in app: System encoding: utf-8
[2025-08-03 05:08:50,449] INFO in app: System encoding: utf-8
2025-08-03 05:08:50,449 - INFO - System encoding: utf-8
[2025-08-03 05:08:50,451] INFO in app: ==================================================
[2025-08-03 05:08:50,451] INFO in app: ==================================================
2025-08-03 05:08:50,451 - INFO - ==================================================
2025-08-03 05:08:50,611 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 05:08:50,613 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 05:08:50,613 - INFO - Scheduler started
[2025-08-03 05:09:32,022] INFO in app: ==================================================
[2025-08-03 05:09:32,161] INFO in app: Application logging initialized successfully
[2025-08-03 05:09:32,185] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 05:09:32,187] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 05:09:32,189] INFO in app: System encoding: utf-8
[2025-08-03 05:09:32,197] INFO in app: ==================================================
2025-08-03 05:09:32,660 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 05:09:32,661 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 05:09:32,661 - INFO - Scheduler started
2025-08-03 05:09:32,689 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 05:09:32,689 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-03 05:09:40,929] INFO in app: ==================================================
[2025-08-03 05:09:40,942] INFO in app: Application logging initialized successfully
[2025-08-03 05:09:40,948] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 05:09:40,950] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 05:09:40,957] INFO in app: System encoding: utf-8
[2025-08-03 05:09:40,961] INFO in app: ==================================================
2025-08-03 05:09:41,389 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 05:09:41,391 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 05:09:41,391 - INFO - Scheduler started
2025-08-03 05:09:41,439 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 05:09:41,439 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-03 05:09:58,938] INFO in app: ==================================================
[2025-08-03 05:09:58,945] INFO in app: Application logging initialized successfully
[2025-08-03 05:09:58,946] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 05:09:58,947] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 05:09:58,950] INFO in app: System encoding: utf-8
[2025-08-03 05:09:58,953] INFO in app: ==================================================
[2025-08-03 05:09:58,984] INFO in app: ==================================================
[2025-08-03 05:09:58,984] INFO in app: ==================================================
2025-08-03 05:09:58,984 - INFO - ==================================================
[2025-08-03 05:09:58,988] INFO in app: Application logging initialized successfully
[2025-08-03 05:09:58,988] INFO in app: Application logging initialized successfully
2025-08-03 05:09:58,988 - INFO - Application logging initialized successfully
[2025-08-03 05:09:58,992] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 05:09:58,992] INFO in app: Log directory: C:\Users\pc\loan-app\logs
2025-08-03 05:09:58,992 - INFO - Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 05:09:58,994] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 05:09:58,994] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
2025-08-03 05:09:58,994 - INFO - Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 05:09:58,996] INFO in app: System encoding: utf-8
[2025-08-03 05:09:58,996] INFO in app: System encoding: utf-8
2025-08-03 05:09:58,996 - INFO - System encoding: utf-8
[2025-08-03 05:09:59,000] INFO in app: ==================================================
[2025-08-03 05:09:59,000] INFO in app: ==================================================
2025-08-03 05:09:59,000 - INFO - ==================================================
2025-08-03 05:09:59,161 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 05:09:59,162 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 05:09:59,162 - INFO - Scheduler started
[2025-08-03 05:23:40,503] INFO in app: ==================================================
[2025-08-03 05:23:40,509] INFO in app: Application logging initialized successfully
[2025-08-03 05:23:40,511] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 05:23:40,513] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 05:23:40,515] INFO in app: System encoding: utf-8
[2025-08-03 05:23:40,519] INFO in app: ==================================================
2025-08-03 05:23:40,748 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 05:23:40,749 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 05:23:40,749 - INFO - Scheduler started
2025-08-03 05:23:40,779 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 05:23:40,779 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-03 05:23:53,540] INFO in app: ==================================================
[2025-08-03 05:23:53,547] INFO in app: Application logging initialized successfully
[2025-08-03 05:23:53,548] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 05:23:53,551] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 05:23:53,553] INFO in app: System encoding: utf-8
[2025-08-03 05:23:53,554] INFO in app: ==================================================
[2025-08-03 05:23:53,584] INFO in app: ==================================================
[2025-08-03 05:23:53,584] INFO in app: ==================================================
2025-08-03 05:23:53,584 - INFO - ==================================================
[2025-08-03 05:23:53,589] INFO in app: Application logging initialized successfully
[2025-08-03 05:23:53,589] INFO in app: Application logging initialized successfully
2025-08-03 05:23:53,589 - INFO - Application logging initialized successfully
[2025-08-03 05:23:53,591] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 05:23:53,591] INFO in app: Log directory: C:\Users\pc\loan-app\logs
2025-08-03 05:23:53,591 - INFO - Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 05:23:53,593] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 05:23:53,593] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
2025-08-03 05:23:53,593 - INFO - Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 05:23:53,595] INFO in app: System encoding: utf-8
[2025-08-03 05:23:53,595] INFO in app: System encoding: utf-8
2025-08-03 05:23:53,595 - INFO - System encoding: utf-8
[2025-08-03 05:23:53,597] INFO in app: ==================================================
[2025-08-03 05:23:53,597] INFO in app: ==================================================
2025-08-03 05:23:53,597 - INFO - ==================================================
2025-08-03 05:23:53,756 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 05:23:53,758 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 05:23:53,758 - INFO - Scheduler started
[2025-08-03 05:31:38,683] INFO in app: ==================================================
[2025-08-03 05:31:38,693] INFO in app: Application logging initialized successfully
[2025-08-03 05:31:38,695] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 05:31:38,714] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 05:31:38,716] INFO in app: System encoding: utf-8
[2025-08-03 05:31:38,718] INFO in app: ==================================================
2025-08-03 05:31:39,180 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 05:31:39,182 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 05:31:39,182 - INFO - Scheduler started
2025-08-03 05:31:39,208 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 05:31:39,208 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-03 05:31:51,045] INFO in app: ==================================================
[2025-08-03 05:31:51,053] INFO in app: Application logging initialized successfully
[2025-08-03 05:31:51,056] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 05:31:51,059] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 05:31:51,060] INFO in app: System encoding: utf-8
[2025-08-03 05:31:51,063] INFO in app: ==================================================
[2025-08-03 05:31:51,100] INFO in app: ==================================================
[2025-08-03 05:31:51,100] INFO in app: ==================================================
2025-08-03 05:31:51,100 - INFO - ==================================================
[2025-08-03 05:31:51,104] INFO in app: Application logging initialized successfully
[2025-08-03 05:31:51,104] INFO in app: Application logging initialized successfully
2025-08-03 05:31:51,104 - INFO - Application logging initialized successfully
[2025-08-03 05:31:51,109] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 05:31:51,109] INFO in app: Log directory: C:\Users\pc\loan-app\logs
2025-08-03 05:31:51,109 - INFO - Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 05:31:51,112] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 05:31:51,112] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
2025-08-03 05:31:51,112 - INFO - Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 05:31:51,114] INFO in app: System encoding: utf-8
[2025-08-03 05:31:51,114] INFO in app: System encoding: utf-8
2025-08-03 05:31:51,114 - INFO - System encoding: utf-8
[2025-08-03 05:31:51,117] INFO in app: ==================================================
[2025-08-03 05:31:51,117] INFO in app: ==================================================
2025-08-03 05:31:51,117 - INFO - ==================================================
2025-08-03 05:31:51,294 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 05:31:51,295 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 05:31:51,295 - INFO - Scheduler started
[2025-08-03 05:32:53,036] INFO in app: ==================================================
[2025-08-03 05:32:53,044] INFO in app: Application logging initialized successfully
[2025-08-03 05:32:53,048] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 05:32:53,050] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 05:32:53,054] INFO in app: System encoding: utf-8
[2025-08-03 05:32:53,059] INFO in app: ==================================================
2025-08-03 05:32:53,345 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 05:32:53,347 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 05:32:53,347 - INFO - Scheduler started
2025-08-03 05:32:53,376 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 05:32:53,376 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-03 05:32:57,678] INFO in app: ==================================================
[2025-08-03 05:32:57,687] INFO in app: Application logging initialized successfully
[2025-08-03 05:32:57,688] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 05:32:57,690] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 05:32:57,691] INFO in app: System encoding: utf-8
[2025-08-03 05:32:57,693] INFO in app: ==================================================
[2025-08-03 05:32:57,740] INFO in app: ==================================================
[2025-08-03 05:32:57,740] INFO in app: ==================================================
2025-08-03 05:32:57,740 - INFO - ==================================================
[2025-08-03 05:32:57,751] INFO in app: Application logging initialized successfully
[2025-08-03 05:32:57,751] INFO in app: Application logging initialized successfully
2025-08-03 05:32:57,751 - INFO - Application logging initialized successfully
[2025-08-03 05:32:57,757] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 05:32:57,757] INFO in app: Log directory: C:\Users\pc\loan-app\logs
2025-08-03 05:32:57,757 - INFO - Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 05:32:57,759] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 05:32:57,759] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
2025-08-03 05:32:57,759 - INFO - Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 05:32:57,761] INFO in app: System encoding: utf-8
[2025-08-03 05:32:57,761] INFO in app: System encoding: utf-8
2025-08-03 05:32:57,761 - INFO - System encoding: utf-8
[2025-08-03 05:32:57,763] INFO in app: ==================================================
[2025-08-03 05:32:57,763] INFO in app: ==================================================
2025-08-03 05:32:57,763 - INFO - ==================================================
2025-08-03 05:32:57,927 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 05:32:57,929 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 05:32:57,929 - INFO - Scheduler started
[2025-08-03 05:37:09,898] INFO in app: ==================================================
[2025-08-03 05:37:09,905] INFO in app: Application logging initialized successfully
[2025-08-03 05:37:09,907] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 05:37:09,908] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 05:37:09,916] INFO in app: System encoding: utf-8
[2025-08-03 05:37:09,917] INFO in app: ==================================================
2025-08-03 05:37:10,155 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 05:37:10,157 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 05:37:10,157 - INFO - Scheduler started
[2025-08-03 05:37:20,597] INFO in app: ==================================================
[2025-08-03 05:37:20,603] INFO in app: Application logging initialized successfully
[2025-08-03 05:37:20,605] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 05:37:20,608] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 05:37:20,610] INFO in app: System encoding: utf-8
[2025-08-03 05:37:20,614] INFO in app: ==================================================
2025-08-03 05:37:20,855 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 05:37:20,856 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 05:37:20,857 - INFO - Scheduler started
[2025-08-03 05:43:08,894] INFO in app: ==================================================
[2025-08-03 05:43:08,905] INFO in app: Application logging initialized successfully
[2025-08-03 05:43:08,908] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 05:43:08,915] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 05:43:08,918] INFO in app: System encoding: utf-8
[2025-08-03 05:43:08,922] INFO in app: ==================================================
2025-08-03 05:43:09,314 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 05:43:09,316 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 05:43:09,317 - INFO - Scheduler started
2025-08-03 05:43:09,369 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 05:43:09,370 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-03 05:43:29,066] INFO in app: ==================================================
[2025-08-03 05:43:29,073] INFO in app: Application logging initialized successfully
[2025-08-03 05:43:29,074] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 05:43:29,076] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 05:43:29,077] INFO in app: System encoding: utf-8
[2025-08-03 05:43:29,079] INFO in app: ==================================================
[2025-08-03 05:43:29,111] INFO in app: ==================================================
[2025-08-03 05:43:29,111] INFO in app: ==================================================
2025-08-03 05:43:29,111 - INFO - ==================================================
[2025-08-03 05:43:29,114] INFO in app: Application logging initialized successfully
[2025-08-03 05:43:29,114] INFO in app: Application logging initialized successfully
2025-08-03 05:43:29,114 - INFO - Application logging initialized successfully
[2025-08-03 05:43:29,116] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 05:43:29,116] INFO in app: Log directory: C:\Users\pc\loan-app\logs
2025-08-03 05:43:29,116 - INFO - Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 05:43:29,118] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 05:43:29,118] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
2025-08-03 05:43:29,118 - INFO - Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 05:43:29,123] INFO in app: System encoding: utf-8
[2025-08-03 05:43:29,123] INFO in app: System encoding: utf-8
2025-08-03 05:43:29,123 - INFO - System encoding: utf-8
[2025-08-03 05:43:29,126] INFO in app: ==================================================
[2025-08-03 05:43:29,126] INFO in app: ==================================================
2025-08-03 05:43:29,126 - INFO - ==================================================
2025-08-03 05:43:29,288 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 05:43:29,290 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 05:43:29,290 - INFO - Scheduler started
[2025-08-03 06:07:01,756] INFO in app: ==================================================
[2025-08-03 06:07:01,762] INFO in app: Application logging initialized successfully
[2025-08-03 06:07:01,764] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 06:07:01,766] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 06:07:01,770] INFO in app: System encoding: utf-8
[2025-08-03 06:07:01,775] INFO in app: ==================================================
2025-08-03 06:07:02,013 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 06:07:02,015 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 06:07:02,015 - INFO - Scheduler started
[2025-08-03 06:07:12,614] INFO in app: ==================================================
[2025-08-03 06:07:12,622] INFO in app: Application logging initialized successfully
[2025-08-03 06:07:12,625] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 06:07:12,627] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 06:07:12,629] INFO in app: System encoding: utf-8
[2025-08-03 06:07:12,633] INFO in app: ==================================================
2025-08-03 06:07:12,930 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 06:07:12,932 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 06:07:12,932 - INFO - Scheduler started
[2025-08-03 06:07:32,425] INFO in app: ==================================================
[2025-08-03 06:07:32,432] INFO in app: Application logging initialized successfully
[2025-08-03 06:07:32,435] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 06:07:32,438] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 06:07:32,440] INFO in app: System encoding: utf-8
[2025-08-03 06:07:32,444] INFO in app: ==================================================
2025-08-03 06:07:32,763 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 06:07:32,765 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 06:07:32,766 - INFO - Scheduler started
[2025-08-03 06:07:39,867] INFO in app: ==================================================
[2025-08-03 06:07:39,877] INFO in app: Application logging initialized successfully
[2025-08-03 06:07:39,879] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 06:07:39,881] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 06:07:39,883] INFO in app: System encoding: utf-8
[2025-08-03 06:07:39,889] INFO in app: ==================================================
2025-08-03 06:07:40,188 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 06:07:40,190 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 06:07:40,190 - INFO - Scheduler started
2025-08-03 06:07:40,217 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 06:07:40,217 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-03 06:23:18,459] INFO in app: ==================================================
[2025-08-03 06:23:18,469] INFO in app: Application logging initialized successfully
[2025-08-03 06:23:18,474] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 06:23:18,477] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 06:23:18,485] INFO in app: System encoding: utf-8
[2025-08-03 06:23:18,487] INFO in app: ==================================================
2025-08-03 06:23:18,817 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 06:23:18,819 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 06:23:18,819 - INFO - Scheduler started
[2025-08-03 06:23:26,405] INFO in app: ==================================================
[2025-08-03 06:23:26,414] INFO in app: Application logging initialized successfully
[2025-08-03 06:23:26,418] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 06:23:26,420] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 06:23:26,425] INFO in app: System encoding: utf-8
[2025-08-03 06:23:26,428] INFO in app: ==================================================
2025-08-03 06:23:26,845 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 06:23:26,847 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 06:23:26,847 - INFO - Scheduler started
[2025-08-03 06:33:30,741] INFO in app: ==================================================
[2025-08-03 06:33:30,754] INFO in app: Application logging initialized successfully
[2025-08-03 06:33:30,758] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 06:33:30,761] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 06:33:30,765] INFO in app: System encoding: utf-8
[2025-08-03 06:33:30,775] INFO in app: ==================================================
2025-08-03 06:33:31,375 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 06:33:31,380 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 06:33:31,380 - INFO - Scheduler started
[2025-08-03 06:33:42,169] INFO in app: ==================================================
[2025-08-03 06:33:42,176] INFO in app: Application logging initialized successfully
[2025-08-03 06:33:42,179] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 06:33:42,181] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 06:33:42,184] INFO in app: System encoding: utf-8
[2025-08-03 06:33:42,187] INFO in app: ==================================================
2025-08-03 06:33:42,518 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 06:33:42,520 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 06:33:42,520 - INFO - Scheduler started
[2025-08-03 06:34:57,251] INFO in app: ==================================================
[2025-08-03 06:34:57,261] INFO in app: Application logging initialized successfully
[2025-08-03 06:34:57,264] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 06:34:57,267] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 06:34:57,269] INFO in app: System encoding: utf-8
[2025-08-03 06:34:57,275] INFO in app: ==================================================
2025-08-03 06:34:57,585 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 06:34:57,588 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 06:34:57,588 - INFO - Scheduler started
[2025-08-03 06:35:04,549] INFO in app: ==================================================
[2025-08-03 06:35:04,559] INFO in app: Application logging initialized successfully
[2025-08-03 06:35:04,561] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 06:35:04,565] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 06:35:04,568] INFO in app: System encoding: utf-8
[2025-08-03 06:35:04,573] INFO in app: ==================================================
2025-08-03 06:35:04,937 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 06:35:04,941 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 06:35:04,941 - INFO - Scheduler started
2025-08-03 06:35:04,999 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 06:35:04,999 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-03 07:21:47,924] INFO in app: ==================================================
[2025-08-03 07:21:47,935] INFO in app: Application logging initialized successfully
[2025-08-03 07:21:47,936] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 07:21:47,938] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 07:21:47,939] INFO in app: System encoding: utf-8
[2025-08-03 07:21:47,941] INFO in app: ==================================================
[2025-08-03 07:21:48,335] INFO in app: ==================================================
[2025-08-03 07:21:48,335] INFO in app: ==================================================
2025-08-03 07:21:48,335 - INFO - ==================================================
[2025-08-03 07:21:48,339] INFO in app: Application logging initialized successfully
[2025-08-03 07:21:48,339] INFO in app: Application logging initialized successfully
2025-08-03 07:21:48,339 - INFO - Application logging initialized successfully
[2025-08-03 07:21:48,344] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 07:21:48,344] INFO in app: Log directory: C:\Users\pc\loan-app\logs
2025-08-03 07:21:48,344 - INFO - Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 07:21:48,348] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 07:21:48,348] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
2025-08-03 07:21:48,348 - INFO - Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 07:21:48,351] INFO in app: System encoding: utf-8
[2025-08-03 07:21:48,351] INFO in app: System encoding: utf-8
2025-08-03 07:21:48,351 - INFO - System encoding: utf-8
[2025-08-03 07:21:48,354] INFO in app: ==================================================
[2025-08-03 07:21:48,354] INFO in app: ==================================================
2025-08-03 07:21:48,354 - INFO - ==================================================
[2025-08-03 07:23:32,334] INFO in app: ==================================================
[2025-08-03 07:23:32,345] INFO in app: Application logging initialized successfully
[2025-08-03 07:23:32,348] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 07:23:32,350] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 07:23:32,356] INFO in app: System encoding: utf-8
[2025-08-03 07:23:32,359] INFO in app: ==================================================
2025-08-03 07:23:32,795 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 07:23:32,797 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 07:23:32,797 - INFO - Scheduler started
2025-08-03 07:23:32,834 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 07:23:32,834 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-03 07:23:39,780] INFO in app: ==================================================
[2025-08-03 07:23:39,794] INFO in app: Application logging initialized successfully
[2025-08-03 07:23:39,797] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 07:23:39,801] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 07:23:39,805] INFO in app: System encoding: utf-8
[2025-08-03 07:23:39,808] INFO in app: ==================================================
[2025-08-03 07:23:39,860] INFO in app: ==================================================
[2025-08-03 07:23:39,860] INFO in app: ==================================================
2025-08-03 07:23:39,860 - INFO - ==================================================
[2025-08-03 07:23:39,865] INFO in app: Application logging initialized successfully
[2025-08-03 07:23:39,865] INFO in app: Application logging initialized successfully
2025-08-03 07:23:39,865 - INFO - Application logging initialized successfully
[2025-08-03 07:23:39,868] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 07:23:39,868] INFO in app: Log directory: C:\Users\pc\loan-app\logs
2025-08-03 07:23:39,868 - INFO - Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 07:23:39,872] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 07:23:39,872] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
2025-08-03 07:23:39,872 - INFO - Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 07:23:39,875] INFO in app: System encoding: utf-8
[2025-08-03 07:23:39,875] INFO in app: System encoding: utf-8
2025-08-03 07:23:39,875 - INFO - System encoding: utf-8
[2025-08-03 07:23:39,878] INFO in app: ==================================================
[2025-08-03 07:23:39,878] INFO in app: ==================================================
2025-08-03 07:23:39,878 - INFO - ==================================================
2025-08-03 07:23:40,106 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 07:23:40,108 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 07:23:40,108 - INFO - Scheduler started
[2025-08-03 07:35:13,262] INFO in app: ==================================================
[2025-08-03 07:35:13,312] INFO in app: Application logging initialized successfully
[2025-08-03 07:35:13,321] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 07:35:13,333] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 07:35:13,340] INFO in app: System encoding: utf-8
[2025-08-03 07:35:13,348] INFO in app: ==================================================
2025-08-03 07:35:13,829 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 07:35:13,832 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 07:35:13,832 - INFO - Scheduler started
2025-08-03 07:35:13,880 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 07:35:13,880 - INFO - [33mPress CTRL+C to quit[0m
2025-08-03 07:35:22,918 - INFO - 127.0.0.1 - - [03/Aug/2025 07:35:22] "[32mGET / HTTP/1.1[0m" 302 -
2025-08-03 07:35:22,994 - INFO - 127.0.0.1 - - [03/Aug/2025 07:35:22] "GET /login?next=/ HTTP/1.1" 200 -
2025-08-03 07:35:24,033 - INFO - 127.0.0.1 - - [03/Aug/2025 07:35:24] "GET /static/img/logo.png HTTP/1.1" 200 -
2025-08-03 07:35:25,063 - INFO - 127.0.0.1 - - [03/Aug/2025 07:35:25] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-03 07:35:30,168 - INFO - 127.0.0.1 - - [03/Aug/2025 07:35:30] "[32mPOST /login?next=/ HTTP/1.1[0m" 302 -
2025-08-03 07:35:30,201 - INFO - 127.0.0.1 - - [03/Aug/2025 07:35:30] "GET / HTTP/1.1" 200 -
2025-08-03 07:35:35,892 - INFO - 127.0.0.1 - - [03/Aug/2025 07:35:35] "GET /dashboard/sales HTTP/1.1" 200 -
2025-08-03 07:35:35,974 - INFO - 127.0.0.1 - - [03/Aug/2025 07:35:35] "GET /notifications/sales-summary HTTP/1.1" 200 -
2025-08-03 07:35:42,389 - INFO - 127.0.0.1 - - [03/Aug/2025 07:35:42] "GET /dashboard/team-leader HTTP/1.1" 200 -
2025-08-03 07:35:48,174 - INFO - 127.0.0.1 - - [03/Aug/2025 07:35:48] "GET /dashboard/analytics HTTP/1.1" 200 -
2025-08-03 07:35:48,900 - INFO - 127.0.0.1 - - [03/Aug/2025 07:35:48] "GET /api/loans-by-region HTTP/1.1" 200 -
2025-08-03 07:35:49,228 - INFO - 127.0.0.1 - - [03/Aug/2025 07:35:49] "GET /api/loans-by-district HTTP/1.1" 200 -
2025-08-03 07:35:49,237 - INFO - 127.0.0.1 - - [03/Aug/2025 07:35:49] "GET /api/average-ticket-size HTTP/1.1" 200 -
2025-08-03 07:41:22,653 - INFO - 127.0.0.1 - - [03/Aug/2025 07:41:22] "GET /register HTTP/1.1" 200 -
[2025-08-03 07:41:24,933] ERROR in app: Account view error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-08-03 07:41:24,933 - ERROR - Account view error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-08-03 07:41:24,967 - INFO - 127.0.0.1 - - [03/Aug/2025 07:41:24] "[32mGET /customer/PLACEHOLDER/account?section=topup HTTP/1.1[0m" 302 -
2025-08-03 07:41:25,020 - INFO - 127.0.0.1 - - [03/Aug/2025 07:41:25] "GET / HTTP/1.1" 200 -
[2025-08-03 07:49:14,504] INFO in app: ==================================================
[2025-08-03 07:49:14,518] INFO in app: Application logging initialized successfully
[2025-08-03 07:49:14,521] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 07:49:14,524] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 07:49:14,528] INFO in app: System encoding: utf-8
[2025-08-03 07:49:14,535] INFO in app: ==================================================
2025-08-03 07:49:14,956 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 07:49:14,958 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 07:49:14,958 - INFO - Scheduler started
2025-08-03 07:49:15,020 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 07:49:15,020 - INFO - [33mPress CTRL+C to quit[0m
2025-08-03 07:49:39,582 - INFO - 127.0.0.1 - - [03/Aug/2025 07:49:39] "GET / HTTP/1.1" 200 -
2025-08-03 07:49:41,073 - INFO - 127.0.0.1 - - [03/Aug/2025 07:49:41] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-08-03 07:49:42,377] ERROR in app: Exception on /register [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 552, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 4057, in register_customer_debug
    return render_template(
        'register_customer_debug.html',
        agents=agents,
        team_leaders=team_leaders
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\register_customer_debug.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\register_customer_debug.html", line 362, in block 'content'
    {{ query_form.hidden_tag() }}
    ^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 490, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'query_form' is undefined
2025-08-03 07:49:42,377 - ERROR - Exception on /register [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 552, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 4057, in register_customer_debug
    return render_template(
        'register_customer_debug.html',
        agents=agents,
        team_leaders=team_leaders
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\register_customer_debug.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\register_customer_debug.html", line 362, in block 'content'
    {{ query_form.hidden_tag() }}
    ^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 490, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'query_form' is undefined
2025-08-03 07:49:42,446 - INFO - 127.0.0.1 - - [03/Aug/2025 07:49:42] "[35m[1mGET /register HTTP/1.1[0m" 500 -
[2025-08-03 07:53:03,677] INFO in app: ==================================================
[2025-08-03 07:53:03,687] INFO in app: Application logging initialized successfully
[2025-08-03 07:53:03,690] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 07:53:03,693] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 07:53:03,703] INFO in app: System encoding: utf-8
[2025-08-03 07:53:03,706] INFO in app: ==================================================
2025-08-03 07:53:04,044 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 07:53:04,046 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 07:53:04,046 - INFO - Scheduler started
2025-08-03 07:53:04,084 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 07:53:04,084 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-03 07:53:17,745] ERROR in app: Exception on /register [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 552, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 4057, in register_customer_debug
    
    
    ...<3 lines>...
        team_leaders=team_leaders,
        ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\register_customer_debug.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\register_customer_debug.html", line 362, in block 'content'
    {{ query_form.hidden_tag() }}
    ^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 490, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'query_form' is undefined
2025-08-03 07:53:17,745 - ERROR - Exception on /register [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 552, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 4057, in register_customer_debug
    
    
    ...<3 lines>...
        team_leaders=team_leaders,
        ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\register_customer_debug.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\register_customer_debug.html", line 362, in block 'content'
    {{ query_form.hidden_tag() }}
    ^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 490, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'query_form' is undefined
2025-08-03 07:53:17,881 - INFO - 127.0.0.1 - - [03/Aug/2025 07:53:17] "[35m[1mGET /register HTTP/1.1[0m" 500 -
2025-08-03 07:53:17,976 - INFO - 127.0.0.1 - - [03/Aug/2025 07:53:17] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-08-03 07:53:41,414] INFO in app: ==================================================
[2025-08-03 07:53:41,425] INFO in app: Application logging initialized successfully
[2025-08-03 07:53:41,432] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 07:53:41,436] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 07:53:41,445] INFO in app: System encoding: utf-8
[2025-08-03 07:53:41,448] INFO in app: ==================================================
2025-08-03 07:53:41,782 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 07:53:41,785 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 07:53:41,785 - INFO - Scheduler started
2025-08-03 07:53:41,844 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 07:53:41,844 - INFO - [33mPress CTRL+C to quit[0m
2025-08-03 07:53:45,269 - INFO - 127.0.0.1 - - [03/Aug/2025 07:53:45] "GET /register HTTP/1.1" 200 -
2025-08-03 07:53:46,257 - INFO - 127.0.0.1 - - [03/Aug/2025 07:53:46] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-08-03 07:53:57,561] ERROR in app: Exception on /customer/enquiry [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 552, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 3594, in customer_enquiry
    return redirect(url_for('customer_account', employment_number=customer.employment_number or 'PLACEHOLDER', section=section))
                    ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\helpers.py", line 232, in url_for
    return current_app.url_for(
           ~~~~~~~~~~~~~~~~~~~^
        endpoint,
        ^^^^^^^^^
    ...<4 lines>...
        **values,
        ^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'customer_account' with values ['employment_number', 'section']. Did you forget to specify values ['file_number']?
2025-08-03 07:53:57,561 - ERROR - Exception on /customer/enquiry [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 552, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 3594, in customer_enquiry
    return redirect(url_for('customer_account', employment_number=customer.employment_number or 'PLACEHOLDER', section=section))
                    ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\helpers.py", line 232, in url_for
    return current_app.url_for(
           ~~~~~~~~~~~~~~~~~~~^
        endpoint,
        ^^^^^^^^^
    ...<4 lines>...
        **values,
        ^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'customer_account' with values ['employment_number', 'section']. Did you forget to specify values ['file_number']?
2025-08-03 07:53:57,656 - INFO - 127.0.0.1 - - [03/Aug/2025 07:53:57] "[35m[1mPOST /customer/enquiry HTTP/1.1[0m" 500 -
[2025-08-03 08:05:25,751] INFO in app: ==================================================
[2025-08-03 08:05:25,761] INFO in app: Application logging initialized successfully
[2025-08-03 08:05:25,766] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 08:05:25,769] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 08:05:25,775] INFO in app: System encoding: utf-8
[2025-08-03 08:05:25,777] INFO in app: ==================================================
2025-08-03 08:05:26,113 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 08:05:26,115 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 08:05:26,115 - INFO - Scheduler started
2025-08-03 08:05:26,146 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 08:05:26,147 - INFO - [33mPress CTRL+C to quit[0m
2025-08-03 08:05:38,608 - INFO - 127.0.0.1 - - [03/Aug/2025 08:05:38] "GET /register HTTP/1.1" 200 -
2025-08-03 08:05:40,803 - INFO - 127.0.0.1 - - [03/Aug/2025 08:05:40] "GET /register HTTP/1.1" 200 -
2025-08-03 08:05:41,065 - INFO - 127.0.0.1 - - [03/Aug/2025 08:05:41] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-03 08:05:57,554 - INFO - 127.0.0.1 - - [03/Aug/2025 08:05:57] "GET /loans HTTP/1.1" 200 -
2025-08-03 08:06:05,598 - INFO - 127.0.0.1 - - [03/Aug/2025 08:06:05] "GET /loanbook HTTP/1.1" 200 -
[2025-08-03 08:06:07,599] INFO in app: Found 6 agents and 5 team leaders
2025-08-03 08:06:07,599 - INFO - Found 6 agents and 5 team leaders
[2025-08-03 08:06:07,654] INFO in app: Found 9 loans for customer 202507000001
2025-08-03 08:06:07,654 - INFO - Found 9 loans for customer 202507000001
2025-08-03 08:06:07,791 - INFO - 127.0.0.1 - - [03/Aug/2025 08:06:07] "GET /customer/202507000001/account HTTP/1.1" 200 -
[2025-08-03 08:06:12,401] INFO in app: Found 6 agents and 5 team leaders
2025-08-03 08:06:12,401 - INFO - Found 6 agents and 5 team leaders
[2025-08-03 08:06:12,412] INFO in app: Found 9 loans for customer 202507000001
2025-08-03 08:06:12,412 - INFO - Found 9 loans for customer 202507000001
2025-08-03 08:06:12,484 - INFO - 127.0.0.1 - - [03/Aug/2025 08:06:12] "GET /customer/202507000001/account?section=additional HTTP/1.1" 200 -
2025-08-03 08:06:46,167 - INFO - 127.0.0.1 - - [03/Aug/2025 08:06:46] "[32mPOST /apply_additional/1 HTTP/1.1[0m" 302 -
[2025-08-03 08:06:46,322] INFO in app: Found 6 agents and 5 team leaders
2025-08-03 08:06:46,322 - INFO - Found 6 agents and 5 team leaders
[2025-08-03 08:06:46,339] INFO in app: Found 10 loans for customer 202507000001
2025-08-03 08:06:46,339 - INFO - Found 10 loans for customer 202507000001
2025-08-03 08:06:46,405 - INFO - 127.0.0.1 - - [03/Aug/2025 08:06:46] "GET /customer/202507000001/account?section=statement HTTP/1.1" 200 -
2025-08-03 08:06:52,696 - INFO - 127.0.0.1 - - [03/Aug/2025 08:06:52] "GET /loans HTTP/1.1" 200 -
[2025-08-03 08:07:07,888] ERROR in app: Exception on /process_loan/15/reject [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: NOT NULL constraint failed: loan_applications.loan_state

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 4389, in process_loan
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 599, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 85, in save_obj
    _emit_update_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        update,
        ^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 912, in _emit_update_statements
    c = connection.execute(
        statement, multiparams, execution_options=execution_options
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: loan_applications.loan_state
[SQL: UPDATE loan_applications SET application_status=?, loan_state=? WHERE loan_applications.id = ?]
[parameters: ('rejected', None, 15)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-08-03 08:07:07,888 - ERROR - Exception on /process_loan/15/reject [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: NOT NULL constraint failed: loan_applications.loan_state

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 4389, in process_loan
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 599, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 85, in save_obj
    _emit_update_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        update,
        ^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 912, in _emit_update_statements
    c = connection.execute(
        statement, multiparams, execution_options=execution_options
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: loan_applications.loan_state
[SQL: UPDATE loan_applications SET application_status=?, loan_state=? WHERE loan_applications.id = ?]
[parameters: ('rejected', None, 15)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-08-03 08:07:08,187 - INFO - 127.0.0.1 - - [03/Aug/2025 08:07:08] "[35m[1mPOST /process_loan/15/reject HTTP/1.1[0m" 500 -
2025-08-03 08:07:12,779 - INFO - 127.0.0.1 - - [03/Aug/2025 08:07:12] "GET /loans HTTP/1.1" 200 -
2025-08-03 08:07:15,535 - INFO - 127.0.0.1 - - [03/Aug/2025 08:07:15] "[32mPOST /process_loan/15/approve HTTP/1.1[0m" 302 -
2025-08-03 08:07:16,033 - INFO - 127.0.0.1 - - [03/Aug/2025 08:07:16] "GET /loans HTTP/1.1" 200 -
2025-08-03 08:07:24,241 - INFO - 127.0.0.1 - - [03/Aug/2025 08:07:24] "GET / HTTP/1.1" 200 -
2025-08-03 08:07:30,122 - INFO - 127.0.0.1 - - [03/Aug/2025 08:07:30] "GET /dashboard/sales HTTP/1.1" 200 -
2025-08-03 08:07:30,192 - INFO - 127.0.0.1 - - [03/Aug/2025 08:07:30] "GET /notifications/sales-summary HTTP/1.1" 200 -
2025-08-03 08:07:52,461 - INFO - 127.0.0.1 - - [03/Aug/2025 08:07:52] "GET /dashboard/team-leader HTTP/1.1" 200 -
2025-08-03 08:08:13,248 - INFO - 127.0.0.1 - - [03/Aug/2025 08:08:13] "GET / HTTP/1.1" 200 -
2025-08-03 08:08:18,019 - INFO - 127.0.0.1 - - [03/Aug/2025 08:08:18] "GET /register HTTP/1.1" 200 -
2025-08-03 08:12:40,021 - INFO - 127.0.0.1 - - [03/Aug/2025 08:12:40] "GET /register HTTP/1.1" 200 -
2025-08-03 08:12:40,934 - INFO - 127.0.0.1 - - [03/Aug/2025 08:12:40] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-08-03 08:12:51,102] ERROR in app: Exception on /customer/enquiry [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 552, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 3594, in customer_enquiry
    return redirect(url_for('customer_account', employment_number=customer.employment_number or 'PLACEHOLDER', section=section))
                    ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\helpers.py", line 232, in url_for
    return current_app.url_for(
           ~~~~~~~~~~~~~~~~~~~^
        endpoint,
        ^^^^^^^^^
    ...<4 lines>...
        **values,
        ^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'customer_account' with values ['employment_number', 'section']. Did you forget to specify values ['file_number']?
2025-08-03 08:12:51,102 - ERROR - Exception on /customer/enquiry [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 552, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 3594, in customer_enquiry
    return redirect(url_for('customer_account', employment_number=customer.employment_number or 'PLACEHOLDER', section=section))
                    ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\helpers.py", line 232, in url_for
    return current_app.url_for(
           ~~~~~~~~~~~~~~~~~~~^
        endpoint,
        ^^^^^^^^^
    ...<4 lines>...
        **values,
        ^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'customer_account' with values ['employment_number', 'section']. Did you forget to specify values ['file_number']?
2025-08-03 08:12:51,180 - INFO - 127.0.0.1 - - [03/Aug/2025 08:12:51] "[35m[1mPOST /customer/enquiry HTTP/1.1[0m" 500 -
2025-08-03 08:12:54,075 - INFO - 127.0.0.1 - - [03/Aug/2025 08:12:54] "GET /register HTTP/1.1" 200 -
[2025-08-03 08:15:51,940] INFO in app: ==================================================
[2025-08-03 08:15:51,949] INFO in app: Application logging initialized successfully
[2025-08-03 08:15:51,952] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 08:15:51,955] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 08:15:51,958] INFO in app: System encoding: utf-8
[2025-08-03 08:15:51,963] INFO in app: ==================================================
2025-08-03 08:15:52,269 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 08:15:52,271 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 08:15:52,271 - INFO - Scheduler started
2025-08-03 08:15:52,308 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 08:15:52,309 - INFO - [33mPress CTRL+C to quit[0m
2025-08-03 08:15:58,201 - INFO - 127.0.0.1 - - [03/Aug/2025 08:15:58] "GET /register HTTP/1.1" 200 -
2025-08-03 08:15:58,844 - INFO - 127.0.0.1 - - [03/Aug/2025 08:15:58] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-08-03 08:16:07,068] ERROR in app: Exception on /customer/enquiry [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 552, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 3594, in customer_enquiry
    return redirect(url_for('customer_account', employment_number=customer.employment_number or 'PLACEHOLDER', section=section))
                    ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\helpers.py", line 232, in url_for
    return current_app.url_for(
           ~~~~~~~~~~~~~~~~~~~^
        endpoint,
        ^^^^^^^^^
    ...<4 lines>...
        **values,
        ^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'customer_account' with values ['employment_number', 'section']. Did you forget to specify values ['file_number']?
2025-08-03 08:16:07,068 - ERROR - Exception on /customer/enquiry [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 552, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 3594, in customer_enquiry
    return redirect(url_for('customer_account', employment_number=customer.employment_number or 'PLACEHOLDER', section=section))
                    ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\helpers.py", line 232, in url_for
    return current_app.url_for(
           ~~~~~~~~~~~~~~~~~~~^
        endpoint,
        ^^^^^^^^^
    ...<4 lines>...
        **values,
        ^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'customer_account' with values ['employment_number', 'section']. Did you forget to specify values ['file_number']?
2025-08-03 08:16:07,124 - INFO - 127.0.0.1 - - [03/Aug/2025 08:16:07] "[35m[1mPOST /customer/enquiry HTTP/1.1[0m" 500 -
2025-08-03 08:16:10,357 - INFO - 127.0.0.1 - - [03/Aug/2025 08:16:10] "GET /register HTTP/1.1" 200 -
[2025-08-03 08:16:40,865] INFO in app: ==================================================
[2025-08-03 08:16:40,874] INFO in app: Application logging initialized successfully
[2025-08-03 08:16:40,877] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 08:16:40,880] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 08:16:40,884] INFO in app: System encoding: utf-8
[2025-08-03 08:16:40,888] INFO in app: ==================================================
2025-08-03 08:16:41,194 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 08:16:41,195 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 08:16:41,195 - INFO - Scheduler started
2025-08-03 08:16:41,227 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 08:16:41,227 - INFO - [33mPress CTRL+C to quit[0m
2025-08-03 08:16:46,477 - INFO - 127.0.0.1 - - [03/Aug/2025 08:16:46] "GET /register HTTP/1.1" 200 -
2025-08-03 08:16:47,045 - INFO - 127.0.0.1 - - [03/Aug/2025 08:16:47] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-08-03 08:16:51,505] ERROR in app: Exception on /customer/enquiry [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 552, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 3594, in customer_enquiry
    return redirect(url_for('customer_account', employment_number=customer.employment_number or 'PLACEHOLDER', section=section))
                    ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\helpers.py", line 232, in url_for
    return current_app.url_for(
           ~~~~~~~~~~~~~~~~~~~^
        endpoint,
        ^^^^^^^^^
    ...<4 lines>...
        **values,
        ^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'customer_account' with values ['employment_number', 'section']. Did you forget to specify values ['file_number']?
2025-08-03 08:16:51,505 - ERROR - Exception on /customer/enquiry [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 552, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 3594, in customer_enquiry
    return redirect(url_for('customer_account', employment_number=customer.employment_number or 'PLACEHOLDER', section=section))
                    ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\helpers.py", line 232, in url_for
    return current_app.url_for(
           ~~~~~~~~~~~~~~~~~~~^
        endpoint,
        ^^^^^^^^^
    ...<4 lines>...
        **values,
        ^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'customer_account' with values ['employment_number', 'section']. Did you forget to specify values ['file_number']?
2025-08-03 08:16:51,594 - INFO - 127.0.0.1 - - [03/Aug/2025 08:16:51] "[35m[1mPOST /customer/enquiry HTTP/1.1[0m" 500 -
[2025-08-03 14:39:46,015] INFO in app: ==================================================
[2025-08-03 14:39:46,025] INFO in app: Application logging initialized successfully
[2025-08-03 14:39:46,026] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 14:39:46,029] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 14:39:46,035] INFO in app: System encoding: utf-8
[2025-08-03 14:39:46,037] INFO in app: ==================================================
2025-08-03 14:39:46,265 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 14:39:46,267 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 14:39:46,267 - INFO - Scheduler started
2025-08-03 14:39:46,293 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 14:39:46,293 - INFO - [33mPress CTRL+C to quit[0m
2025-08-03 14:39:52,366 - INFO - 127.0.0.1 - - [03/Aug/2025 14:39:52] "[32mPOST /customer/enquiry HTTP/1.1[0m" 302 -
2025-08-03 14:39:52,405 - INFO - 127.0.0.1 - - [03/Aug/2025 14:39:52] "GET /login?next=/customer/enquiry HTTP/1.1" 200 -
2025-08-03 14:39:52,935 - INFO - 127.0.0.1 - - [03/Aug/2025 14:39:52] "GET /static/img/logo.png HTTP/1.1" 200 -
2025-08-03 14:39:54,551 - INFO - 127.0.0.1 - - [03/Aug/2025 14:39:54] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-03 14:39:56,530 - INFO - 127.0.0.1 - - [03/Aug/2025 14:39:56] "[32mPOST /login?next=/customer/enquiry HTTP/1.1[0m" 302 -
2025-08-03 14:39:56,691 - INFO - 127.0.0.1 - - [03/Aug/2025 14:39:56] "GET / HTTP/1.1" 200 -
2025-08-03 14:40:02,610 - INFO - 127.0.0.1 - - [03/Aug/2025 14:40:02] "GET /register HTTP/1.1" 200 -
[2025-08-03 14:40:07,577] ERROR in app: Exception on /customer/enquiry [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 552, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 3594, in customer_enquiry
    return redirect(url_for('customer_account', employment_number=customer.employment_number or 'PLACEHOLDER', section=section))
                    ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\helpers.py", line 232, in url_for
    return current_app.url_for(
           ~~~~~~~~~~~~~~~~~~~^
        endpoint,
        ^^^^^^^^^
    ...<4 lines>...
        **values,
        ^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'customer_account' with values ['employment_number', 'section']. Did you forget to specify values ['file_number']?
2025-08-03 14:40:07,577 - ERROR - Exception on /customer/enquiry [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 552, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 3594, in customer_enquiry
    return redirect(url_for('customer_account', employment_number=customer.employment_number or 'PLACEHOLDER', section=section))
                    ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\helpers.py", line 232, in url_for
    return current_app.url_for(
           ~~~~~~~~~~~~~~~~~~~^
        endpoint,
        ^^^^^^^^^
    ...<4 lines>...
        **values,
        ^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'customer_account' with values ['employment_number', 'section']. Did you forget to specify values ['file_number']?
2025-08-03 14:40:07,618 - INFO - 127.0.0.1 - - [03/Aug/2025 14:40:07] "[35m[1mPOST /customer/enquiry HTTP/1.1[0m" 500 -
[2025-08-03 14:45:02,909] INFO in app: ==================================================
[2025-08-03 14:45:02,915] INFO in app: Application logging initialized successfully
[2025-08-03 14:45:02,918] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 14:45:02,920] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 14:45:02,921] INFO in app: System encoding: utf-8
[2025-08-03 14:45:02,923] INFO in app: ==================================================
2025-08-03 14:45:03,139 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 14:45:03,141 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 14:45:03,141 - INFO - Scheduler started
2025-08-03 14:45:03,164 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 14:45:03,164 - INFO - [33mPress CTRL+C to quit[0m
2025-08-03 14:45:13,970 - INFO - 127.0.0.1 - - [03/Aug/2025 14:45:13] "[32mPOST /customer/enquiry HTTP/1.1[0m" 302 -
[2025-08-03 14:45:13,994] INFO in app: Found 6 agents and 5 team leaders
2025-08-03 14:45:13,994 - INFO - Found 6 agents and 5 team leaders
[2025-08-03 14:45:14,012] INFO in app: Found 10 loans for customer 202507000001
2025-08-03 14:45:14,012 - INFO - Found 10 loans for customer 202507000001
2025-08-03 14:45:14,082 - INFO - 127.0.0.1 - - [03/Aug/2025 14:45:14] "GET /customer/202507000001/account?employment_number=PLACEHOLDER&national_id=SBCEHDAW&section=topup HTTP/1.1" 200 -
2025-08-03 14:45:21,181 - INFO - 127.0.0.1 - - [03/Aug/2025 14:45:21] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-08-03 14:45:28,448] INFO in app: Found 6 agents and 5 team leaders
2025-08-03 14:45:28,448 - INFO - Found 6 agents and 5 team leaders
[2025-08-03 14:45:28,455] INFO in app: Found 10 loans for customer 202507000001
2025-08-03 14:45:28,455 - INFO - Found 10 loans for customer 202507000001
2025-08-03 14:45:28,470 - INFO - 127.0.0.1 - - [03/Aug/2025 14:45:28] "GET /customer/202507000001/account?section=topup HTTP/1.1" 200 -
[2025-08-03 14:45:35,542] INFO in app: Found 6 agents and 5 team leaders
2025-08-03 14:45:35,542 - INFO - Found 6 agents and 5 team leaders
[2025-08-03 14:45:35,550] INFO in app: Found 10 loans for customer 202507000001
2025-08-03 14:45:35,550 - INFO - Found 10 loans for customer 202507000001
2025-08-03 14:45:35,560 - INFO - 127.0.0.1 - - [03/Aug/2025 14:45:35] "GET /customer/202507000001/account?section=statement HTTP/1.1" 200 -
[2025-08-03 14:45:37,164] INFO in app: Found 6 agents and 5 team leaders
2025-08-03 14:45:37,164 - INFO - Found 6 agents and 5 team leaders
[2025-08-03 14:45:37,171] INFO in app: Found 10 loans for customer 202507000001
2025-08-03 14:45:37,171 - INFO - Found 10 loans for customer 202507000001
2025-08-03 14:45:37,179 - INFO - 127.0.0.1 - - [03/Aug/2025 14:45:37] "GET /customer/202507000001/account?section=additional HTTP/1.1" 200 -
[2025-08-03 14:45:38,467] INFO in app: Found 6 agents and 5 team leaders
2025-08-03 14:45:38,467 - INFO - Found 6 agents and 5 team leaders
[2025-08-03 14:45:38,474] INFO in app: Found 10 loans for customer 202507000001
2025-08-03 14:45:38,474 - INFO - Found 10 loans for customer 202507000001
2025-08-03 14:45:38,486 - INFO - 127.0.0.1 - - [03/Aug/2025 14:45:38] "GET /customer/202507000001/account?section=settlement HTTP/1.1" 200 -
[2025-08-03 14:45:39,412] INFO in app: Found 6 agents and 5 team leaders
2025-08-03 14:45:39,412 - INFO - Found 6 agents and 5 team leaders
[2025-08-03 14:45:39,422] INFO in app: Found 10 loans for customer 202507000001
2025-08-03 14:45:39,422 - INFO - Found 10 loans for customer 202507000001
2025-08-03 14:45:39,432 - INFO - 127.0.0.1 - - [03/Aug/2025 14:45:39] "GET /customer/202507000001/account?section=topup HTTP/1.1" 200 -
[2025-08-03 14:45:46,162] INFO in app: Found 6 agents and 5 team leaders
2025-08-03 14:45:46,162 - INFO - Found 6 agents and 5 team leaders
[2025-08-03 14:45:46,173] INFO in app: Found 10 loans for customer 202507000001
2025-08-03 14:45:46,173 - INFO - Found 10 loans for customer 202507000001
2025-08-03 14:45:46,183 - INFO - 127.0.0.1 - - [03/Aug/2025 14:45:46] "GET /customer/202507000001/account?section=statement HTTP/1.1" 200 -
[2025-08-03 14:45:47,413] INFO in app: Found 6 agents and 5 team leaders
2025-08-03 14:45:47,413 - INFO - Found 6 agents and 5 team leaders
[2025-08-03 14:45:47,422] INFO in app: Found 10 loans for customer 202507000001
2025-08-03 14:45:47,422 - INFO - Found 10 loans for customer 202507000001
2025-08-03 14:45:47,433 - INFO - 127.0.0.1 - - [03/Aug/2025 14:45:47] "GET /customer/202507000001/account?section=additional HTTP/1.1" 200 -
[2025-08-03 14:45:48,873] INFO in app: Found 6 agents and 5 team leaders
2025-08-03 14:45:48,873 - INFO - Found 6 agents and 5 team leaders
[2025-08-03 14:45:48,884] INFO in app: Found 10 loans for customer 202507000001
2025-08-03 14:45:48,884 - INFO - Found 10 loans for customer 202507000001
2025-08-03 14:45:48,892 - INFO - 127.0.0.1 - - [03/Aug/2025 14:45:48] "GET /customer/202507000001/account?section=topup HTTP/1.1" 200 -
[2025-08-03 14:45:53,117] INFO in app: Found 6 agents and 5 team leaders
2025-08-03 14:45:53,117 - INFO - Found 6 agents and 5 team leaders
[2025-08-03 14:45:53,128] INFO in app: Found 10 loans for customer 202507000001
2025-08-03 14:45:53,128 - INFO - Found 10 loans for customer 202507000001
2025-08-03 14:45:53,136 - INFO - 127.0.0.1 - - [03/Aug/2025 14:45:53] "GET /customer/202507000001/account?section=additional HTTP/1.1" 200 -
[2025-08-03 14:45:55,016] INFO in app: Found 6 agents and 5 team leaders
2025-08-03 14:45:55,016 - INFO - Found 6 agents and 5 team leaders
[2025-08-03 14:45:55,027] INFO in app: Found 10 loans for customer 202507000001
2025-08-03 14:45:55,027 - INFO - Found 10 loans for customer 202507000001
2025-08-03 14:45:55,034 - INFO - 127.0.0.1 - - [03/Aug/2025 14:45:55] "GET /customer/202507000001/account?section=settlement HTTP/1.1" 200 -
2025-08-03 14:46:00,032 - INFO - 127.0.0.1 - - [03/Aug/2025 14:46:00] "GET /loanbook HTTP/1.1" 200 -
[2025-08-03 14:46:05,658] INFO in app: Found 6 agents and 5 team leaders
2025-08-03 14:46:05,658 - INFO - Found 6 agents and 5 team leaders
[2025-08-03 14:46:05,670] INFO in app: Found 10 loans for customer 202507000001
2025-08-03 14:46:05,670 - INFO - Found 10 loans for customer 202507000001
2025-08-03 14:46:05,680 - INFO - 127.0.0.1 - - [03/Aug/2025 14:46:05] "GET /customer/202507000001/account HTTP/1.1" 200 -
[2025-08-03 14:46:14,276] INFO in app: Found 6 agents and 5 team leaders
2025-08-03 14:46:14,276 - INFO - Found 6 agents and 5 team leaders
[2025-08-03 14:46:14,282] INFO in app: Found 10 loans for customer 202507000001
2025-08-03 14:46:14,282 - INFO - Found 10 loans for customer 202507000001
2025-08-03 14:46:14,297 - INFO - 127.0.0.1 - - [03/Aug/2025 14:46:14] "GET /customer/202507000001/account?section=statement HTTP/1.1" 200 -
[2025-08-03 14:46:15,420] INFO in app: Found 6 agents and 5 team leaders
2025-08-03 14:46:15,420 - INFO - Found 6 agents and 5 team leaders
[2025-08-03 14:46:15,430] INFO in app: Found 10 loans for customer 202507000001
2025-08-03 14:46:15,430 - INFO - Found 10 loans for customer 202507000001
2025-08-03 14:46:15,442 - INFO - 127.0.0.1 - - [03/Aug/2025 14:46:15] "GET /customer/202507000001/account?section=additional HTTP/1.1" 200 -
[2025-08-03 14:46:16,467] INFO in app: Found 6 agents and 5 team leaders
2025-08-03 14:46:16,467 - INFO - Found 6 agents and 5 team leaders
[2025-08-03 14:46:16,475] INFO in app: Found 10 loans for customer 202507000001
2025-08-03 14:46:16,475 - INFO - Found 10 loans for customer 202507000001
2025-08-03 14:46:16,492 - INFO - 127.0.0.1 - - [03/Aug/2025 14:46:16] "GET /customer/202507000001/account?section=topup HTTP/1.1" 200 -
[2025-08-03 14:46:17,408] INFO in app: Found 6 agents and 5 team leaders
2025-08-03 14:46:17,408 - INFO - Found 6 agents and 5 team leaders
[2025-08-03 14:46:17,420] INFO in app: Found 10 loans for customer 202507000001
2025-08-03 14:46:17,420 - INFO - Found 10 loans for customer 202507000001
2025-08-03 14:46:17,434 - INFO - 127.0.0.1 - - [03/Aug/2025 14:46:17] "GET /customer/202507000001/account?section=settlement HTTP/1.1" 200 -
[2025-08-03 14:50:36,937] INFO in app: ==================================================
[2025-08-03 14:50:36,945] INFO in app: Application logging initialized successfully
[2025-08-03 14:50:36,948] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 14:50:36,950] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 14:50:36,953] INFO in app: System encoding: utf-8
[2025-08-03 14:50:36,956] INFO in app: ==================================================
2025-08-03 14:50:37,222 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 14:50:37,224 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 14:50:37,225 - INFO - Scheduler started
2025-08-03 14:50:37,258 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 14:50:37,258 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-03 14:50:46,065] INFO in app: ==================================================
[2025-08-03 14:50:46,078] INFO in app: Application logging initialized successfully
[2025-08-03 14:50:46,082] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 14:50:46,089] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 14:50:46,092] INFO in app: System encoding: utf-8
[2025-08-03 14:50:46,094] INFO in app: ==================================================
2025-08-03 14:50:46,415 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 14:50:46,416 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 14:50:46,417 - INFO - Scheduler started
2025-08-03 14:50:46,445 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 14:50:46,445 - INFO - [33mPress CTRL+C to quit[0m
2025-08-03 14:50:53,222 - INFO - 127.0.0.1 - - [03/Aug/2025 14:50:53] "GET /customer/202507000001/account?section=settlement HTTP/1.1" 200 -
2025-08-03 14:50:53,385 - INFO - 127.0.0.1 - - [03/Aug/2025 14:50:53] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-03 14:50:59,027 - INFO - 127.0.0.1 - - [03/Aug/2025 14:50:59] "GET /customer/202507000001/account?section=settlement HTTP/1.1" 200 -
2025-08-03 14:50:59,323 - INFO - 127.0.0.1 - - [03/Aug/2025 14:50:59] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-03 14:51:01,322 - INFO - 127.0.0.1 - - [03/Aug/2025 14:51:01] "GET /customer/202507000001/account?section=settlement HTTP/1.1" 200 -
2025-08-03 14:51:01,427 - INFO - 127.0.0.1 - - [03/Aug/2025 14:51:01] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-03 14:51:05,770 - INFO - 127.0.0.1 - - [03/Aug/2025 14:51:05] "GET /customer/202507000001/account?section=settlement HTTP/1.1" 200 -
2025-08-03 14:53:30,166 - INFO - 127.0.0.1 - - [03/Aug/2025 14:53:30] "GET /register HTTP/1.1" 200 -
2025-08-03 14:53:43,609 - INFO - 127.0.0.1 - - [03/Aug/2025 14:53:43] "[32mPOST /customer/enquiry HTTP/1.1[0m" 302 -
2025-08-03 14:53:43,632 - INFO - 127.0.0.1 - - [03/Aug/2025 14:53:43] "GET /customer/202507000001/account?employment_number=PLACEHOLDER&national_id=SBCEHDAW&section=additional HTTP/1.1" 200 -
2025-08-03 14:55:28,852 - INFO - 127.0.0.1 - - [03/Aug/2025 14:55:28] "GET /customer/202507000001/account?employment_number=PLACEHOLDER&national_id=SBCEHDAW&section=additional HTTP/1.1" 200 -
2025-08-03 14:55:45,616 - INFO - 127.0.0.1 - - [03/Aug/2025 14:55:45] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-08-03 14:56:52,550] INFO in app: ==================================================
[2025-08-03 14:56:52,558] INFO in app: Application logging initialized successfully
[2025-08-03 14:56:52,562] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 14:56:52,568] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 14:56:52,571] INFO in app: System encoding: utf-8
[2025-08-03 14:56:52,573] INFO in app: ==================================================
2025-08-03 14:56:52,878 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 14:56:52,880 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 14:56:52,880 - INFO - Scheduler started
2025-08-03 14:56:52,914 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 14:56:52,914 - INFO - [33mPress CTRL+C to quit[0m
2025-08-03 15:04:47,706 - INFO - 127.0.0.1 - - [03/Aug/2025 15:04:47] "[32mPOST /apply_additional/1 HTTP/1.1[0m" 302 -
2025-08-03 15:04:47,787 - INFO - 127.0.0.1 - - [03/Aug/2025 15:04:47] "GET /customer/202507000001/account?section=statement HTTP/1.1" 200 -
2025-08-03 15:04:49,803 - INFO - 127.0.0.1 - - [03/Aug/2025 15:04:49] "GET /loans HTTP/1.1" 200 -
2025-08-03 15:04:54,092 - INFO - 127.0.0.1 - - [03/Aug/2025 15:04:54] "[32mPOST /process_loan/16/approve HTTP/1.1[0m" 302 -
2025-08-03 15:04:54,521 - INFO - 127.0.0.1 - - [03/Aug/2025 15:04:54] "GET /loans HTTP/1.1" 200 -
2025-08-03 15:04:57,582 - INFO - 127.0.0.1 - - [03/Aug/2025 15:04:57] "GET / HTTP/1.1" 200 -
2025-08-03 15:05:01,043 - INFO - 127.0.0.1 - - [03/Aug/2025 15:05:01] "GET /dashboard/sales HTTP/1.1" 200 -
2025-08-03 15:05:01,070 - INFO - 127.0.0.1 - - [03/Aug/2025 15:05:01] "GET /notifications/sales-summary HTTP/1.1" 200 -
2025-08-03 15:05:35,994 - INFO - 127.0.0.1 - - [03/Aug/2025 15:05:35] "GET /dashboard/team-leader HTTP/1.1" 200 -
2025-08-03 15:05:38,013 - INFO - 127.0.0.1 - - [03/Aug/2025 15:05:38] "GET /dashboard/analytics HTTP/1.1" 200 -
2025-08-03 15:05:38,097 - INFO - 127.0.0.1 - - [03/Aug/2025 15:05:38] "GET /api/loans-by-region HTTP/1.1" 200 -
2025-08-03 15:05:38,412 - INFO - 127.0.0.1 - - [03/Aug/2025 15:05:38] "GET /api/average-ticket-size HTTP/1.1" 200 -
2025-08-03 15:05:38,435 - INFO - 127.0.0.1 - - [03/Aug/2025 15:05:38] "GET /api/loans-by-district HTTP/1.1" 200 -
2025-08-03 15:05:40,344 - INFO - 127.0.0.1 - - [03/Aug/2025 15:05:40] "GET /dashboard/sales HTTP/1.1" 200 -
2025-08-03 15:05:40,429 - INFO - 127.0.0.1 - - [03/Aug/2025 15:05:40] "GET /notifications/sales-summary HTTP/1.1" 200 -
[2025-08-03 15:52:50,751] INFO in app: ==================================================
[2025-08-03 15:52:50,881] INFO in app: Application logging initialized successfully
[2025-08-03 15:52:50,886] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 15:52:50,890] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 15:52:50,894] INFO in app: System encoding: utf-8
[2025-08-03 15:52:50,899] INFO in app: ==================================================
2025-08-03 15:52:51,469 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 15:52:51,472 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 15:52:51,472 - INFO - Scheduler started
2025-08-03 15:52:51,538 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 15:52:51,538 - INFO - [33mPress CTRL+C to quit[0m
2025-08-03 15:53:19,158 - INFO - 127.0.0.1 - - [03/Aug/2025 15:53:19] "GET /dashboard/sales HTTP/1.1" 200 -
2025-08-03 15:53:19,838 - INFO - 127.0.0.1 - - [03/Aug/2025 15:53:19] "GET /notifications/sales-summary HTTP/1.1" 200 -
2025-08-03 15:53:20,584 - INFO - 127.0.0.1 - - [03/Aug/2025 15:53:20] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-03 15:53:23,729 - INFO - 127.0.0.1 - - [03/Aug/2025 15:53:23] "GET /loanbook HTTP/1.1" 200 -
2025-08-03 15:53:27,070 - INFO - 127.0.0.1 - - [03/Aug/2025 15:53:27] "GET /customer/202507000002/account HTTP/1.1" 200 -
2025-08-03 15:53:28,882 - INFO - 127.0.0.1 - - [03/Aug/2025 15:53:28] "GET /customer/202507000002/account?section=additional HTTP/1.1" 200 -
2025-08-03 15:54:47,562 - INFO - 127.0.0.1 - - [03/Aug/2025 15:54:47] "[32mPOST /apply_additional/2 HTTP/1.1[0m" 302 -
2025-08-03 15:54:47,594 - INFO - 127.0.0.1 - - [03/Aug/2025 15:54:47] "GET /customer/202507000002/account?section=statement HTTP/1.1" 200 -
2025-08-03 15:54:52,230 - INFO - 127.0.0.1 - - [03/Aug/2025 15:54:52] "GET /loans HTTP/1.1" 200 -
2025-08-03 15:55:03,437 - INFO - 127.0.0.1 - - [03/Aug/2025 15:55:03] "[32mPOST /process_loan/17/approve HTTP/1.1[0m" 302 -
2025-08-03 15:55:04,044 - INFO - 127.0.0.1 - - [03/Aug/2025 15:55:04] "GET /loans HTTP/1.1" 200 -
2025-08-03 15:55:10,216 - INFO - 127.0.0.1 - - [03/Aug/2025 15:55:10] "GET / HTTP/1.1" 200 -
2025-08-03 15:55:16,076 - INFO - 127.0.0.1 - - [03/Aug/2025 15:55:16] "GET /dashboard/sales HTTP/1.1" 200 -
2025-08-03 15:55:16,162 - INFO - 127.0.0.1 - - [03/Aug/2025 15:55:16] "GET /notifications/sales-summary HTTP/1.1" 200 -
2025-08-03 15:55:32,747 - INFO - 127.0.0.1 - - [03/Aug/2025 15:55:32] "GET /dashboard/team-leader HTTP/1.1" 200 -
2025-08-03 15:55:53,199 - INFO - 127.0.0.1 - - [03/Aug/2025 15:55:53] "GET / HTTP/1.1" 200 -
[2025-08-03 16:10:05,505] INFO in app: ==================================================
[2025-08-03 16:10:05,513] INFO in app: Application logging initialized successfully
[2025-08-03 16:10:05,517] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 16:10:05,519] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 16:10:05,523] INFO in app: System encoding: utf-8
[2025-08-03 16:10:05,526] INFO in app: ==================================================
2025-08-03 16:10:05,818 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 16:10:05,820 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 16:10:05,820 - INFO - Scheduler started
2025-08-03 16:10:05,851 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 16:10:05,852 - INFO - [33mPress CTRL+C to quit[0m
2025-08-03 16:16:57,720 - INFO - 127.0.0.1 - - [03/Aug/2025 16:16:57] "GET / HTTP/1.1" 200 -
2025-08-03 16:17:41,173 - INFO - 127.0.0.1 - - [03/Aug/2025 16:17:41] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-08-03 16:20:26,288] INFO in app: ==================================================
[2025-08-03 16:20:26,297] INFO in app: Application logging initialized successfully
[2025-08-03 16:20:26,300] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 16:20:26,302] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 16:20:26,310] INFO in app: System encoding: utf-8
[2025-08-03 16:20:26,316] INFO in app: ==================================================
2025-08-03 16:20:26,685 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 16:20:26,687 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 16:20:26,687 - INFO - Scheduler started
2025-08-03 16:20:26,714 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 16:20:26,714 - INFO - [33mPress CTRL+C to quit[0m
2025-08-03 16:20:54,217 - INFO - 127.0.0.1 - - [03/Aug/2025 16:20:54] "GET /check-scheduler HTTP/1.1" 200 -
2025-08-03 16:21:23,200 - INFO - 127.0.0.1 - - [03/Aug/2025 16:21:23] "GET /check-scheduler HTTP/1.1" 200 -
[2025-08-03 18:58:10,247] INFO in app: ==================================================
[2025-08-03 18:58:10,256] INFO in app: Application logging initialized successfully
[2025-08-03 18:58:10,258] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 18:58:10,259] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 18:58:10,261] INFO in app: System encoding: utf-8
[2025-08-03 18:58:10,264] INFO in app: ==================================================
2025-08-03 18:58:10,522 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 18:58:10,523 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 18:58:10,523 - INFO - Scheduler started
2025-08-03 18:58:10,548 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 18:58:10,549 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-03 18:58:19,585] INFO in app: ==================================================
[2025-08-03 18:58:19,590] INFO in app: Application logging initialized successfully
[2025-08-03 18:58:19,593] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 18:58:19,594] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 18:58:19,600] INFO in app: System encoding: utf-8
[2025-08-03 18:58:19,602] INFO in app: ==================================================
2025-08-03 18:58:19,823 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 18:58:19,825 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 18:58:19,825 - INFO - Scheduler started
2025-08-03 18:58:19,842 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-03 18:58:19,851 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 18:58:19,851 - INFO - [33mPress CTRL+C to quit[0m
2025-08-03 18:58:29,853 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 18:58:29 SAST)" (scheduled at 2025-08-03 18:58:29.841982+02:00)
2025-08-03 18:58:29,857 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 18:59:29 SAST)" executed successfully
2025-08-03 18:59:29,850 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:00:29 SAST)" (scheduled at 2025-08-03 18:59:29.841982+02:00)
2025-08-03 18:59:29,885 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:00:29 SAST)" executed successfully
2025-08-03 19:00:29,858 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:01:29 SAST)" (scheduled at 2025-08-03 19:00:29.841982+02:00)
2025-08-03 19:00:29,864 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:01:29 SAST)" executed successfully
2025-08-03 19:01:29,857 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:02:29 SAST)" (scheduled at 2025-08-03 19:01:29.841982+02:00)
2025-08-03 19:01:29,858 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:02:29 SAST)" executed successfully
2025-08-03 19:02:29,856 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:03:29 SAST)" (scheduled at 2025-08-03 19:02:29.841982+02:00)
2025-08-03 19:02:29,858 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:03:29 SAST)" executed successfully
2025-08-03 19:03:29,842 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:04:29 SAST)" (scheduled at 2025-08-03 19:03:29.841982+02:00)
2025-08-03 19:03:29,844 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:04:29 SAST)" executed successfully
2025-08-03 19:04:29,847 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:05:29 SAST)" (scheduled at 2025-08-03 19:04:29.841982+02:00)
2025-08-03 19:04:29,848 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:05:29 SAST)" executed successfully
2025-08-03 19:05:29,860 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:06:29 SAST)" (scheduled at 2025-08-03 19:05:29.841982+02:00)
2025-08-03 19:05:29,900 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:06:29 SAST)" executed successfully
2025-08-03 19:06:29,864 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:07:29 SAST)" (scheduled at 2025-08-03 19:06:29.841982+02:00)
2025-08-03 19:06:29,867 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:07:29 SAST)" executed successfully
[2025-08-03 19:07:24,366] INFO in app: ==================================================
[2025-08-03 19:07:24,430] INFO in app: Application logging initialized successfully
[2025-08-03 19:07:24,432] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 19:07:24,433] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 19:07:24,435] INFO in app: System encoding: utf-8
[2025-08-03 19:07:24,436] INFO in app: ==================================================
2025-08-03 19:07:24,721 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 19:07:24,723 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 19:07:24,723 - INFO - Scheduler started
2025-08-03 19:07:24,738 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-03 19:07:24,766 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 19:07:24,766 - INFO - [33mPress CTRL+C to quit[0m
2025-08-03 19:07:34,744 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:07:34 SAST)" (scheduled at 2025-08-03 19:07:34.738566+02:00)
2025-08-03 19:07:34,748 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:08:34 SAST)" executed successfully
2025-08-03 19:08:34,754 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:09:34 SAST)" (scheduled at 2025-08-03 19:08:34.738566+02:00)
2025-08-03 19:08:34,758 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:09:34 SAST)" executed successfully
2025-08-03 19:09:34,741 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:10:34 SAST)" (scheduled at 2025-08-03 19:09:34.738566+02:00)
2025-08-03 19:09:34,744 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:10:34 SAST)" executed successfully
2025-08-03 19:10:34,746 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:11:34 SAST)" (scheduled at 2025-08-03 19:10:34.738566+02:00)
2025-08-03 19:10:34,749 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:11:34 SAST)" executed successfully
2025-08-03 19:11:34,745 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:12:34 SAST)" (scheduled at 2025-08-03 19:11:34.738566+02:00)
2025-08-03 19:11:34,748 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:12:34 SAST)" executed successfully
2025-08-03 19:12:34,743 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:13:34 SAST)" (scheduled at 2025-08-03 19:12:34.738566+02:00)
2025-08-03 19:12:34,745 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:13:34 SAST)" executed successfully
2025-08-03 19:13:22,332 - INFO - 127.0.0.1 - - [03/Aug/2025 19:13:22] "[33mGET /test-email-now HTTP/1.1[0m" 404 -
2025-08-03 19:13:34,751 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:14:34 SAST)" (scheduled at 2025-08-03 19:13:34.738566+02:00)
2025-08-03 19:13:34,753 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:14:34 SAST)" executed successfully
[2025-08-03 19:13:38,452] INFO in app: ==================================================
[2025-08-03 19:13:38,458] INFO in app: Application logging initialized successfully
[2025-08-03 19:13:38,460] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 19:13:38,462] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 19:13:38,464] INFO in app: System encoding: utf-8
[2025-08-03 19:13:38,467] INFO in app: ==================================================
2025-08-03 19:13:38,703 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 19:13:38,704 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 19:13:38,704 - INFO - Scheduler started
2025-08-03 19:13:38,720 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-03 19:13:38,734 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 19:13:38,734 - INFO - [33mPress CTRL+C to quit[0m
2025-08-03 19:13:42,474 - INFO - 127.0.0.1 - - [03/Aug/2025 19:13:42] "GET /test-email-now HTTP/1.1" 200 -
2025-08-03 19:13:42,518 - INFO - 127.0.0.1 - - [03/Aug/2025 19:13:42] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-03 19:13:48,735 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:13:48 SAST)" (scheduled at 2025-08-03 19:13:48.720782+02:00)
2025-08-03 19:13:48,737 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:14:48 SAST)" executed successfully
2025-08-03 19:14:48,724 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:15:48 SAST)" (scheduled at 2025-08-03 19:14:48.720782+02:00)
2025-08-03 19:14:48,727 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:15:48 SAST)" executed successfully
[2025-08-03 19:15:42,168] INFO in app: ==================================================
[2025-08-03 19:15:42,174] INFO in app: Application logging initialized successfully
[2025-08-03 19:15:42,176] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 19:15:42,178] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 19:15:42,183] INFO in app: System encoding: utf-8
[2025-08-03 19:15:42,185] INFO in app: ==================================================
2025-08-03 19:15:42,415 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 19:15:42,416 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 19:15:42,416 - INFO - Scheduler started
2025-08-03 19:15:42,433 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-03 19:15:42,445 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 19:15:42,446 - INFO - [33mPress CTRL+C to quit[0m
2025-08-03 19:15:52,440 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:15:52 SAST)" (scheduled at 2025-08-03 19:15:52.433259+02:00)
2025-08-03 19:15:52,445 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:16:52 SAST)" executed successfully
2025-08-03 19:15:52,749 - INFO - 127.0.0.1 - - [03/Aug/2025 19:15:52] "GET /test-smtp HTTP/1.1" 200 -
2025-08-03 19:16:52,439 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:17:52 SAST)" (scheduled at 2025-08-03 19:16:52.433259+02:00)
2025-08-03 19:16:52,441 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:17:52 SAST)" executed successfully
2025-08-03 19:17:52,439 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:18:52 SAST)" (scheduled at 2025-08-03 19:17:52.433259+02:00)
2025-08-03 19:17:52,446 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:18:52 SAST)" executed successfully
2025-08-03 19:18:52,442 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:19:52 SAST)" (scheduled at 2025-08-03 19:18:52.433259+02:00)
2025-08-03 19:18:52,443 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:19:52 SAST)" executed successfully
2025-08-03 19:19:52,450 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:20:52 SAST)" (scheduled at 2025-08-03 19:19:52.433259+02:00)
2025-08-03 19:19:52,472 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:20:52 SAST)" executed successfully
2025-08-03 19:20:52,449 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:21:52 SAST)" (scheduled at 2025-08-03 19:20:52.433259+02:00)
2025-08-03 19:20:52,451 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:21:52 SAST)" executed successfully
2025-08-03 19:21:52,439 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:22:52 SAST)" (scheduled at 2025-08-03 19:21:52.433259+02:00)
2025-08-03 19:21:52,441 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:22:52 SAST)" executed successfully
2025-08-03 19:22:52,445 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:23:52 SAST)" (scheduled at 2025-08-03 19:22:52.433259+02:00)
2025-08-03 19:22:52,447 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:23:52 SAST)" executed successfully
[2025-08-03 19:23:28,921] INFO in app: ==================================================
[2025-08-03 19:23:28,929] INFO in app: Application logging initialized successfully
[2025-08-03 19:23:28,949] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 19:23:28,951] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 19:23:28,958] INFO in app: System encoding: utf-8
[2025-08-03 19:23:28,961] INFO in app: ==================================================
2025-08-03 19:23:29,269 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 19:23:29,271 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 19:23:29,271 - INFO - Scheduler started
2025-08-03 19:23:29,298 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-03 19:23:29,308 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 19:23:29,309 - INFO - [33mPress CTRL+C to quit[0m
2025-08-03 19:23:39,301 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:23:39 SAST)" (scheduled at 2025-08-03 19:23:39.298032+02:00)
2025-08-03 19:23:39,303 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:24:39 SAST)" executed successfully
2025-08-03 19:24:39,317 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:25:39 SAST)" (scheduled at 2025-08-03 19:24:39.298032+02:00)
2025-08-03 19:24:39,318 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:25:39 SAST)" executed successfully
2025-08-03 19:25:39,302 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:26:39 SAST)" (scheduled at 2025-08-03 19:25:39.298032+02:00)
2025-08-03 19:25:39,303 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:26:39 SAST)" executed successfully
[2025-08-03 19:25:56,880] INFO in app: ==================================================
[2025-08-03 19:25:56,886] INFO in app: Application logging initialized successfully
[2025-08-03 19:25:56,889] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 19:25:56,890] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 19:25:56,895] INFO in app: System encoding: utf-8
[2025-08-03 19:25:56,898] INFO in app: ==================================================
2025-08-03 19:25:57,147 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 19:25:57,149 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 19:25:57,149 - INFO - Scheduler started
2025-08-03 19:25:57,169 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-03 19:25:57,177 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 19:25:57,177 - INFO - [33mPress CTRL+C to quit[0m
2025-08-03 19:26:01,728 - INFO - 127.0.0.1 - - [03/Aug/2025 19:26:01] "[33mGET /test-db HTTP/1.1[0m" 404 -
2025-08-03 19:26:07,179 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:26:07 SAST)" (scheduled at 2025-08-03 19:26:07.168860+02:00)
2025-08-03 19:26:07,181 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:27:07 SAST)" executed successfully
[2025-08-03 19:26:19,551] INFO in app: ==================================================
[2025-08-03 19:26:19,557] INFO in app: Application logging initialized successfully
[2025-08-03 19:26:19,560] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 19:26:19,561] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 19:26:19,564] INFO in app: System encoding: utf-8
[2025-08-03 19:26:19,565] INFO in app: ==================================================
2025-08-03 19:26:19,866 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 19:26:19,868 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 19:26:19,868 - INFO - Scheduler started
2025-08-03 19:26:19,884 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-03 19:26:19,892 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 19:26:19,892 - INFO - [33mPress CTRL+C to quit[0m
2025-08-03 19:26:29,898 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:26:29 SAST)" (scheduled at 2025-08-03 19:26:29.884575+02:00)
2025-08-03 19:26:29,900 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:27:29 SAST)" executed successfully
[2025-08-03 19:26:39,831] INFO in app: ==================================================
[2025-08-03 19:26:39,837] INFO in app: Application logging initialized successfully
[2025-08-03 19:26:39,840] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 19:26:39,842] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 19:26:39,845] INFO in app: System encoding: utf-8
[2025-08-03 19:26:39,846] INFO in app: ==================================================
2025-08-03 19:26:40,214 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 19:26:40,216 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 19:26:40,216 - INFO - Scheduler started
2025-08-03 19:26:40,239 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-03 19:26:40,247 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 19:26:40,247 - INFO - [33mPress CTRL+C to quit[0m
2025-08-03 19:26:47,529 - INFO - 127.0.0.1 - - [03/Aug/2025 19:26:47] "[33mGET /test-db HTTP/1.1[0m" 404 -
2025-08-03 19:26:47,579 - INFO - 127.0.0.1 - - [03/Aug/2025 19:26:47] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-03 19:26:50,243 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:26:50 SAST)" (scheduled at 2025-08-03 19:26:50.239083+02:00)
2025-08-03 19:26:50,245 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:27:50 SAST)" executed successfully
2025-08-03 19:27:50,244 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:28:50 SAST)" (scheduled at 2025-08-03 19:27:50.239083+02:00)
2025-08-03 19:27:50,245 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:28:50 SAST)" executed successfully
2025-08-03 19:28:50,250 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:29:50 SAST)" (scheduled at 2025-08-03 19:28:50.239083+02:00)
2025-08-03 19:28:50,254 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:29:50 SAST)" executed successfully
[2025-08-03 19:29:50,433] INFO in app: ==================================================
[2025-08-03 19:29:50,444] INFO in app: Application logging initialized successfully
[2025-08-03 19:29:50,448] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 19:29:50,452] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 19:29:50,454] INFO in app: System encoding: utf-8
[2025-08-03 19:29:50,456] INFO in app: ==================================================
2025-08-03 19:29:50,751 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 19:29:50,752 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 19:29:50,752 - INFO - Scheduler started
2025-08-03 19:29:50,777 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-03 19:29:50,786 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 19:29:50,786 - INFO - [33mPress CTRL+C to quit[0m
2025-08-03 19:30:00,037 - INFO - 127.0.0.1 - - [03/Aug/2025 19:30:00] "[35m[1mGET /test-db-simple HTTP/1.1[0m" 500 -
2025-08-03 19:30:00,789 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:30:00 SAST)" (scheduled at 2025-08-03 19:30:00.776920+02:00)
2025-08-03 19:30:13,734 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:31:00 SAST)" executed successfully
2025-08-03 19:30:48,519 - INFO - 127.0.0.1 - - [03/Aug/2025 19:30:48] "GET /test-email-simple HTTP/1.1" 200 -
2025-08-03 19:31:00,786 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:32:00 SAST)" (scheduled at 2025-08-03 19:31:00.776920+02:00)
2025-08-03 19:31:10,200 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:32:00 SAST)" executed successfully
2025-08-03 19:32:00,779 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:33:00 SAST)" (scheduled at 2025-08-03 19:32:00.776920+02:00)
2025-08-03 19:32:07,646 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:33:00 SAST)" executed successfully
2025-08-03 19:33:00,783 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:34:00 SAST)" (scheduled at 2025-08-03 19:33:00.776920+02:00)
2025-08-03 19:33:04,915 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:34:00 SAST)" executed successfully
2025-08-03 19:34:00,779 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:35:00 SAST)" (scheduled at 2025-08-03 19:34:00.776920+02:00)
2025-08-03 19:34:05,158 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:35:00 SAST)" executed successfully
[2025-08-03 19:34:50,371] INFO in app: ==================================================
[2025-08-03 19:34:50,378] INFO in app: Application logging initialized successfully
[2025-08-03 19:34:50,380] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 19:34:50,381] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 19:34:50,383] INFO in app: System encoding: utf-8
[2025-08-03 19:34:50,385] INFO in app: ==================================================
2025-08-03 19:34:50,629 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 19:34:50,631 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 19:34:50,631 - INFO - Scheduler started
2025-08-03 19:34:50,648 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-03 19:34:50,659 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 19:34:50,659 - INFO - [33mPress CTRL+C to quit[0m
2025-08-03 19:34:55,819 - INFO - 127.0.0.1 - - [03/Aug/2025 19:34:55] "[33mGET /test-db HTTP/1.1[0m" 404 -
2025-08-03 19:34:55,864 - INFO - 127.0.0.1 - - [03/Aug/2025 19:34:55] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-03 19:35:00,649 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:35:00 SAST)" (scheduled at 2025-08-03 19:35:00.648458+02:00)
2025-08-03 19:35:10,646 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:36:00 SAST)" executed successfully
2025-08-03 19:35:22,748 - INFO - 127.0.0.1 - - [03/Aug/2025 19:35:22] "[35m[1mGET /test-db-simple HTTP/1.1[0m" 500 -
2025-08-03 19:35:23,060 - INFO - 127.0.0.1 - - [03/Aug/2025 19:35:23] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-03 19:35:27,112 - INFO - 127.0.0.1 - - [03/Aug/2025 19:35:27] "[35m[1mGET /test-db-simple HTTP/1.1[0m" 500 -
2025-08-03 19:35:27,154 - INFO - 127.0.0.1 - - [03/Aug/2025 19:35:27] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-03 19:35:29,052 - INFO - 127.0.0.1 - - [03/Aug/2025 19:35:29] "[35m[1mGET /test-db-simple HTTP/1.1[0m" 500 -
2025-08-03 19:36:00,655 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:37:00 SAST)" (scheduled at 2025-08-03 19:36:00.648458+02:00)
2025-08-03 19:36:00,658 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:37:00 SAST)" executed successfully
2025-08-03 19:37:00,662 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:38:00 SAST)" (scheduled at 2025-08-03 19:37:00.648458+02:00)
2025-08-03 19:37:00,675 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:38:00 SAST)" executed successfully
2025-08-03 19:38:00,669 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:39:00 SAST)" (scheduled at 2025-08-03 19:38:00.648458+02:00)
2025-08-03 19:38:00,691 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:39:00 SAST)" executed successfully
2025-08-03 19:39:00,660 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:40:00 SAST)" (scheduled at 2025-08-03 19:39:00.648458+02:00)
2025-08-03 19:39:00,666 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:40:00 SAST)" executed successfully
2025-08-03 19:40:00,656 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:41:00 SAST)" (scheduled at 2025-08-03 19:40:00.648458+02:00)
2025-08-03 19:40:13,331 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:41:00 SAST)" executed successfully
2025-08-03 19:41:00,669 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:42:00 SAST)" (scheduled at 2025-08-03 19:41:00.648458+02:00)
2025-08-03 19:41:04,762 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:42:00 SAST)" executed successfully
2025-08-03 19:42:00,658 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:43:00 SAST)" (scheduled at 2025-08-03 19:42:00.648458+02:00)
2025-08-03 19:42:06,731 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:43:00 SAST)" executed successfully
2025-08-03 19:43:00,657 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:44:00 SAST)" (scheduled at 2025-08-03 19:43:00.648458+02:00)
2025-08-03 19:43:09,228 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:44:00 SAST)" executed successfully
2025-08-03 19:44:00,654 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:45:00 SAST)" (scheduled at 2025-08-03 19:44:00.648458+02:00)
2025-08-03 19:44:17,529 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:45:00 SAST)" executed successfully
2025-08-03 19:45:00,658 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:46:00 SAST)" (scheduled at 2025-08-03 19:45:00.648458+02:00)
2025-08-03 19:45:06,169 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:46:00 SAST)" executed successfully
2025-08-03 19:46:00,658 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:47:00 SAST)" (scheduled at 2025-08-03 19:46:00.648458+02:00)
2025-08-03 19:46:21,698 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:47:00 SAST)" executed successfully
2025-08-03 19:47:00,656 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:48:00 SAST)" (scheduled at 2025-08-03 19:47:00.648458+02:00)
2025-08-03 19:47:00,659 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:48:00 SAST)" executed successfully
2025-08-03 19:48:00,664 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:49:00 SAST)" (scheduled at 2025-08-03 19:48:00.648458+02:00)
2025-08-03 19:48:00,666 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:49:00 SAST)" executed successfully
2025-08-03 19:49:00,660 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:50:00 SAST)" (scheduled at 2025-08-03 19:49:00.648458+02:00)
2025-08-03 19:49:00,662 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:50:00 SAST)" executed successfully
2025-08-03 19:50:00,652 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:51:00 SAST)" (scheduled at 2025-08-03 19:50:00.648458+02:00)
2025-08-03 19:50:00,658 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:51:00 SAST)" executed successfully
2025-08-03 19:51:00,666 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:52:00 SAST)" (scheduled at 2025-08-03 19:51:00.648458+02:00)
2025-08-03 19:51:00,672 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:52:00 SAST)" executed successfully
2025-08-03 19:52:00,658 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:53:00 SAST)" (scheduled at 2025-08-03 19:52:00.648458+02:00)
2025-08-03 19:52:00,667 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:53:00 SAST)" executed successfully
2025-08-03 19:53:00,667 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:54:00 SAST)" (scheduled at 2025-08-03 19:53:00.648458+02:00)
2025-08-03 19:53:07,838 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:54:00 SAST)" executed successfully
2025-08-03 19:54:00,654 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:55:00 SAST)" (scheduled at 2025-08-03 19:54:00.648458+02:00)
2025-08-03 19:54:17,938 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:55:00 SAST)" executed successfully
2025-08-03 19:55:00,654 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:56:00 SAST)" (scheduled at 2025-08-03 19:55:00.648458+02:00)
2025-08-03 19:55:06,447 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:56:00 SAST)" executed successfully
2025-08-03 19:56:00,658 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:57:00 SAST)" (scheduled at 2025-08-03 19:56:00.648458+02:00)
2025-08-03 19:56:05,519 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:57:00 SAST)" executed successfully
2025-08-03 19:57:00,655 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:58:00 SAST)" (scheduled at 2025-08-03 19:57:00.648458+02:00)
2025-08-03 19:57:05,886 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:58:00 SAST)" executed successfully
2025-08-03 19:58:00,663 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:59:00 SAST)" (scheduled at 2025-08-03 19:58:00.648458+02:00)
2025-08-03 19:58:13,460 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:59:00 SAST)" executed successfully
2025-08-03 19:59:00,652 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:00:00 SAST)" (scheduled at 2025-08-03 19:59:00.648458+02:00)
2025-08-03 19:59:10,405 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:00:00 SAST)" executed successfully
[2025-08-03 19:59:24,398] INFO in app: ==================================================
[2025-08-03 19:59:24,405] INFO in app: Application logging initialized successfully
[2025-08-03 19:59:24,410] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 19:59:24,412] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 19:59:24,414] INFO in app: System encoding: utf-8
[2025-08-03 19:59:24,416] INFO in app: ==================================================
2025-08-03 19:59:24,835 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 19:59:24,837 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 19:59:24,837 - INFO - Scheduler started
2025-08-03 19:59:24,856 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-03 19:59:24,865 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 19:59:24,865 - INFO - [33mPress CTRL+C to quit[0m
2025-08-03 19:59:34,342 - INFO - 127.0.0.1 - - [03/Aug/2025 19:59:34] "GET /test-db-simple HTTP/1.1" 200 -
2025-08-03 19:59:34,391 - INFO - 127.0.0.1 - - [03/Aug/2025 19:59:34] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-03 19:59:34,867 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 19:59:34 SAST)" (scheduled at 2025-08-03 19:59:34.856207+02:00)
2025-08-03 19:59:42,797 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:00:34 SAST)" executed successfully
2025-08-03 20:00:34,871 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:01:34 SAST)" (scheduled at 2025-08-03 20:00:34.856207+02:00)
2025-08-03 20:00:44,058 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:01:34 SAST)" executed successfully
2025-08-03 20:01:34,859 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:02:34 SAST)" (scheduled at 2025-08-03 20:01:34.856207+02:00)
2025-08-03 20:01:43,481 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:02:34 SAST)" executed successfully
[2025-08-03 20:02:10,944] INFO in app: ==================================================
[2025-08-03 20:02:10,951] INFO in app: Application logging initialized successfully
[2025-08-03 20:02:10,954] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 20:02:10,955] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 20:02:10,957] INFO in app: System encoding: utf-8
[2025-08-03 20:02:10,959] INFO in app: ==================================================
2025-08-03 20:02:11,297 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 20:02:11,298 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 20:02:11,299 - INFO - Scheduler started
2025-08-03 20:02:11,318 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-03 20:02:11,327 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 20:02:11,327 - INFO - [33mPress CTRL+C to quit[0m
2025-08-03 20:02:21,330 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:02:21 SAST)" (scheduled at 2025-08-03 20:02:21.317899+02:00)
2025-08-03 20:02:21,337 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:03:21 SAST)" executed successfully
2025-08-03 20:03:21,325 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:04:21 SAST)" (scheduled at 2025-08-03 20:03:21.317899+02:00)
2025-08-03 20:03:21,328 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:04:21 SAST)" executed successfully
2025-08-03 20:04:21,327 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:05:21 SAST)" (scheduled at 2025-08-03 20:04:21.317899+02:00)
2025-08-03 20:04:21,332 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:05:21 SAST)" executed successfully
2025-08-03 20:05:21,330 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:06:21 SAST)" (scheduled at 2025-08-03 20:05:21.317899+02:00)
2025-08-03 20:05:21,333 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:06:21 SAST)" executed successfully
[2025-08-03 20:06:11,191] INFO in app: ==================================================
[2025-08-03 20:06:11,197] INFO in app: Application logging initialized successfully
[2025-08-03 20:06:11,199] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 20:06:11,201] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 20:06:11,203] INFO in app: System encoding: utf-8
[2025-08-03 20:06:11,208] INFO in app: ==================================================
2025-08-03 20:06:11,487 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 20:06:11,488 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 20:06:11,488 - INFO - Scheduler started
2025-08-03 20:06:11,507 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-03 20:06:11,526 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 20:06:11,526 - INFO - [33mPress CTRL+C to quit[0m
2025-08-03 20:06:18,657 - INFO - 127.0.0.1 - - [03/Aug/2025 20:06:18] "GET /check-tables HTTP/1.1" 200 -
2025-08-03 20:06:21,523 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:06:21 SAST)" (scheduled at 2025-08-03 20:06:21.507571+02:00)
2025-08-03 20:06:21,525 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:07:21 SAST)" executed successfully
2025-08-03 20:06:44,568 - INFO - 127.0.0.1 - - [03/Aug/2025 20:06:44] "[35m[1mGET /create-sales-table HTTP/1.1[0m" 500 -
2025-08-03 20:07:21,517 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:08:21 SAST)" (scheduled at 2025-08-03 20:07:21.507571+02:00)
2025-08-03 20:07:21,522 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:08:21 SAST)" executed successfully
2025-08-03 20:08:21,520 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:09:21 SAST)" (scheduled at 2025-08-03 20:08:21.507571+02:00)
2025-08-03 20:08:21,521 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:09:21 SAST)" executed successfully
2025-08-03 20:09:21,526 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:10:21 SAST)" (scheduled at 2025-08-03 20:09:21.507571+02:00)
2025-08-03 20:09:21,528 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:10:21 SAST)" executed successfully
2025-08-03 20:10:21,525 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:11:21 SAST)" (scheduled at 2025-08-03 20:10:21.507571+02:00)
2025-08-03 20:10:21,527 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:11:21 SAST)" executed successfully
2025-08-03 20:11:21,521 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:12:21 SAST)" (scheduled at 2025-08-03 20:11:21.507571+02:00)
2025-08-03 20:11:21,523 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:12:21 SAST)" executed successfully
2025-08-03 20:12:21,512 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:13:21 SAST)" (scheduled at 2025-08-03 20:12:21.507571+02:00)
2025-08-03 20:12:21,514 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:13:21 SAST)" executed successfully
2025-08-03 20:13:21,514 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:14:21 SAST)" (scheduled at 2025-08-03 20:13:21.507571+02:00)
2025-08-03 20:13:21,516 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:14:21 SAST)" executed successfully
2025-08-03 20:14:21,518 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:15:21 SAST)" (scheduled at 2025-08-03 20:14:21.507571+02:00)
2025-08-03 20:14:21,527 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:15:21 SAST)" executed successfully
2025-08-03 20:15:21,522 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:16:21 SAST)" (scheduled at 2025-08-03 20:15:21.507571+02:00)
2025-08-03 20:15:21,523 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:16:21 SAST)" executed successfully
2025-08-03 20:16:21,515 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:17:21 SAST)" (scheduled at 2025-08-03 20:16:21.507571+02:00)
2025-08-03 20:16:21,519 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:17:21 SAST)" executed successfully
2025-08-03 20:17:21,511 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:18:21 SAST)" (scheduled at 2025-08-03 20:17:21.507571+02:00)
2025-08-03 20:17:21,513 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:18:21 SAST)" executed successfully
2025-08-03 20:18:21,520 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:19:21 SAST)" (scheduled at 2025-08-03 20:18:21.507571+02:00)
2025-08-03 20:18:21,522 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:19:21 SAST)" executed successfully
2025-08-03 20:19:21,520 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:20:21 SAST)" (scheduled at 2025-08-03 20:19:21.507571+02:00)
2025-08-03 20:19:21,529 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:20:21 SAST)" executed successfully
2025-08-03 20:20:21,509 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:21:21 SAST)" (scheduled at 2025-08-03 20:20:21.507571+02:00)
2025-08-03 20:20:21,510 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:21:21 SAST)" executed successfully
2025-08-03 20:21:21,509 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:22:21 SAST)" (scheduled at 2025-08-03 20:21:21.507571+02:00)
2025-08-03 20:21:21,511 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:22:21 SAST)" executed successfully
[2025-08-03 20:21:35,807] INFO in app: ==================================================
[2025-08-03 20:21:35,823] INFO in app: Application logging initialized successfully
[2025-08-03 20:21:35,829] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 20:21:35,831] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 20:21:35,834] INFO in app: System encoding: utf-8
[2025-08-03 20:21:35,838] INFO in app: ==================================================
[2025-08-03 20:22:30,471] INFO in app: ==================================================
[2025-08-03 20:22:30,479] INFO in app: Application logging initialized successfully
[2025-08-03 20:22:30,481] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 20:22:30,483] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 20:22:30,485] INFO in app: System encoding: utf-8
[2025-08-03 20:22:30,492] INFO in app: ==================================================
[2025-08-03 20:24:28,207] INFO in app: ==================================================
[2025-08-03 20:24:28,216] INFO in app: Application logging initialized successfully
[2025-08-03 20:24:28,219] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 20:24:28,220] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 20:24:28,224] INFO in app: System encoding: utf-8
[2025-08-03 20:24:28,227] INFO in app: ==================================================
2025-08-03 20:24:28,493 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 20:24:28,494 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 20:24:28,494 - INFO - Scheduler started
2025-08-03 20:24:28,514 - INFO - Added job "send_sales_notification_email" to job store "default"
[2025-08-03 20:24:38,952] INFO in app: ==================================================
[2025-08-03 20:24:38,959] INFO in app: Application logging initialized successfully
[2025-08-03 20:24:38,961] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 20:24:38,963] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 20:24:38,967] INFO in app: System encoding: utf-8
[2025-08-03 20:24:38,971] INFO in app: ==================================================
2025-08-03 20:24:39,211 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 20:24:39,213 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 20:24:39,213 - INFO - Scheduler started
2025-08-03 20:24:39,231 - INFO - Added job "send_sales_notification_email" to job store "default"
[2025-08-03 20:24:43,834] INFO in app: ==================================================
[2025-08-03 20:24:43,839] INFO in app: Application logging initialized successfully
[2025-08-03 20:24:43,841] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 20:24:43,843] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 20:24:43,846] INFO in app: System encoding: utf-8
[2025-08-03 20:24:43,852] INFO in app: ==================================================
2025-08-03 20:24:44,104 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 20:24:44,105 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 20:24:44,105 - INFO - Scheduler started
2025-08-03 20:24:44,124 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-08-03 20:24:44,133 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 20:24:44,133 - INFO - [33mPress CTRL+C to quit[0m
2025-08-03 20:24:54,144 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:24:54 SAST)" (scheduled at 2025-08-03 20:24:54.124525+02:00)
2025-08-03 20:24:54,146 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:25:54 SAST)" executed successfully
2025-08-03 20:25:54,138 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:26:54 SAST)" (scheduled at 2025-08-03 20:25:54.124525+02:00)
2025-08-03 20:25:54,140 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:26:54 SAST)" executed successfully
2025-08-03 20:26:54,142 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:27:54 SAST)" (scheduled at 2025-08-03 20:26:54.124525+02:00)
2025-08-03 20:26:54,179 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:27:54 SAST)" executed successfully
2025-08-03 20:27:54,135 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:28:54 SAST)" (scheduled at 2025-08-03 20:27:54.124525+02:00)
2025-08-03 20:27:54,141 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:28:54 SAST)" executed successfully
2025-08-03 20:28:54,131 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:29:54 SAST)" (scheduled at 2025-08-03 20:28:54.124525+02:00)
2025-08-03 20:28:54,133 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:29:54 SAST)" executed successfully
2025-08-03 20:29:54,139 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:30:54 SAST)" (scheduled at 2025-08-03 20:29:54.124525+02:00)
2025-08-03 20:29:54,148 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:30:54 SAST)" executed successfully
2025-08-03 20:30:54,136 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:31:54 SAST)" (scheduled at 2025-08-03 20:30:54.124525+02:00)
2025-08-03 20:30:54,142 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:31:54 SAST)" executed successfully
2025-08-03 20:31:54,138 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:32:54 SAST)" (scheduled at 2025-08-03 20:31:54.124525+02:00)
2025-08-03 20:31:54,143 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:32:54 SAST)" executed successfully
2025-08-03 20:32:54,130 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:33:54 SAST)" (scheduled at 2025-08-03 20:32:54.124525+02:00)
2025-08-03 20:32:54,134 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:33:54 SAST)" executed successfully
2025-08-03 20:33:54,139 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:34:54 SAST)" (scheduled at 2025-08-03 20:33:54.124525+02:00)
2025-08-03 20:33:54,143 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:34:54 SAST)" executed successfully
2025-08-03 20:34:54,138 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:35:54 SAST)" (scheduled at 2025-08-03 20:34:54.124525+02:00)
2025-08-03 20:34:54,143 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:35:54 SAST)" executed successfully
2025-08-03 20:35:54,127 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:36:54 SAST)" (scheduled at 2025-08-03 20:35:54.124525+02:00)
2025-08-03 20:35:54,129 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:36:54 SAST)" executed successfully
2025-08-03 20:36:54,140 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:37:54 SAST)" (scheduled at 2025-08-03 20:36:54.124525+02:00)
2025-08-03 20:36:54,141 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:37:54 SAST)" executed successfully
2025-08-03 20:37:54,136 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:38:54 SAST)" (scheduled at 2025-08-03 20:37:54.124525+02:00)
2025-08-03 20:37:54,252 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:38:54 SAST)" executed successfully
2025-08-03 20:38:54,130 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:39:54 SAST)" (scheduled at 2025-08-03 20:38:54.124525+02:00)
2025-08-03 20:38:54,132 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:39:54 SAST)" executed successfully
2025-08-03 20:39:54,132 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:40:54 SAST)" (scheduled at 2025-08-03 20:39:54.124525+02:00)
2025-08-03 20:39:54,134 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:40:54 SAST)" executed successfully
2025-08-03 20:40:54,142 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:41:54 SAST)" (scheduled at 2025-08-03 20:40:54.124525+02:00)
2025-08-03 20:40:54,144 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:41:54 SAST)" executed successfully
2025-08-03 20:41:54,136 - INFO - Running job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:42:54 SAST)" (scheduled at 2025-08-03 20:41:54.124525+02:00)
2025-08-03 20:41:54,142 - INFO - Job "send_sales_notification_email (trigger: interval[0:01:00], next run at: 2025-08-03 20:42:54 SAST)" executed successfully
[2025-08-03 20:42:04,985] INFO in app: ==================================================
[2025-08-03 20:42:04,996] INFO in app: Application logging initialized successfully
[2025-08-03 20:42:04,998] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 20:42:05,000] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 20:42:05,003] INFO in app: System encoding: utf-8
[2025-08-03 20:42:05,005] INFO in app: ==================================================
2025-08-03 20:42:05,331 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 20:42:05,333 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 20:42:05,333 - INFO - Scheduler started
2025-08-03 20:42:05,382 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 20:42:05,382 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-03 20:43:08,973] INFO in app: ==================================================
[2025-08-03 20:43:08,991] INFO in app: Application logging initialized successfully
[2025-08-03 20:43:08,995] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 20:43:08,998] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 20:43:09,000] INFO in app: System encoding: utf-8
[2025-08-03 20:43:09,006] INFO in app: ==================================================
2025-08-03 20:43:09,348 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 20:43:09,350 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 20:43:09,350 - INFO - Scheduler started
2025-08-03 20:43:09,387 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 20:43:09,388 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-03 20:44:09,219] INFO in app: ==================================================
[2025-08-03 20:44:09,305] INFO in app: Application logging initialized successfully
[2025-08-03 20:44:09,308] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 20:44:09,309] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 20:44:09,310] INFO in app: System encoding: utf-8
[2025-08-03 20:44:09,312] INFO in app: ==================================================
[2025-08-03 20:44:09,365] INFO in app: ==================================================
[2025-08-03 20:44:09,365] INFO in app: ==================================================
2025-08-03 20:44:09,365 - INFO - ==================================================
[2025-08-03 20:44:09,370] INFO in app: Application logging initialized successfully
[2025-08-03 20:44:09,370] INFO in app: Application logging initialized successfully
2025-08-03 20:44:09,370 - INFO - Application logging initialized successfully
[2025-08-03 20:44:09,372] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 20:44:09,372] INFO in app: Log directory: C:\Users\pc\loan-app\logs
2025-08-03 20:44:09,372 - INFO - Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 20:44:09,375] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 20:44:09,375] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
2025-08-03 20:44:09,375 - INFO - Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 20:44:09,378] INFO in app: System encoding: utf-8
[2025-08-03 20:44:09,378] INFO in app: System encoding: utf-8
2025-08-03 20:44:09,378 - INFO - System encoding: utf-8
[2025-08-03 20:44:09,380] INFO in app: ==================================================
[2025-08-03 20:44:09,380] INFO in app: ==================================================
2025-08-03 20:44:09,380 - INFO - ==================================================
2025-08-03 20:44:09,555 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 20:44:09,556 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 20:44:09,557 - INFO - Scheduler started
2025-08-03 20:44:39,196 - INFO - 127.0.0.1 - - [03/Aug/2025 20:44:39] "[35m[1mGET /test-email HTTP/1.1[0m" 500 -
2025-08-03 20:45:29,828 - INFO - 127.0.0.1 - - [03/Aug/2025 20:45:29] "[35m[1mGET /test-email-now HTTP/1.1[0m" 500 -
2025-08-03 20:45:33,539 - INFO - 127.0.0.1 - - [03/Aug/2025 20:45:33] "[35m[1mGET /test-email-now HTTP/1.1[0m" 500 -
2025-08-03 20:45:34,504 - INFO - 127.0.0.1 - - [03/Aug/2025 20:45:34] "[35m[1mGET /test-email-now HTTP/1.1[0m" 500 -
[2025-08-03 20:50:11,743] INFO in app: ==================================================
[2025-08-03 20:50:11,756] INFO in app: Application logging initialized successfully
[2025-08-03 20:50:11,765] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 20:50:11,767] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 20:50:11,769] INFO in app: System encoding: utf-8
[2025-08-03 20:50:11,771] INFO in app: ==================================================
2025-08-03 20:50:12,169 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 20:50:12,171 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 20:50:12,171 - INFO - Scheduler started
2025-08-03 20:50:12,223 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 20:50:12,223 - INFO - [33mPress CTRL+C to quit[0m
2025-08-03 20:54:34,779 - INFO - 127.0.0.1 - - [03/Aug/2025 20:54:34] "[35m[1mGET /test-email-now HTTP/1.1[0m" 500 -
2025-08-03 20:54:34,845 - INFO - 127.0.0.1 - - [03/Aug/2025 20:54:34] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-08-03 20:57:12,927] INFO in app: ==================================================
[2025-08-03 20:57:12,935] INFO in app: Application logging initialized successfully
[2025-08-03 20:57:12,945] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 20:57:12,947] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 20:57:12,953] INFO in app: System encoding: utf-8
[2025-08-03 20:57:12,956] INFO in app: ==================================================
2025-08-03 20:57:13,251 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 20:57:13,253 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 20:57:13,253 - INFO - Scheduler started
2025-08-03 20:57:13,281 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 20:57:13,281 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-03 20:57:17,750] ERROR in app: Database error in get_sales_data: 'total_days'
2025-08-03 20:57:17,750 - ERROR - Database error in get_sales_data: 'total_days'
[2025-08-03 20:57:17,751] WARNING in app: Sending email with fallback sales data
2025-08-03 20:57:17,751 - WARNING - Sending email with fallback sales data
[2025-08-03 20:57:17,753] ERROR in app: Failed to send email: email/sales_report.html
2025-08-03 20:57:17,753 - ERROR - Failed to send email: email/sales_report.html
2025-08-03 20:57:17,755 - INFO - 127.0.0.1 - - [03/Aug/2025 20:57:17] "[35m[1mGET /test-email-now HTTP/1.1[0m" 500 -
2025-08-03 20:57:17,798 - INFO - 127.0.0.1 - - [03/Aug/2025 20:57:17] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-08-03 21:08:28,997] INFO in app: ==================================================
[2025-08-03 21:08:29,007] INFO in app: Application logging initialized successfully
[2025-08-03 21:08:29,009] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 21:08:29,011] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 21:08:29,012] INFO in app: System encoding: utf-8
[2025-08-03 21:08:29,015] INFO in app: ==================================================
2025-08-03 21:08:29,343 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 21:08:29,345 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 21:08:29,345 - INFO - Scheduler started
2025-08-03 21:08:29,379 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 21:08:29,379 - INFO - [33mPress CTRL+C to quit[0m
2025-08-03 21:08:46,637 - INFO - 127.0.0.1 - - [03/Aug/2025 21:08:46] "GET /test-email-now HTTP/1.1" 200 -
2025-08-03 21:08:46,693 - INFO - 127.0.0.1 - - [03/Aug/2025 21:08:46] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-08-03 21:30:31,296] INFO in app: ==================================================
[2025-08-03 21:30:31,302] INFO in app: Application logging initialized successfully
[2025-08-03 21:30:31,304] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 21:30:31,306] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 21:30:31,311] INFO in app: System encoding: utf-8
[2025-08-03 21:30:31,313] INFO in app: ==================================================
2025-08-03 21:30:31,591 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 21:30:31,594 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 21:30:31,594 - INFO - Scheduler started
[2025-08-03 21:31:00,735] INFO in app: ==================================================
[2025-08-03 21:31:00,743] INFO in app: Application logging initialized successfully
[2025-08-03 21:31:00,746] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 21:31:00,749] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 21:31:00,754] INFO in app: System encoding: utf-8
[2025-08-03 21:31:00,757] INFO in app: ==================================================
2025-08-03 21:31:01,067 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 21:31:01,069 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 21:31:01,070 - INFO - Scheduler started
[2025-08-03 21:31:11,946] INFO in app: ==================================================
[2025-08-03 21:31:11,954] INFO in app: Application logging initialized successfully
[2025-08-03 21:31:11,957] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 21:31:11,961] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 21:31:11,966] INFO in app: System encoding: utf-8
[2025-08-03 21:31:11,968] INFO in app: ==================================================
2025-08-03 21:31:12,263 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 21:31:12,265 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 21:31:12,265 - INFO - Scheduler started
[2025-08-03 21:31:18,734] INFO in app: ==================================================
[2025-08-03 21:31:18,743] INFO in app: Application logging initialized successfully
[2025-08-03 21:31:18,746] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 21:31:18,748] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 21:31:18,752] INFO in app: System encoding: utf-8
[2025-08-03 21:31:18,754] INFO in app: ==================================================
2025-08-03 21:31:19,085 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 21:31:19,092 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 21:31:19,092 - INFO - Scheduler started
[2025-08-03 21:31:24,710] INFO in app: ==================================================
[2025-08-03 21:31:24,718] INFO in app: Application logging initialized successfully
[2025-08-03 21:31:24,723] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-03 21:31:24,729] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-03 21:31:24,731] INFO in app: System encoding: utf-8
[2025-08-03 21:31:24,733] INFO in app: ==================================================
2025-08-03 21:31:25,058 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-03 21:31:25,060 - INFO - Added job "snapshot_par" to job store "default"
2025-08-03 21:31:25,060 - INFO - Scheduler started
2025-08-03 21:31:25,105 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-03 21:31:25,106 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-03 21:31:39,758] INFO in app: HTML email sent to ['alfred@kwachafinancialservices.com', 'sales@yourcompany.mw']
2025-08-03 21:31:39,758 - INFO - HTML email sent to ['alfred@kwachafinancialservices.com', 'sales@yourcompany.mw']
2025-08-03 21:31:39,762 - INFO - 127.0.0.1 - - [03/Aug/2025 21:31:39] "GET /test-email-now HTTP/1.1" 200 -
2025-08-03 22:26:41,011 - INFO - 127.0.0.1 - - [03/Aug/2025 22:26:41] "GET /dashboard/sales HTTP/1.1" 200 -
2025-08-03 22:26:41,117 - INFO - 127.0.0.1 - - [03/Aug/2025 22:26:41] "GET /notifications/sales-summary HTTP/1.1" 200 -
[2025-08-04 09:05:02,064] INFO in app: ==================================================
[2025-08-04 09:05:02,151] INFO in app: Application logging initialized successfully
[2025-08-04 09:05:02,153] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-04 09:05:02,154] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-04 09:05:02,156] INFO in app: System encoding: utf-8
[2025-08-04 09:05:02,160] INFO in app: ==================================================
2025-08-04 09:05:02,515 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-04 09:05:02,517 - INFO - Added job "snapshot_par" to job store "default"
2025-08-04 09:05:02,517 - INFO - Scheduler started
2025-08-04 09:05:02,571 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-04 09:05:02,571 - INFO - [33mPress CTRL+C to quit[0m
2025-08-04 09:05:36,894 - INFO - 127.0.0.1 - - [04/Aug/2025 09:05:36] "GET /dashboard/sales HTTP/1.1" 200 -
2025-08-04 09:05:37,160 - INFO - 127.0.0.1 - - [04/Aug/2025 09:05:37] "GET /notifications/sales-summary HTTP/1.1" 200 -
2025-08-04 09:05:37,616 - INFO - 127.0.0.1 - - [04/Aug/2025 09:05:37] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-08-04 19:59:10,758] INFO in app: ==================================================
[2025-08-04 19:59:10,885] INFO in app: Application logging initialized successfully
[2025-08-04 19:59:10,890] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-04 19:59:10,892] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-04 19:59:10,900] INFO in app: System encoding: utf-8
[2025-08-04 19:59:10,912] INFO in app: ==================================================
2025-08-04 19:59:11,623 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-04 19:59:11,661 - INFO - Added job "snapshot_par" to job store "default"
2025-08-04 19:59:11,661 - INFO - Scheduler started
2025-08-04 19:59:11,782 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-04 19:59:11,782 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-04 19:59:31,759] ERROR in app: Email failed: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(sqlite3.OperationalError) database is locked
[SQL: INSERT INTO notifications (recipient_id, email_recipients, email_subject, email_content, email_sent, sent_at, message, type, is_read, timestamp) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (None, 'alfred@kwachafinancialservices.com,sales@yourcompany.mw', 'Sales Report August 04, 2025', 'Automated sales report', 0, None, 'Sales report dispatched', 'report', 0, '2025-08-04 17:59:26.250174')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-08-04 19:59:31,759 - ERROR - Email failed: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(sqlite3.OperationalError) database is locked
[SQL: INSERT INTO notifications (recipient_id, email_recipients, email_subject, email_content, email_sent, sent_at, message, type, is_read, timestamp) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (None, 'alfred@kwachafinancialservices.com,sales@yourcompany.mw', 'Sales Report August 04, 2025', 'Automated sales report', 0, None, 'Sales report dispatched', 'report', 0, '2025-08-04 17:59:26.250174')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-08-04 19:59:31,773 - INFO - 127.0.0.1 - - [04/Aug/2025 19:59:31] "[35m[1mGET /test-email-now HTTP/1.1[0m" 500 -
2025-08-04 19:59:31,931 - INFO - 127.0.0.1 - - [04/Aug/2025 19:59:31] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-08-04 19:59:45,621] INFO in app: HTML email sent to ['alfred@kwachafinancialservices.com', 'sales@yourcompany.mw']
2025-08-04 19:59:45,621 - INFO - HTML email sent to ['alfred@kwachafinancialservices.com', 'sales@yourcompany.mw']
2025-08-04 19:59:45,630 - INFO - 127.0.0.1 - - [04/Aug/2025 19:59:45] "GET /test-email-now HTTP/1.1" 200 -
[2025-08-05 03:14:09,181] INFO in app: ==================================================
[2025-08-05 03:14:09,262] INFO in app: Application logging initialized successfully
[2025-08-05 03:14:09,264] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 03:14:09,265] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 03:14:09,267] INFO in app: System encoding: utf-8
[2025-08-05 03:14:09,270] INFO in app: ==================================================
2025-08-05 03:14:09,790 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 03:14:09,829 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 03:14:09,829 - INFO - Scheduler started
2025-08-05 03:14:09,897 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-05 03:14:09,897 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-05 03:14:28,628] INFO in app: HTML email sent to ['alfred@kwachafinancialservices.com', 'sales@yourcompany.mw']
2025-08-05 03:14:28,628 - INFO - HTML email sent to ['alfred@kwachafinancialservices.com', 'sales@yourcompany.mw']
2025-08-05 03:14:28,643 - INFO - 127.0.0.1 - - [05/Aug/2025 03:14:28] "GET /test-email-now HTTP/1.1" 200 -
[2025-08-05 03:14:33,305] INFO in app: HTML email sent to ['alfred@kwachafinancialservices.com', 'sales@yourcompany.mw']
2025-08-05 03:14:33,305 - INFO - HTML email sent to ['alfred@kwachafinancialservices.com', 'sales@yourcompany.mw']
2025-08-05 03:14:33,311 - INFO - 127.0.0.1 - - [05/Aug/2025 03:14:33] "GET /test-email-now HTTP/1.1" 200 -
2025-08-05 03:14:33,505 - INFO - 127.0.0.1 - - [05/Aug/2025 03:14:33] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-08-05 03:24:38,361] INFO in app: ==================================================
[2025-08-05 03:24:38,368] INFO in app: Application logging initialized successfully
[2025-08-05 03:24:38,370] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 03:24:38,371] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 03:24:38,374] INFO in app: System encoding: utf-8
[2025-08-05 03:24:38,376] INFO in app: ==================================================
2025-08-05 03:24:38,629 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 03:24:38,631 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 03:24:38,632 - INFO - Scheduler started
2025-08-05 03:24:38,664 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-05 03:24:38,664 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-05 03:24:58,071] INFO in app: HTML email sent to ['alfred@kwachafinancialservices.com', 'sales@yourcompany.mw']
2025-08-05 03:24:58,071 - INFO - HTML email sent to ['alfred@kwachafinancialservices.com', 'sales@yourcompany.mw']
2025-08-05 03:24:58,075 - INFO - 127.0.0.1 - - [05/Aug/2025 03:24:58] "GET /test-email-now HTTP/1.1" 200 -
2025-08-05 03:24:58,207 - INFO - 127.0.0.1 - - [05/Aug/2025 03:24:58] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-08-05 03:29:19,560] INFO in app: ==================================================
[2025-08-05 03:29:19,566] INFO in app: Application logging initialized successfully
[2025-08-05 03:29:19,569] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 03:29:19,571] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 03:29:19,574] INFO in app: System encoding: utf-8
[2025-08-05 03:29:19,576] INFO in app: ==================================================
2025-08-05 03:29:19,813 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 03:29:19,815 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 03:29:19,815 - INFO - Scheduler started
2025-08-05 03:29:19,843 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-05 03:29:19,843 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-05 03:29:42,167] ERROR in app: Email failed: 'notif' is undefined
2025-08-05 03:29:42,167 - ERROR - Email failed: 'notif' is undefined
2025-08-05 03:29:42,169 - INFO - 127.0.0.1 - - [05/Aug/2025 03:29:42] "[35m[1mGET /test-email-now HTTP/1.1[0m" 500 -
2025-08-05 03:29:42,221 - INFO - 127.0.0.1 - - [05/Aug/2025 03:29:42] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-08-05 03:35:35,541] INFO in app: ==================================================
[2025-08-05 03:35:35,548] INFO in app: Application logging initialized successfully
[2025-08-05 03:35:35,550] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 03:35:35,552] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 03:35:35,555] INFO in app: System encoding: utf-8
[2025-08-05 03:35:35,556] INFO in app: ==================================================
2025-08-05 03:35:35,803 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 03:35:35,805 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 03:35:35,805 - INFO - Scheduler started
2025-08-05 03:35:35,834 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-05 03:35:35,834 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-05 03:35:45,422] ERROR in app: Email failed: 'notif' is undefined
2025-08-05 03:35:45,422 - ERROR - Email failed: 'notif' is undefined
2025-08-05 03:35:45,425 - INFO - 127.0.0.1 - - [05/Aug/2025 03:35:45] "[35m[1mGET /test-email-now HTTP/1.1[0m" 500 -
2025-08-05 03:35:45,474 - INFO - 127.0.0.1 - - [05/Aug/2025 03:35:45] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-08-05 03:41:51,369] INFO in app: ==================================================
[2025-08-05 03:41:51,380] INFO in app: Application logging initialized successfully
[2025-08-05 03:41:51,384] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 03:41:51,392] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 03:41:51,395] INFO in app: System encoding: utf-8
[2025-08-05 03:41:51,397] INFO in app: ==================================================
2025-08-05 03:41:51,738 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 03:41:51,740 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 03:41:51,741 - INFO - Scheduler started
2025-08-05 03:41:51,784 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-05 03:41:51,784 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-05 03:42:02,883] INFO in app: HTML email sent to ['alfred@kwachafinancialservices.com', 'sales@yourcompany.mw']
2025-08-05 03:42:02,883 - INFO - HTML email sent to ['alfred@kwachafinancialservices.com', 'sales@yourcompany.mw']
2025-08-05 03:42:02,887 - INFO - 127.0.0.1 - - [05/Aug/2025 03:42:02] "GET /test-email-now HTTP/1.1" 200 -
2025-08-05 03:42:02,942 - INFO - 127.0.0.1 - - [05/Aug/2025 03:42:02] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-08-05 03:43:29,225] INFO in app: ==================================================
[2025-08-05 03:43:29,232] INFO in app: Application logging initialized successfully
[2025-08-05 03:43:29,234] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 03:43:29,236] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 03:43:29,238] INFO in app: System encoding: utf-8
[2025-08-05 03:43:29,240] INFO in app: ==================================================
2025-08-05 03:43:29,479 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 03:43:29,481 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 03:43:29,481 - INFO - Scheduler started
2025-08-05 03:43:29,510 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-05 03:43:29,511 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-05 03:43:42,499] INFO in app: HTML email sent to ['alfred@kwachafinancialservices.com', 'sales@yourcompany.mw']
2025-08-05 03:43:42,499 - INFO - HTML email sent to ['alfred@kwachafinancialservices.com', 'sales@yourcompany.mw']
2025-08-05 03:43:42,502 - INFO - 127.0.0.1 - - [05/Aug/2025 03:43:42] "GET /test-email-now HTTP/1.1" 200 -
2025-08-05 03:43:42,557 - INFO - 127.0.0.1 - - [05/Aug/2025 03:43:42] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-08-05 03:59:07,752] INFO in app: ==================================================
[2025-08-05 03:59:07,759] INFO in app: Application logging initialized successfully
[2025-08-05 03:59:07,761] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 03:59:07,763] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 03:59:07,765] INFO in app: System encoding: utf-8
[2025-08-05 03:59:07,767] INFO in app: ==================================================
2025-08-05 03:59:08,030 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 03:59:08,032 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 03:59:08,032 - INFO - Scheduler started
2025-08-05 03:59:08,065 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-05 03:59:08,065 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-05 03:59:20,666] INFO in app: HTML email sent to ['alfred@kwachafinancialservices.com', 'sales@yourcompany.mw']
2025-08-05 03:59:20,666 - INFO - HTML email sent to ['alfred@kwachafinancialservices.com', 'sales@yourcompany.mw']
2025-08-05 03:59:20,670 - INFO - 127.0.0.1 - - [05/Aug/2025 03:59:20] "GET /test-email-now HTTP/1.1" 200 -
2025-08-05 03:59:20,734 - INFO - 127.0.0.1 - - [05/Aug/2025 03:59:20] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-08-05 04:24:29,693] INFO in app: ==================================================
[2025-08-05 04:24:29,700] INFO in app: Application logging initialized successfully
[2025-08-05 04:24:29,704] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 04:24:29,706] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 04:24:29,710] INFO in app: System encoding: utf-8
[2025-08-05 04:24:29,712] INFO in app: ==================================================
2025-08-05 04:24:29,970 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 04:24:29,972 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 04:24:29,972 - INFO - Scheduler started
2025-08-05 04:24:30,002 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-05 04:24:30,002 - INFO - [33mPress CTRL+C to quit[0m
2025-08-05 04:24:39,881 - INFO - 127.0.0.1 - - [05/Aug/2025 04:24:39] "GET / HTTP/1.1" 200 -
[2025-08-05 04:24:45,961] ERROR in app: Exception on /admin/dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 2894, in admin_dashboard
    form=form,
         ^^^^
UnboundLocalError: cannot access local variable 'form' where it is not associated with a value
2025-08-05 04:24:45,961 - ERROR - Exception on /admin/dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 2894, in admin_dashboard
    form=form,
         ^^^^
UnboundLocalError: cannot access local variable 'form' where it is not associated with a value
2025-08-05 04:24:45,972 - INFO - 127.0.0.1 - - [05/Aug/2025 04:24:45] "[35m[1mGET /admin/dashboard HTTP/1.1[0m" 500 -
[2025-08-05 04:25:24,058] INFO in app: ==================================================
[2025-08-05 04:25:24,069] INFO in app: Application logging initialized successfully
[2025-08-05 04:25:24,072] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 04:25:24,077] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 04:25:24,080] INFO in app: System encoding: utf-8
[2025-08-05 04:25:24,086] INFO in app: ==================================================
2025-08-05 04:25:24,416 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 04:25:24,419 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 04:25:24,419 - INFO - Scheduler started
2025-08-05 04:25:24,455 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-05 04:25:24,455 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-05 04:25:26,806] ERROR in app: Exception on /admin/dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 2894, in admin_dashboard
    recent_recipients=recent_recipients,
                      ^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'recent_recipients' where it is not associated with a value
2025-08-05 04:25:26,806 - ERROR - Exception on /admin/dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 2894, in admin_dashboard
    recent_recipients=recent_recipients,
                      ^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'recent_recipients' where it is not associated with a value
2025-08-05 04:25:26,819 - INFO - 127.0.0.1 - - [05/Aug/2025 04:25:26] "[35m[1mGET /admin/dashboard HTTP/1.1[0m" 500 -
2025-08-05 04:25:26,876 - INFO - 127.0.0.1 - - [05/Aug/2025 04:25:26] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-08-05 04:34:56,320] INFO in app: ==================================================
[2025-08-05 04:34:56,329] INFO in app: Application logging initialized successfully
[2025-08-05 04:34:56,333] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 04:34:56,336] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 04:34:56,342] INFO in app: System encoding: utf-8
[2025-08-05 04:34:56,345] INFO in app: ==================================================
2025-08-05 04:34:56,645 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 04:34:56,647 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 04:34:56,647 - INFO - Scheduler started
2025-08-05 04:34:56,683 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-05 04:34:56,683 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-05 04:35:03,135] ERROR in app: Exception on /admin/dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 2906, in admin_dashboard
    recent_recipients=recent_recipients,
                      ^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'recent_recipients' where it is not associated with a value
2025-08-05 04:35:03,135 - ERROR - Exception on /admin/dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 2906, in admin_dashboard
    recent_recipients=recent_recipients,
                      ^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'recent_recipients' where it is not associated with a value
2025-08-05 04:35:03,146 - INFO - 127.0.0.1 - - [05/Aug/2025 04:35:03] "[35m[1mGET /admin/dashboard HTTP/1.1[0m" 500 -
2025-08-05 04:35:03,204 - INFO - 127.0.0.1 - - [05/Aug/2025 04:35:03] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-08-05 04:36:22,412] INFO in app: ==================================================
[2025-08-05 04:36:22,420] INFO in app: Application logging initialized successfully
[2025-08-05 04:36:22,423] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 04:36:22,427] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 04:36:22,432] INFO in app: System encoding: utf-8
[2025-08-05 04:36:22,434] INFO in app: ==================================================
2025-08-05 04:36:22,723 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 04:36:22,725 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 04:36:22,725 - INFO - Scheduler started
2025-08-05 04:36:22,767 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-05 04:36:22,767 - INFO - [33mPress CTRL+C to quit[0m
2025-08-05 04:36:27,077 - INFO - 127.0.0.1 - - [05/Aug/2025 04:36:27] "GET /admin/dashboard HTTP/1.1" 200 -
2025-08-05 04:36:27,719 - INFO - 127.0.0.1 - - [05/Aug/2025 04:36:27] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-05 04:36:33,807 - INFO - 127.0.0.1 - - [05/Aug/2025 04:36:33] "GET /admin/dashboard?section=sales_report HTTP/1.1" 200 -
2025-08-05 04:43:10,627 - INFO - 127.0.0.1 - - [05/Aug/2025 04:43:10] "[31m[1mPOST /admin/dashboard?section=sales_report HTTP/1.1[0m" 405 -
[2025-08-05 04:44:53,599] INFO in app: ==================================================
[2025-08-05 04:44:53,609] INFO in app: Application logging initialized successfully
[2025-08-05 04:44:53,612] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 04:44:53,614] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 04:44:53,617] INFO in app: System encoding: utf-8
[2025-08-05 04:44:53,624] INFO in app: ==================================================
2025-08-05 04:44:53,999 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 04:44:54,001 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 04:44:54,001 - INFO - Scheduler started
2025-08-05 04:44:54,049 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-05 04:44:54,049 - INFO - [33mPress CTRL+C to quit[0m
2025-08-05 04:45:05,796 - INFO - 127.0.0.1 - - [05/Aug/2025 04:45:05] "GET /admin/dashboard?section=sales_report HTTP/1.1" 200 -
2025-08-05 04:45:06,656 - INFO - 127.0.0.1 - - [05/Aug/2025 04:45:06] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-08-05 04:45:47,674] ERROR in app: Sales data error: 'start_of_last_month'
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\app.py", line 8075, in get_sales_data
    last_month_sales = get_mtd_sales(comparisons['start_of_last_month'], comparisons['last_month_days'])
                                     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'start_of_last_month'
2025-08-05 04:45:47,674 - ERROR - Sales data error: 'start_of_last_month'
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\app.py", line 8075, in get_sales_data
    last_month_sales = get_mtd_sales(comparisons['start_of_last_month'], comparisons['last_month_days'])
                                     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'start_of_last_month'
[2025-08-05 04:45:50,409] ERROR in app: Sales data error: 'start_of_last_month'
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\app.py", line 8075, in get_sales_data
    last_month_sales = get_mtd_sales(comparisons['start_of_last_month'], comparisons['last_month_days'])
                                     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'start_of_last_month'
2025-08-05 04:45:50,409 - ERROR - Sales data error: 'start_of_last_month'
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\app.py", line 8075, in get_sales_data
    last_month_sales = get_mtd_sales(comparisons['start_of_last_month'], comparisons['last_month_days'])
                                     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'start_of_last_month'
[2025-08-05 04:45:52,935] INFO in app: HTML email sent to ['alfred@kwachafinancialservices.com', 'sales@yourcompany.mw']
2025-08-05 04:45:52,935 - INFO - HTML email sent to ['alfred@kwachafinancialservices.com', 'sales@yourcompany.mw']
2025-08-05 04:45:52,942 - INFO - 127.0.0.1 - - [05/Aug/2025 04:45:52] "[32mPOST /admin/dashboard?section=sales_report HTTP/1.1[0m" 302 -
[2025-08-05 04:45:53,462] ERROR in app: Sales data error: 'start_of_last_month'
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\app.py", line 8075, in get_sales_data
    last_month_sales = get_mtd_sales(comparisons['start_of_last_month'], comparisons['last_month_days'])
                                     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'start_of_last_month'
2025-08-05 04:45:53,462 - ERROR - Sales data error: 'start_of_last_month'
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\app.py", line 8075, in get_sales_data
    last_month_sales = get_mtd_sales(comparisons['start_of_last_month'], comparisons['last_month_days'])
                                     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'start_of_last_month'
[2025-08-05 04:45:57,728] INFO in app: HTML email sent to ['alfred@kwachafinancialservices.com', 'sales@yourcompany.mw']
2025-08-05 04:45:57,728 - INFO - HTML email sent to ['alfred@kwachafinancialservices.com', 'sales@yourcompany.mw']
2025-08-05 04:45:57,733 - INFO - 127.0.0.1 - - [05/Aug/2025 04:45:57] "[32mPOST /admin/dashboard?section=sales_report HTTP/1.1[0m" 302 -
[2025-08-05 04:45:58,635] ERROR in app: Sales data error: 'start_of_last_month'
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\app.py", line 8075, in get_sales_data
    last_month_sales = get_mtd_sales(comparisons['start_of_last_month'], comparisons['last_month_days'])
                                     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'start_of_last_month'
2025-08-05 04:45:58,635 - ERROR - Sales data error: 'start_of_last_month'
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\app.py", line 8075, in get_sales_data
    last_month_sales = get_mtd_sales(comparisons['start_of_last_month'], comparisons['last_month_days'])
                                     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'start_of_last_month'
[2025-08-05 04:46:00,127] ERROR in app: Sales data error: 'start_of_last_month'
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\app.py", line 8075, in get_sales_data
    last_month_sales = get_mtd_sales(comparisons['start_of_last_month'], comparisons['last_month_days'])
                                     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'start_of_last_month'
2025-08-05 04:46:00,127 - ERROR - Sales data error: 'start_of_last_month'
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\app.py", line 8075, in get_sales_data
    last_month_sales = get_mtd_sales(comparisons['start_of_last_month'], comparisons['last_month_days'])
                                     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'start_of_last_month'
[2025-08-05 04:46:02,483] INFO in app: HTML email sent to ['alfred@kwachafinancialservices.com', 'sales@yourcompany.mw']
2025-08-05 04:46:02,483 - INFO - HTML email sent to ['alfred@kwachafinancialservices.com', 'sales@yourcompany.mw']
2025-08-05 04:46:02,493 - INFO - 127.0.0.1 - - [05/Aug/2025 04:46:02] "[32mPOST /admin/dashboard?section=sales_report HTTP/1.1[0m" 302 -
[2025-08-05 04:46:03,372] ERROR in app: Sales data error: 'start_of_last_month'
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\app.py", line 8075, in get_sales_data
    last_month_sales = get_mtd_sales(comparisons['start_of_last_month'], comparisons['last_month_days'])
                                     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'start_of_last_month'
2025-08-05 04:46:03,372 - ERROR - Sales data error: 'start_of_last_month'
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\app.py", line 8075, in get_sales_data
    last_month_sales = get_mtd_sales(comparisons['start_of_last_month'], comparisons['last_month_days'])
                                     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'start_of_last_month'
[2025-08-05 04:46:05,739] ERROR in app: Email failed: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(sqlite3.OperationalError) database is locked
[SQL: INSERT INTO notifications (recipient_id, email_recipients, email_subject, email_content, email_sent, sent_at, message, type, is_read, timestamp) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (None, 'alfred@kwachafinancialservices.com,sales@yourcompany.mw', 'Sales Report August 05, 2025', 'We are here!', 0, None, 'Sales report dispatched', 'report', 0, '2025-08-05 02:46:00.135571')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-08-05 04:46:05,739 - ERROR - Email failed: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(sqlite3.OperationalError) database is locked
[SQL: INSERT INTO notifications (recipient_id, email_recipients, email_subject, email_content, email_sent, sent_at, message, type, is_read, timestamp) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (None, 'alfred@kwachafinancialservices.com,sales@yourcompany.mw', 'Sales Report August 05, 2025', 'We are here!', 0, None, 'Sales report dispatched', 'report', 0, '2025-08-05 02:46:00.135571')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-08-05 04:46:05,743 - INFO - 127.0.0.1 - - [05/Aug/2025 04:46:05] "[32mPOST /admin/dashboard?section=sales_report HTTP/1.1[0m" 302 -
[2025-08-05 04:46:07,386] INFO in app: HTML email sent to ['alfred@kwachafinancialservices.com', 'sales@yourcompany.mw']
2025-08-05 04:46:07,386 - INFO - HTML email sent to ['alfred@kwachafinancialservices.com', 'sales@yourcompany.mw']
2025-08-05 04:46:07,389 - INFO - 127.0.0.1 - - [05/Aug/2025 04:46:07] "GET /test-email-now HTTP/1.1" 200 -
[2025-08-05 04:46:11,758] INFO in app: HTML email sent to ['alfred@kwachafinancialservices.com', 'sales@yourcompany.mw']
2025-08-05 04:46:11,758 - INFO - HTML email sent to ['alfred@kwachafinancialservices.com', 'sales@yourcompany.mw']
2025-08-05 04:46:11,761 - INFO - 127.0.0.1 - - [05/Aug/2025 04:46:11] "[32mPOST /admin/dashboard?section=sales_report HTTP/1.1[0m" 302 -
2025-08-05 04:46:11,772 - INFO - 127.0.0.1 - - [05/Aug/2025 04:46:11] "GET /admin/dashboard?section=sales_report HTTP/1.1" 200 -
[2025-08-05 04:47:39,481] ERROR in app: Sales data error: 'start_of_last_month'
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\app.py", line 8075, in get_sales_data
    last_month_sales = get_mtd_sales(comparisons['start_of_last_month'], comparisons['last_month_days'])
                                     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'start_of_last_month'
2025-08-05 04:47:39,481 - ERROR - Sales data error: 'start_of_last_month'
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\app.py", line 8075, in get_sales_data
    last_month_sales = get_mtd_sales(comparisons['start_of_last_month'], comparisons['last_month_days'])
                                     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'start_of_last_month'
[2025-08-05 04:47:43,875] INFO in app: HTML email sent to ['alfred@kwachafinancialservices.com', 'sales@yourcompany.mw']
2025-08-05 04:47:43,875 - INFO - HTML email sent to ['alfred@kwachafinancialservices.com', 'sales@yourcompany.mw']
2025-08-05 04:47:43,878 - INFO - 127.0.0.1 - - [05/Aug/2025 04:47:43] "[32mPOST /admin/dashboard?section=sales_report HTTP/1.1[0m" 302 -
2025-08-05 04:47:43,894 - INFO - 127.0.0.1 - - [05/Aug/2025 04:47:43] "GET /admin/dashboard?section=sales_report HTTP/1.1" 200 -
[2025-08-05 04:51:18,800] INFO in app: ==================================================
[2025-08-05 04:51:18,807] INFO in app: Application logging initialized successfully
[2025-08-05 04:51:18,809] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 04:51:18,810] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 04:51:18,812] INFO in app: System encoding: utf-8
[2025-08-05 04:51:18,814] INFO in app: ==================================================
2025-08-05 04:51:19,051 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 04:51:19,053 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 04:51:19,053 - INFO - Scheduler started
2025-08-05 04:51:19,085 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-05 04:51:19,085 - INFO - [33mPress CTRL+C to quit[0m
2025-08-05 04:51:32,210 - INFO - 127.0.0.1 - - [05/Aug/2025 04:51:32] "GET /admin/dashboard?section=sales_report HTTP/1.1" 200 -
2025-08-05 04:51:32,848 - INFO - 127.0.0.1 - - [05/Aug/2025 04:51:32] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-08-05 04:51:49,090] ERROR in app: Sales data error: 'start_of_last_month'
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\app.py", line 8075, in get_sales_data
    last_month_sales = get_mtd_sales(comparisons['start_of_last_month'], comparisons['last_month_days'])
                                     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'start_of_last_month'
2025-08-05 04:51:49,090 - ERROR - Sales data error: 'start_of_last_month'
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\app.py", line 8075, in get_sales_data
    last_month_sales = get_mtd_sales(comparisons['start_of_last_month'], comparisons['last_month_days'])
                                     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'start_of_last_month'
[2025-08-05 04:51:53,677] INFO in app: HTML email sent to ['alfred@kwachafinancialservices.com', 'sales@yourcompany.mw']
2025-08-05 04:51:53,677 - INFO - HTML email sent to ['alfred@kwachafinancialservices.com', 'sales@yourcompany.mw']
2025-08-05 04:51:53,683 - INFO - 127.0.0.1 - - [05/Aug/2025 04:51:53] "[32mPOST /admin/dashboard?section=sales_report HTTP/1.1[0m" 302 -
2025-08-05 04:51:53,695 - INFO - 127.0.0.1 - - [05/Aug/2025 04:51:53] "GET /admin/dashboard?section=sales_report HTTP/1.1" 200 -
[2025-08-05 04:54:35,277] INFO in app: ==================================================
[2025-08-05 04:54:35,290] INFO in app: Application logging initialized successfully
[2025-08-05 04:54:35,296] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 04:54:35,299] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 04:54:35,302] INFO in app: System encoding: utf-8
[2025-08-05 04:54:35,304] INFO in app: ==================================================
2025-08-05 04:54:35,633 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 04:54:35,634 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 04:54:35,634 - INFO - Scheduler started
2025-08-05 04:54:35,670 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-05 04:54:35,670 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-05 04:55:25,817] ERROR in app: Exception on /admin/dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 2909, in admin_dashboard
    return render_template(
        'admin_dashboard.html',
    ...<7 lines>...
        terms=[]
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\admin_dashboard.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\admin_dashboard.html", line 267, in block 'content'
    {{ form.hidden_tag() }}
    ^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 490, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'form' is undefined
2025-08-05 04:55:25,817 - ERROR - Exception on /admin/dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 2909, in admin_dashboard
    return render_template(
        'admin_dashboard.html',
    ...<7 lines>...
        terms=[]
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\admin_dashboard.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\admin_dashboard.html", line 267, in block 'content'
    {{ form.hidden_tag() }}
    ^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 490, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'form' is undefined
2025-08-05 04:55:25,833 - INFO - 127.0.0.1 - - [05/Aug/2025 04:55:25] "[35m[1mGET /admin/dashboard?section=sales_report HTTP/1.1[0m" 500 -
2025-08-05 04:55:25,899 - INFO - 127.0.0.1 - - [05/Aug/2025 04:55:25] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-08-05 05:00:11,630] INFO in app: ==================================================
[2025-08-05 05:00:11,637] INFO in app: Application logging initialized successfully
[2025-08-05 05:00:11,640] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 05:00:11,644] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 05:00:11,650] INFO in app: System encoding: utf-8
[2025-08-05 05:00:11,652] INFO in app: ==================================================
2025-08-05 05:00:11,934 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 05:00:11,936 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 05:00:11,936 - INFO - Scheduler started
2025-08-05 05:00:11,970 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-05 05:00:11,970 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-05 05:00:26,345] ERROR in app: Exception on /admin/dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 2909, in admin_dashboard
    return render_template(
        'admin_dashboard.html',
    ...<7 lines>...
        terms=[]
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\admin_dashboard.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\admin_dashboard.html", line 267, in block 'content'
    {{ form.hidden_tag() }}
    ^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 490, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'form' is undefined
2025-08-05 05:00:26,345 - ERROR - Exception on /admin/dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 2909, in admin_dashboard
    return render_template(
        'admin_dashboard.html',
    ...<7 lines>...
        terms=[]
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\admin_dashboard.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\admin_dashboard.html", line 267, in block 'content'
    {{ form.hidden_tag() }}
    ^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 490, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'form' is undefined
2025-08-05 05:00:26,382 - INFO - 127.0.0.1 - - [05/Aug/2025 05:00:26] "[35m[1mGET /admin/dashboard?section=sales_report HTTP/1.1[0m" 500 -
[2025-08-05 05:00:28,463] ERROR in app: Exception on /admin/dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 2909, in admin_dashboard
    return render_template(
        'admin_dashboard.html',
    ...<7 lines>...
        terms=[]
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\admin_dashboard.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\admin_dashboard.html", line 267, in block 'content'
    {{ form.hidden_tag() }}
    ^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 490, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'form' is undefined
2025-08-05 05:00:28,463 - ERROR - Exception on /admin/dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 2909, in admin_dashboard
    return render_template(
        'admin_dashboard.html',
    ...<7 lines>...
        terms=[]
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\admin_dashboard.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\admin_dashboard.html", line 267, in block 'content'
    {{ form.hidden_tag() }}
    ^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 490, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'form' is undefined
2025-08-05 05:00:28,493 - INFO - 127.0.0.1 - - [05/Aug/2025 05:00:28] "[35m[1mGET /admin/dashboard?section=sales_report HTTP/1.1[0m" 500 -
[2025-08-05 05:00:47,330] INFO in app: ==================================================
[2025-08-05 05:00:47,337] INFO in app: Application logging initialized successfully
[2025-08-05 05:00:47,339] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 05:00:47,341] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 05:00:47,343] INFO in app: System encoding: utf-8
[2025-08-05 05:00:47,345] INFO in app: ==================================================
2025-08-05 05:00:47,593 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 05:00:47,595 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 05:00:47,595 - INFO - Scheduler started
2025-08-05 05:00:47,630 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-05 05:00:47,631 - INFO - [33mPress CTRL+C to quit[0m
2025-08-05 05:01:19,446 - INFO - 127.0.0.1 - - [05/Aug/2025 05:01:19] "GET /admin/dashboard HTTP/1.1" 200 -
2025-08-05 05:01:19,655 - INFO - 127.0.0.1 - - [05/Aug/2025 05:01:19] "GET / HTTP/1.1" 200 -
[2025-08-05 05:01:19,983] ERROR in app: Sales data error: 'start_of_last_month'
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\app.py", line 8080, in get_sales_data
    last_month_sales = get_mtd_sales(comparisons['start_of_last_month'], comparisons['last_month_days'])
                                     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'start_of_last_month'
2025-08-05 05:01:19,983 - ERROR - Sales data error: 'start_of_last_month'
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\app.py", line 8080, in get_sales_data
    last_month_sales = get_mtd_sales(comparisons['start_of_last_month'], comparisons['last_month_days'])
                                     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'start_of_last_month'
2025-08-05 05:01:23,711 - INFO - 127.0.0.1 - - [05/Aug/2025 05:01:23] "GET / HTTP/1.1" 200 -
2025-08-05 05:01:24,330 - INFO - 127.0.0.1 - - [05/Aug/2025 05:01:24] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-08-05 05:01:26,454] INFO in app: HTML email sent to ['alfred@kwachafinancialservices.com', 'sales@yourcompany.mw']
2025-08-05 05:01:26,454 - INFO - HTML email sent to ['alfred@kwachafinancialservices.com', 'sales@yourcompany.mw']
2025-08-05 05:01:26,456 - INFO - 127.0.0.1 - - [05/Aug/2025 05:01:26] "GET /test-email-now HTTP/1.1" 200 -
2025-08-05 05:01:29,310 - INFO - 127.0.0.1 - - [05/Aug/2025 05:01:29] "GET /admin/dashboard HTTP/1.1" 200 -
[2025-08-05 05:01:41,396] ERROR in app: Exception on /admin/dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 2909, in admin_dashboard
    return render_template(
        'admin_dashboard.html',
    ...<7 lines>...
        terms=[]
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\admin_dashboard.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\admin_dashboard.html", line 267, in block 'content'
    {{ form.hidden_tag() }}
    ^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 490, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'form' is undefined
2025-08-05 05:01:41,396 - ERROR - Exception on /admin/dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 2909, in admin_dashboard
    return render_template(
        'admin_dashboard.html',
    ...<7 lines>...
        terms=[]
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\admin_dashboard.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\admin_dashboard.html", line 267, in block 'content'
    {{ form.hidden_tag() }}
    ^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 490, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'form' is undefined
2025-08-05 05:01:41,437 - INFO - 127.0.0.1 - - [05/Aug/2025 05:01:41] "[35m[1mGET /admin/dashboard?section=sales_report HTTP/1.1[0m" 500 -
[2025-08-05 05:10:07,152] INFO in app: ==================================================
[2025-08-05 05:10:07,176] INFO in app: Application logging initialized successfully
[2025-08-05 05:10:07,198] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 05:10:07,203] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 05:10:07,219] INFO in app: System encoding: utf-8
[2025-08-05 05:10:07,226] INFO in app: ==================================================
2025-08-05 05:10:07,797 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 05:10:07,800 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 05:10:07,800 - INFO - Scheduler started
2025-08-05 05:10:07,857 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-05 05:10:07,857 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-05 05:11:04,488] INFO in app: ==================================================
[2025-08-05 05:11:04,517] INFO in app: Application logging initialized successfully
[2025-08-05 05:11:04,524] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 05:11:04,529] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 05:11:04,533] INFO in app: System encoding: utf-8
[2025-08-05 05:11:04,535] INFO in app: ==================================================
2025-08-05 05:11:04,968 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 05:11:04,971 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 05:11:04,971 - INFO - Scheduler started
2025-08-05 05:11:05,021 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-05 05:11:05,021 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-05 05:24:09,830] INFO in app: ==================================================
[2025-08-05 05:24:09,838] INFO in app: Application logging initialized successfully
[2025-08-05 05:24:09,842] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 05:24:09,844] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 05:24:09,847] INFO in app: System encoding: utf-8
[2025-08-05 05:24:09,851] INFO in app: ==================================================
2025-08-05 05:24:10,192 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 05:24:10,194 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 05:24:10,194 - INFO - Scheduler started
2025-08-05 05:24:10,234 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-05 05:24:10,234 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-05 05:24:20,656] ERROR in app: Exception on /admin/dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 2870, in admin_dashboard
    form.emails.data = last_notification.email_recipients
    ^^^^
NameError: name 'form' is not defined. Did you mean: 'format'?
2025-08-05 05:24:20,656 - ERROR - Exception on /admin/dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 2870, in admin_dashboard
    form.emails.data = last_notification.email_recipients
    ^^^^
NameError: name 'form' is not defined. Did you mean: 'format'?
2025-08-05 05:24:20,675 - INFO - 127.0.0.1 - - [05/Aug/2025 05:24:20] "[35m[1mGET /admin/dashboard?section=sales_report HTTP/1.1[0m" 500 -
2025-08-05 05:24:20,726 - INFO - 127.0.0.1 - - [05/Aug/2025 05:24:20] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-08-05 05:25:20,296] INFO in app: ==================================================
[2025-08-05 05:25:20,305] INFO in app: Application logging initialized successfully
[2025-08-05 05:25:20,312] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 05:25:20,318] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 05:25:20,320] INFO in app: System encoding: utf-8
[2025-08-05 05:25:20,323] INFO in app: ==================================================
2025-08-05 05:25:20,685 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 05:25:20,687 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 05:25:20,687 - INFO - Scheduler started
2025-08-05 05:25:20,737 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-05 05:25:20,738 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-05 05:25:26,107] ERROR in app: Exception on /admin/dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 2893, in admin_dashboard
    return render_template(
        'admin_dashboard.html',
    ...<8 lines>...
        recent_recipients=recent_recipients
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\loaders.py", line 138, in load
    code = environment.compile(source, name, filename)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 771, in compile
    self.handle_exception(source=source_hint)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\admin_dashboard.html", line 308, in template
    {% elif section == 'votes' %}
    ^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.TemplateSyntaxError: Encountered unknown tag 'elif'. Jinja was looking for the following tags: 'endblock'. The innermost block that needs to be closed is 'block'.
2025-08-05 05:25:26,107 - ERROR - Exception on /admin/dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 2893, in admin_dashboard
    return render_template(
        'admin_dashboard.html',
    ...<8 lines>...
        recent_recipients=recent_recipients
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\loaders.py", line 138, in load
    code = environment.compile(source, name, filename)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 771, in compile
    self.handle_exception(source=source_hint)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\admin_dashboard.html", line 308, in template
    {% elif section == 'votes' %}
    ^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.TemplateSyntaxError: Encountered unknown tag 'elif'. Jinja was looking for the following tags: 'endblock'. The innermost block that needs to be closed is 'block'.
2025-08-05 05:25:26,140 - INFO - 127.0.0.1 - - [05/Aug/2025 05:25:26] "[35m[1mGET /admin/dashboard?section=sales_report HTTP/1.1[0m" 500 -
2025-08-05 05:25:26,184 - INFO - 127.0.0.1 - - [05/Aug/2025 05:25:26] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-08-05 05:26:16,365] INFO in app: ==================================================
[2025-08-05 05:26:16,371] INFO in app: Application logging initialized successfully
[2025-08-05 05:26:16,373] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 05:26:16,375] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 05:26:16,378] INFO in app: System encoding: utf-8
[2025-08-05 05:26:16,382] INFO in app: ==================================================
2025-08-05 05:26:16,616 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 05:26:16,618 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 05:26:16,618 - INFO - Scheduler started
2025-08-05 05:26:16,650 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-05 05:26:16,650 - INFO - [33mPress CTRL+C to quit[0m
2025-08-05 05:26:22,736 - INFO - 127.0.0.1 - - [05/Aug/2025 05:26:22] "GET /admin/dashboard?section=sales_report HTTP/1.1" 200 -
2025-08-05 05:26:23,444 - INFO - 127.0.0.1 - - [05/Aug/2025 05:26:23] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-05 05:27:55,797 - INFO - 127.0.0.1 - - [05/Aug/2025 05:27:55] "POST /admin/dashboard?section=sales_report HTTP/1.1" 200 -
[2025-08-05 05:28:35,444] ERROR in app: Sales data error: 'start_of_last_month'
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\app.py", line 8082, in get_sales_data
    last_month_sales = get_mtd_sales(comparisons['start_of_last_month'], comparisons['last_month_days'])
                                     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'start_of_last_month'
2025-08-05 05:28:35,444 - ERROR - Sales data error: 'start_of_last_month'
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\app.py", line 8082, in get_sales_data
    last_month_sales = get_mtd_sales(comparisons['start_of_last_month'], comparisons['last_month_days'])
                                     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'start_of_last_month'
[2025-08-05 05:28:39,895] INFO in app: HTML email sent to ['alfred@kwachafinancialservices.com', 'sales@yourcompany.mw']
2025-08-05 05:28:39,895 - INFO - HTML email sent to ['alfred@kwachafinancialservices.com', 'sales@yourcompany.mw']
2025-08-05 05:28:39,898 - INFO - 127.0.0.1 - - [05/Aug/2025 05:28:39] "GET /test-email-now HTTP/1.1" 200 -
2025-08-05 05:29:02,097 - INFO - 127.0.0.1 - - [05/Aug/2025 05:29:02] "POST /admin/dashboard?section=sales_report HTTP/1.1" 200 -
2025-08-05 05:31:45,417 - INFO - 127.0.0.1 - - [05/Aug/2025 05:31:45] "POST /admin/dashboard?section=sales_report HTTP/1.1" 200 -
[2025-08-05 05:39:12,545] INFO in app: ==================================================
[2025-08-05 05:39:12,552] INFO in app: Application logging initialized successfully
[2025-08-05 05:39:12,556] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 05:39:12,559] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 05:39:12,565] INFO in app: System encoding: utf-8
[2025-08-05 05:39:12,567] INFO in app: ==================================================
2025-08-05 05:39:12,942 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 05:39:12,949 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 05:39:12,950 - INFO - Scheduler started
2025-08-05 05:39:13,062 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-05 05:39:13,062 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-05 05:39:30,395] INFO in app: Sending email to: alfred@kwachafinancialservices.com, alfieka08@yahoo.com, info@kwachafinancialservices.com
2025-08-05 05:39:30,395 - INFO - Sending email to: alfred@kwachafinancialservices.com, alfieka08@yahoo.com, info@kwachafinancialservices.com
[2025-08-05 05:39:30,397] ERROR in app: Exception on /admin/dashboard [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 2878, in admin_dashboard
    success = send_sales_notification_email(
        recipients=recipients,
        custom_message=form.message.data,
        subject=form.subject.data
    )
TypeError: send_sales_notification_email() got an unexpected keyword argument 'subject'
2025-08-05 05:39:30,397 - ERROR - Exception on /admin/dashboard [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 2878, in admin_dashboard
    success = send_sales_notification_email(
        recipients=recipients,
        custom_message=form.message.data,
        subject=form.subject.data
    )
TypeError: send_sales_notification_email() got an unexpected keyword argument 'subject'
2025-08-05 05:39:30,410 - INFO - 127.0.0.1 - - [05/Aug/2025 05:39:30] "[35m[1mPOST /admin/dashboard?section=sales_report HTTP/1.1[0m" 500 -
2025-08-05 05:39:30,460 - INFO - 127.0.0.1 - - [05/Aug/2025 05:39:30] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-08-05 05:41:19,970] INFO in app: ==================================================
[2025-08-05 05:41:19,978] INFO in app: Application logging initialized successfully
[2025-08-05 05:41:19,980] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 05:41:19,982] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 05:41:19,985] INFO in app: System encoding: utf-8
[2025-08-05 05:41:19,992] INFO in app: ==================================================
2025-08-05 05:41:20,286 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 05:41:20,288 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 05:41:20,288 - INFO - Scheduler started
2025-08-05 05:41:20,330 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-05 05:41:20,330 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-05 05:42:37,652] INFO in app: Sending email to: alfred@kwachafinancialservices.com, alfieka08@yahoo.com, info@kwachafinancialservices.com
2025-08-05 05:42:37,652 - INFO - Sending email to: alfred@kwachafinancialservices.com, alfieka08@yahoo.com, info@kwachafinancialservices.com
[2025-08-05 05:42:37,659] ERROR in app: Sales data error: 'start_of_last_month'
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\app.py", line 8079, in get_sales_data
    last_month_sales = get_mtd_sales(comparisons['start_of_last_month'], comparisons['last_month_days'])
                                     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'start_of_last_month'
2025-08-05 05:42:37,659 - ERROR - Sales data error: 'start_of_last_month'
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\app.py", line 8079, in get_sales_data
    last_month_sales = get_mtd_sales(comparisons['start_of_last_month'], comparisons['last_month_days'])
                                     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'start_of_last_month'
[2025-08-05 05:42:42,434] INFO in app: HTML email sent to ['alfred@kwachafinancialservices.com', 'alfieka08@yahoo.com', 'info@kwachafinancialservices.com']
2025-08-05 05:42:42,434 - INFO - HTML email sent to ['alfred@kwachafinancialservices.com', 'alfieka08@yahoo.com', 'info@kwachafinancialservices.com']
2025-08-05 05:42:42,439 - INFO - 127.0.0.1 - - [05/Aug/2025 05:42:42] "[32mPOST /admin/dashboard?section=sales_report HTTP/1.1[0m" 302 -
2025-08-05 05:42:42,522 - INFO - 127.0.0.1 - - [05/Aug/2025 05:42:42] "GET /admin/dashboard?section=sales_report HTTP/1.1" 200 -
2025-08-05 05:42:43,197 - INFO - 127.0.0.1 - - [05/Aug/2025 05:42:43] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-08-05 05:56:31,760] INFO in app: ==================================================
[2025-08-05 05:56:31,769] INFO in app: Application logging initialized successfully
[2025-08-05 05:56:31,772] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 05:56:31,774] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 05:56:31,776] INFO in app: System encoding: utf-8
[2025-08-05 05:56:31,779] INFO in app: ==================================================
2025-08-05 05:56:32,061 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 05:56:32,063 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 05:56:32,063 - INFO - Scheduler started
2025-08-05 05:56:32,105 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-05 05:56:32,105 - INFO - [33mPress CTRL+C to quit[0m
2025-08-05 05:56:56,343 - INFO - 127.0.0.1 - - [05/Aug/2025 05:56:56] "GET /admin/dashboard?section=sales_report HTTP/1.1" 200 -
2025-08-05 05:56:57,548 - INFO - 127.0.0.1 - - [05/Aug/2025 05:56:57] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-08-05 05:57:01,414] INFO in app: Sending email to: alfred@kwachafinancialservices.com, alfieka08@yahoo.com, info@kwachafinancialservices.com
2025-08-05 05:57:01,414 - INFO - Sending email to: alfred@kwachafinancialservices.com, alfieka08@yahoo.com, info@kwachafinancialservices.com
[2025-08-05 05:57:06,871] INFO in app: HTML email sent to ['alfred@kwachafinancialservices.com', 'alfieka08@yahoo.com', 'info@kwachafinancialservices.com']
2025-08-05 05:57:06,871 - INFO - HTML email sent to ['alfred@kwachafinancialservices.com', 'alfieka08@yahoo.com', 'info@kwachafinancialservices.com']
2025-08-05 05:57:06,874 - INFO - 127.0.0.1 - - [05/Aug/2025 05:57:06] "[32mPOST /admin/dashboard?section=sales_report HTTP/1.1[0m" 302 -
2025-08-05 05:57:06,948 - INFO - 127.0.0.1 - - [05/Aug/2025 05:57:06] "GET /admin/dashboard?section=sales_report HTTP/1.1" 200 -
2025-08-05 05:58:52,128 - INFO - 127.0.0.1 - - [05/Aug/2025 05:58:52] "GET /loanbook HTTP/1.1" 200 -
2025-08-05 05:59:01,051 - INFO - 127.0.0.1 - - [05/Aug/2025 05:59:01] "GET /customer/202507000001/account HTTP/1.1" 200 -
2025-08-05 05:59:02,861 - INFO - 127.0.0.1 - - [05/Aug/2025 05:59:02] "GET /customer/202507000001/account?section=additional HTTP/1.1" 200 -
2025-08-05 05:59:55,807 - INFO - 127.0.0.1 - - [05/Aug/2025 05:59:55] "[32mPOST /apply_additional/1 HTTP/1.1[0m" 302 -
2025-08-05 05:59:56,055 - INFO - 127.0.0.1 - - [05/Aug/2025 05:59:56] "GET /customer/202507000001/account?section=statement HTTP/1.1" 200 -
2025-08-05 05:59:59,161 - INFO - 127.0.0.1 - - [05/Aug/2025 05:59:59] "GET /loans HTTP/1.1" 200 -
2025-08-05 06:00:04,462 - INFO - 127.0.0.1 - - [05/Aug/2025 06:00:04] "[32mPOST /process_loan/18/approve HTTP/1.1[0m" 302 -
2025-08-05 06:00:04,622 - INFO - 127.0.0.1 - - [05/Aug/2025 06:00:04] "GET /loans HTTP/1.1" 200 -
2025-08-05 06:00:09,700 - INFO - 127.0.0.1 - - [05/Aug/2025 06:00:09] "GET /admin/dashboard HTTP/1.1" 200 -
2025-08-05 06:00:12,394 - INFO - 127.0.0.1 - - [05/Aug/2025 06:00:12] "GET /admin/dashboard?section=sales_report HTTP/1.1" 200 -
[2025-08-05 06:00:17,358] INFO in app: Sending email to: alfred@kwachafinancialservices.com, alfieka08@yahoo.com, info@kwachafinancialservices.com
2025-08-05 06:00:17,358 - INFO - Sending email to: alfred@kwachafinancialservices.com, alfieka08@yahoo.com, info@kwachafinancialservices.com
[2025-08-05 06:00:22,242] INFO in app: HTML email sent to ['alfred@kwachafinancialservices.com', 'alfieka08@yahoo.com', 'info@kwachafinancialservices.com']
2025-08-05 06:00:22,242 - INFO - HTML email sent to ['alfred@kwachafinancialservices.com', 'alfieka08@yahoo.com', 'info@kwachafinancialservices.com']
2025-08-05 06:00:22,246 - INFO - 127.0.0.1 - - [05/Aug/2025 06:00:22] "[32mPOST /admin/dashboard?section=sales_report HTTP/1.1[0m" 302 -
2025-08-05 06:00:22,263 - INFO - 127.0.0.1 - - [05/Aug/2025 06:00:22] "GET /admin/dashboard?section=sales_report HTTP/1.1" 200 -
[2025-08-05 10:10:18,909] INFO in app: ==================================================
[2025-08-05 10:10:18,987] INFO in app: Application logging initialized successfully
[2025-08-05 10:10:18,988] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 10:10:18,989] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 10:10:18,991] INFO in app: System encoding: utf-8
[2025-08-05 10:10:18,992] INFO in app: ==================================================
2025-08-05 10:10:19,351 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 10:10:19,354 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 10:10:19,354 - INFO - Scheduler started
2025-08-05 10:10:19,411 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-05 10:10:19,412 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-05 10:18:39,810] INFO in app: ==================================================
[2025-08-05 10:18:39,828] INFO in app: Application logging initialized successfully
[2025-08-05 10:18:39,831] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 10:18:39,836] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 10:18:39,838] INFO in app: System encoding: utf-8
[2025-08-05 10:18:39,843] INFO in app: ==================================================
2025-08-05 10:18:40,106 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 10:18:40,107 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 10:18:40,108 - INFO - Scheduler started
2025-08-05 10:18:40,143 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-05 10:18:40,143 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-05 10:19:17,640] INFO in app: ==================================================
[2025-08-05 10:19:17,647] INFO in app: Application logging initialized successfully
[2025-08-05 10:19:17,649] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 10:19:17,650] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 10:19:17,658] INFO in app: System encoding: utf-8
[2025-08-05 10:19:17,660] INFO in app: ==================================================
2025-08-05 10:19:17,923 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 10:19:17,925 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 10:19:17,925 - INFO - Scheduler started
2025-08-05 10:19:17,957 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-05 10:19:17,957 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-05 10:32:11,195] INFO in app: ==================================================
[2025-08-05 10:32:11,204] INFO in app: Application logging initialized successfully
[2025-08-05 10:32:11,206] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 10:32:11,214] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 10:32:11,219] INFO in app: System encoding: utf-8
[2025-08-05 10:32:11,222] INFO in app: ==================================================
2025-08-05 10:32:11,561 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 10:32:11,563 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 10:32:11,563 - INFO - Scheduler started
2025-08-05 10:32:11,591 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-05 10:32:11,591 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-05 10:39:56,455] INFO in app: ==================================================
[2025-08-05 10:39:56,461] INFO in app: Application logging initialized successfully
[2025-08-05 10:39:56,463] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 10:39:56,465] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 10:39:56,472] INFO in app: System encoding: utf-8
[2025-08-05 10:39:56,474] INFO in app: ==================================================
2025-08-05 10:39:56,847 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 10:39:56,849 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 10:39:56,849 - INFO - Scheduler started
2025-08-05 10:39:56,883 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-05 10:39:56,883 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-05 10:59:13,202] INFO in app: ==================================================
[2025-08-05 10:59:13,209] INFO in app: Application logging initialized successfully
[2025-08-05 10:59:13,212] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 10:59:13,214] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 10:59:13,215] INFO in app: System encoding: utf-8
[2025-08-05 10:59:13,219] INFO in app: ==================================================
2025-08-05 10:59:13,465 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 10:59:13,467 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 10:59:13,467 - INFO - Scheduler started
2025-08-05 10:59:13,497 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-05 10:59:13,497 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-05 11:15:54,156] INFO in app: ==================================================
[2025-08-05 11:15:54,164] INFO in app: Application logging initialized successfully
[2025-08-05 11:15:54,166] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 11:15:54,171] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 11:15:54,175] INFO in app: System encoding: utf-8
[2025-08-05 11:15:54,178] INFO in app: ==================================================
2025-08-05 11:15:54,483 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 11:15:54,485 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 11:15:54,485 - INFO - Scheduler started
2025-08-05 11:15:54,523 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-05 11:15:54,523 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-05 11:17:07,967] INFO in app: ==================================================
[2025-08-05 11:17:07,973] INFO in app: Application logging initialized successfully
[2025-08-05 11:17:07,975] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 11:17:07,981] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 11:17:07,985] INFO in app: System encoding: utf-8
[2025-08-05 11:17:07,987] INFO in app: ==================================================
2025-08-05 11:17:08,272 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 11:17:08,274 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 11:17:08,274 - INFO - Scheduler started
2025-08-05 11:17:08,306 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-05 11:17:08,306 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-05 11:27:49,002] INFO in app: ==================================================
[2025-08-05 11:27:49,009] INFO in app: Application logging initialized successfully
[2025-08-05 11:27:49,014] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 11:27:49,016] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 11:27:49,021] INFO in app: System encoding: utf-8
[2025-08-05 11:27:49,022] INFO in app: ==================================================
2025-08-05 11:27:49,290 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 11:27:49,292 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 11:27:49,292 - INFO - Scheduler started
[2025-08-05 11:28:04,164] INFO in app: ==================================================
[2025-08-05 11:28:04,174] INFO in app: Application logging initialized successfully
[2025-08-05 11:28:04,176] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 11:28:04,177] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 11:28:04,179] INFO in app: System encoding: utf-8
[2025-08-05 11:28:04,181] INFO in app: ==================================================
2025-08-05 11:28:04,427 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 11:28:04,429 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 11:28:04,429 - INFO - Scheduler started
[2025-08-05 11:28:08,736] INFO in app: ==================================================
[2025-08-05 11:28:08,744] INFO in app: Application logging initialized successfully
[2025-08-05 11:28:08,746] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 11:28:08,749] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 11:28:08,751] INFO in app: System encoding: utf-8
[2025-08-05 11:28:08,758] INFO in app: ==================================================
2025-08-05 11:28:09,141 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 11:28:09,145 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 11:28:09,145 - INFO - Scheduler started
2025-08-05 11:28:09,180 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-05 11:28:09,180 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-05 11:48:16,116] INFO in app: ==================================================
[2025-08-05 11:48:16,124] INFO in app: Application logging initialized successfully
[2025-08-05 11:48:16,126] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 11:48:16,128] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 11:48:16,131] INFO in app: System encoding: utf-8
[2025-08-05 11:48:16,135] INFO in app: ==================================================
2025-08-05 11:48:16,480 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 11:48:16,482 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 11:48:16,482 - INFO - Scheduler started
[2025-08-05 11:51:45,503] INFO in app: ==================================================
[2025-08-05 11:51:45,511] INFO in app: Application logging initialized successfully
[2025-08-05 11:51:45,514] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 11:51:45,517] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 11:51:45,518] INFO in app: System encoding: utf-8
[2025-08-05 11:51:45,522] INFO in app: ==================================================
2025-08-05 11:51:45,780 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 11:51:45,782 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 11:51:45,782 - INFO - Scheduler started
[2025-08-05 11:51:55,511] INFO in app: ==================================================
[2025-08-05 11:51:55,517] INFO in app: Application logging initialized successfully
[2025-08-05 11:51:55,520] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 11:51:55,524] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 11:51:55,528] INFO in app: System encoding: utf-8
[2025-08-05 11:51:55,530] INFO in app: ==================================================
2025-08-05 11:51:55,781 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 11:51:55,783 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 11:51:55,783 - INFO - Scheduler started
2025-08-05 11:51:55,813 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-05 11:51:55,813 - INFO - [33mPress CTRL+C to quit[0m
[2025-08-05 12:06:29,447] INFO in app: ==================================================
[2025-08-05 12:06:29,456] INFO in app: Application logging initialized successfully
[2025-08-05 12:06:29,463] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 12:06:29,468] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 12:06:29,471] INFO in app: System encoding: utf-8
[2025-08-05 12:06:29,474] INFO in app: ==================================================
2025-08-05 12:06:29,741 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 12:06:29,743 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 12:06:29,743 - INFO - Scheduler started
[2025-08-05 12:07:38,281] INFO in app: ==================================================
[2025-08-05 12:07:38,289] INFO in app: Application logging initialized successfully
[2025-08-05 12:07:38,290] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 12:07:38,291] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 12:07:38,292] INFO in app: System encoding: utf-8
[2025-08-05 12:07:38,293] INFO in app: ==================================================
2025-08-05 12:07:38,554 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 12:07:38,556 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 12:07:38,556 - INFO - Scheduler started
[2025-08-05 12:49:42,891] INFO in app: ==================================================
[2025-08-05 12:49:42,986] INFO in app: Application logging initialized successfully
[2025-08-05 12:49:42,989] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 12:49:42,992] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 12:49:42,995] INFO in app: System encoding: utf-8
[2025-08-05 12:49:42,999] INFO in app: ==================================================
2025-08-05 12:49:43,453 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-08-05 12:49:43,455 - INFO - Added job "snapshot_par" to job store "default"
2025-08-05 12:49:43,455 - INFO - Scheduler started
2025-08-05 12:49:43,511 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-05 12:49:43,511 - INFO - [33mPress CTRL+C to quit[0m
2025-08-05 12:57:27,488 - INFO - 127.0.0.1 - - [05/Aug/2025 12:57:27] "GET /dashboard/sales HTTP/1.1" 200 -
2025-08-05 12:57:41,865 - INFO - 127.0.0.1 - - [05/Aug/2025 12:57:41] "GET /admin/dashboard?section=sales_report HTTP/1.1" 200 -
2025-08-05 12:59:54,790 - INFO - 127.0.0.1 - - [05/Aug/2025 12:59:54] "GET /notifications/sales-summary HTTP/1.1" 200 -
[2025-08-05 13:00:20,075] INFO in app: HTML email sent to ['alfred@kwachafinancialservices.com', 'sales@yourcompany.mw']
2025-08-05 13:00:20,075 - INFO - HTML email sent to ['alfred@kwachafinancialservices.com', 'sales@yourcompany.mw']
2025-08-05 13:00:20,084 - INFO - 127.0.0.1 - - [05/Aug/2025 13:00:20] "GET /test-email-now HTTP/1.1" 200 -
2025-08-05 13:00:20,508 - INFO - 127.0.0.1 - - [05/Aug/2025 13:00:20] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-08-05 13:16:27,961] INFO in app: HTML email sent to ['alfred@kwachafinancialservices.com', 'sales@yourcompany.mw']
2025-08-05 13:16:27,961 - INFO - HTML email sent to ['alfred@kwachafinancialservices.com', 'sales@yourcompany.mw']
2025-08-05 13:16:27,964 - INFO - 127.0.0.1 - - [05/Aug/2025 13:16:27] "GET /test-email-now HTTP/1.1" 200 -
[2025-08-05 14:37:48,109] INFO in app: ==================================================
[2025-08-05 14:37:48,225] INFO in app: Application logging initialized successfully
[2025-08-05 14:37:48,227] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-08-05 14:37:48,229] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-08-05 14:37:48,234] INFO in app: System encoding: utf-8
[2025-08-05 14:37:48,236] INFO in app: ==================================================
