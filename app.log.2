[2025-07-21 02:44:59,542] INFO in app: ==================================================
[2025-07-21 02:44:59,551] INFO in app: Application logging initialized successfully
[2025-07-21 02:44:59,554] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 02:44:59,556] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 02:44:59,558] INFO in app: System encoding: utf-8
[2025-07-21 02:44:59,559] INFO in app: ==================================================
2025-07-21 02:44:59,755 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-21 02:44:59,756 - INFO - Added job "snapshot_par" to job store "default"
2025-07-21 02:44:59,766 - INFO - Scheduler started
2025-07-21 02:44:59,788 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-21 02:44:59,788 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-21 02:45:06,108] ERROR in app: Exception on /placements [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6519, in view_placements
    return render_template('placement/list.html', placements=placements)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 34, in block 'content'
    <strong>Total Interest Payable:</strong> {{ total_interest | format_currency }}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6526, in format_currency_filter
    return "${:,.2f}".format(value)
           ~~~~~~~~~~~~~~~~~^^^^^^^
TypeError: unsupported format string passed to Undefined.__format__
2025-07-21 02:45:06,108 - ERROR - Exception on /placements [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6519, in view_placements
    return render_template('placement/list.html', placements=placements)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 34, in block 'content'
    <strong>Total Interest Payable:</strong> {{ total_interest | format_currency }}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6526, in format_currency_filter
    return "${:,.2f}".format(value)
           ~~~~~~~~~~~~~~~~~^^^^^^^
TypeError: unsupported format string passed to Undefined.__format__
2025-07-21 02:45:06,122 - INFO - 127.0.0.1 - - [21/Jul/2025 02:45:06] "[35m[1mGET /placements HTTP/1.1[0m" 500 -
2025-07-21 02:45:06,177 - INFO - 127.0.0.1 - - [21/Jul/2025 02:45:06] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-21 02:49:15,819 - INFO - Scheduler has been shut down
[2025-07-21 02:49:19,255] INFO in app: ==================================================
[2025-07-21 02:49:19,261] INFO in app: Application logging initialized successfully
[2025-07-21 02:49:19,263] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 02:49:19,266] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 02:49:19,268] INFO in app: System encoding: utf-8
[2025-07-21 02:49:19,272] INFO in app: ==================================================
2025-07-21 02:49:19,466 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-21 02:49:19,468 - INFO - Added job "snapshot_par" to job store "default"
2025-07-21 02:49:19,468 - INFO - Scheduler started
2025-07-21 02:49:19,488 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-21 02:49:19,488 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-21 02:49:23,126] ERROR in app: Exception on /placements [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6519, in view_placements
    return render_template('placement/list.html', placements=placements)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 34, in block 'content'
    <strong>Total Interest Payable:</strong> {{ total_interest | format_currency }}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6526, in format_currency_filter
    return "${:,.2f}".format(value)
           ~~~~~~~~~~~~~~~~~^^^^^^^
TypeError: unsupported format string passed to Undefined.__format__
2025-07-21 02:49:23,126 - ERROR - Exception on /placements [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6519, in view_placements
    return render_template('placement/list.html', placements=placements)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 34, in block 'content'
    <strong>Total Interest Payable:</strong> {{ total_interest | format_currency }}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6526, in format_currency_filter
    return "${:,.2f}".format(value)
           ~~~~~~~~~~~~~~~~~^^^^^^^
TypeError: unsupported format string passed to Undefined.__format__
2025-07-21 02:49:23,140 - INFO - 127.0.0.1 - - [21/Jul/2025 02:49:23] "[35m[1mGET /placements HTTP/1.1[0m" 500 -
2025-07-21 02:49:23,196 - INFO - 127.0.0.1 - - [21/Jul/2025 02:49:23] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-21 03:07:47,576 - INFO - Scheduler has been shut down
[2025-07-21 03:07:51,236] INFO in app: ==================================================
[2025-07-21 03:07:51,247] INFO in app: Application logging initialized successfully
[2025-07-21 03:07:51,249] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 03:07:51,254] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 03:07:51,259] INFO in app: System encoding: utf-8
[2025-07-21 03:07:51,261] INFO in app: ==================================================
2025-07-21 03:07:51,474 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-21 03:07:51,476 - INFO - Added job "snapshot_par" to job store "default"
2025-07-21 03:07:51,476 - INFO - Scheduler started
2025-07-21 03:07:51,491 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-21 03:07:51,491 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-21 03:07:57,816] ERROR in app: Exception on /placements [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6519, in view_placements
    return render_template('placement/list.html', placements=placements)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 34, in block 'content'
    <strong>Total Interest Payable:</strong> {{ total_interest | format_currency }}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6526, in format_currency_filter
    return "${:,.2f}".format(value)
           ~~~~~~~~~~~~~~~~~^^^^^^^
TypeError: unsupported format string passed to Undefined.__format__
2025-07-21 03:07:57,816 - ERROR - Exception on /placements [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6519, in view_placements
    return render_template('placement/list.html', placements=placements)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 34, in block 'content'
    <strong>Total Interest Payable:</strong> {{ total_interest | format_currency }}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6526, in format_currency_filter
    return "${:,.2f}".format(value)
           ~~~~~~~~~~~~~~~~~^^^^^^^
TypeError: unsupported format string passed to Undefined.__format__
2025-07-21 03:07:57,831 - INFO - 127.0.0.1 - - [21/Jul/2025 03:07:57] "[35m[1mGET /placements HTTP/1.1[0m" 500 -
2025-07-21 03:07:57,890 - INFO - 127.0.0.1 - - [21/Jul/2025 03:07:57] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-21 03:09:20,101 - INFO - Scheduler has been shut down
[2025-07-21 03:09:23,675] INFO in app: ==================================================
[2025-07-21 03:09:23,682] INFO in app: Application logging initialized successfully
[2025-07-21 03:09:23,686] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 03:09:23,688] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 03:09:23,692] INFO in app: System encoding: utf-8
[2025-07-21 03:09:23,695] INFO in app: ==================================================
2025-07-21 03:09:23,923 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-21 03:09:23,926 - INFO - Added job "snapshot_par" to job store "default"
2025-07-21 03:09:23,926 - INFO - Scheduler started
2025-07-21 03:09:23,947 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-21 03:09:23,947 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-21 03:09:31,437] ERROR in app: Exception on /placements [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6523, in view_placements
    return render_template(
        'placement/list.html',
        placements=placements,
        total_interest=total_interest  # ✅ Include this!
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 57, in block 'content'
    <td>{{ p.maturity_date.strftime('%Y-%m-%d') if p.maturity_date else '-' }}</td>
    ^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\utils.py", line 92, in from_obj
    if hasattr(obj, "jinja_pass_arg"):
       ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'method object' has no attribute 'strftime'
2025-07-21 03:09:31,437 - ERROR - Exception on /placements [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6523, in view_placements
    return render_template(
        'placement/list.html',
        placements=placements,
        total_interest=total_interest  # ✅ Include this!
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 57, in block 'content'
    <td>{{ p.maturity_date.strftime('%Y-%m-%d') if p.maturity_date else '-' }}</td>
    ^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\utils.py", line 92, in from_obj
    if hasattr(obj, "jinja_pass_arg"):
       ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'method object' has no attribute 'strftime'
2025-07-21 03:09:31,466 - INFO - 127.0.0.1 - - [21/Jul/2025 03:09:31] "[35m[1mGET /placements HTTP/1.1[0m" 500 -
2025-07-21 03:09:31,522 - INFO - 127.0.0.1 - - [21/Jul/2025 03:09:31] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-21 03:12:12,931 - INFO - Scheduler has been shut down
[2025-07-21 03:12:21,899] INFO in app: ==================================================
[2025-07-21 03:12:21,908] INFO in app: Application logging initialized successfully
[2025-07-21 03:12:21,910] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 03:12:21,912] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 03:12:21,915] INFO in app: System encoding: utf-8
[2025-07-21 03:12:21,919] INFO in app: ==================================================
2025-07-21 03:12:22,124 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-21 03:12:22,126 - INFO - Added job "snapshot_par" to job store "default"
2025-07-21 03:12:22,126 - INFO - Scheduler started
2025-07-21 03:12:22,144 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-21 03:12:22,144 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-21 03:12:25,824] ERROR in app: Exception on /placements [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6523, in view_placements
    return render_template(
        'placement/list.html',
        placements=placements,
        total_interest=total_interest  # ✅ Include this!
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 59, in block 'content'
    <td>{{ p.next_interest_date.strftime('%Y-%m-%d') if p.next_interest_date else '-' }}</td>
    ^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\utils.py", line 92, in from_obj
    if hasattr(obj, "jinja_pass_arg"):
       ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'method object' has no attribute 'strftime'
2025-07-21 03:12:25,824 - ERROR - Exception on /placements [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6523, in view_placements
    return render_template(
        'placement/list.html',
        placements=placements,
        total_interest=total_interest  # ✅ Include this!
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 59, in block 'content'
    <td>{{ p.next_interest_date.strftime('%Y-%m-%d') if p.next_interest_date else '-' }}</td>
    ^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\utils.py", line 92, in from_obj
    if hasattr(obj, "jinja_pass_arg"):
       ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'method object' has no attribute 'strftime'
2025-07-21 03:12:25,838 - INFO - 127.0.0.1 - - [21/Jul/2025 03:12:25] "[35m[1mGET /placements HTTP/1.1[0m" 500 -
2025-07-21 03:12:25,877 - INFO - 127.0.0.1 - - [21/Jul/2025 03:12:25] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-21 03:12:31,387] ERROR in app: Exception on /placements [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6523, in view_placements
    return render_template(
        'placement/list.html',
        placements=placements,
        total_interest=total_interest  # ✅ Include this!
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 59, in block 'content'
    <td>{{ p.next_interest_date.strftime('%Y-%m-%d') if p.next_interest_date else '-' }}</td>
    ^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\utils.py", line 92, in from_obj
    if hasattr(obj, "jinja_pass_arg"):
       ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'method object' has no attribute 'strftime'
2025-07-21 03:12:31,387 - ERROR - Exception on /placements [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6523, in view_placements
    return render_template(
        'placement/list.html',
        placements=placements,
        total_interest=total_interest  # ✅ Include this!
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 59, in block 'content'
    <td>{{ p.next_interest_date.strftime('%Y-%m-%d') if p.next_interest_date else '-' }}</td>
    ^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\utils.py", line 92, in from_obj
    if hasattr(obj, "jinja_pass_arg"):
       ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'method object' has no attribute 'strftime'
2025-07-21 03:12:31,410 - INFO - 127.0.0.1 - - [21/Jul/2025 03:12:31] "[35m[1mGET /placements HTTP/1.1[0m" 500 -
2025-07-21 03:12:31,693 - INFO - 127.0.0.1 - - [21/Jul/2025 03:12:31] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-21 03:14:18,769 - INFO - Scheduler has been shut down
[2025-07-21 03:14:21,920] INFO in app: ==================================================
[2025-07-21 03:14:21,927] INFO in app: Application logging initialized successfully
[2025-07-21 03:14:21,929] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 03:14:21,931] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 03:14:21,933] INFO in app: System encoding: utf-8
[2025-07-21 03:14:21,935] INFO in app: ==================================================
2025-07-21 03:14:22,272 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-21 03:14:22,274 - INFO - Added job "snapshot_par" to job store "default"
2025-07-21 03:14:22,275 - INFO - Scheduler started
2025-07-21 03:14:22,291 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-21 03:14:22,291 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-21 03:14:26,413] ERROR in app: Exception on /placements [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6526, in view_placements
    return render_template(
        'placement/list.html',
        placements=placements,
        total_interest=total_interest  # ✅ Include this!
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 57, in block 'content'
    <td>{{ p.maturity_date().strftime('%Y-%m-%d') if p.maturity_date else '-' }}</td>
    ^^^^^
TypeError: 'datetime.date' object is not callable
2025-07-21 03:14:26,413 - ERROR - Exception on /placements [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6526, in view_placements
    return render_template(
        'placement/list.html',
        placements=placements,
        total_interest=total_interest  # ✅ Include this!
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 57, in block 'content'
    <td>{{ p.maturity_date().strftime('%Y-%m-%d') if p.maturity_date else '-' }}</td>
    ^^^^^
TypeError: 'datetime.date' object is not callable
2025-07-21 03:14:26,427 - INFO - 127.0.0.1 - - [21/Jul/2025 03:14:26] "[35m[1mGET /placements HTTP/1.1[0m" 500 -
2025-07-21 03:14:26,468 - INFO - 127.0.0.1 - - [21/Jul/2025 03:14:26] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-21 03:17:12,933 - INFO - Scheduler has been shut down
[2025-07-21 03:17:16,558] INFO in app: ==================================================
[2025-07-21 03:17:16,564] INFO in app: Application logging initialized successfully
[2025-07-21 03:17:16,566] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 03:17:16,568] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 03:17:16,570] INFO in app: System encoding: utf-8
[2025-07-21 03:17:16,572] INFO in app: ==================================================
2025-07-21 03:17:16,766 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-21 03:17:16,767 - INFO - Added job "snapshot_par" to job store "default"
2025-07-21 03:17:16,767 - INFO - Scheduler started
2025-07-21 03:17:16,787 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-21 03:17:16,787 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-21 03:17:20,879] ERROR in app: Exception on /placements [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6526, in view_placements
    return render_template(
        'placement/list.html',
        placements=placements,
        total_interest=total_interest  # ✅ Include this!
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 59, in block 'content'
    <td>{{ p.next_interest_date.strftime('%Y-%m-%d') if p.next_interest_date else '-' }}</td>
    ^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\utils.py", line 92, in from_obj
    if hasattr(obj, "jinja_pass_arg"):
       ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'method object' has no attribute 'strftime'
2025-07-21 03:17:20,879 - ERROR - Exception on /placements [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6526, in view_placements
    return render_template(
        'placement/list.html',
        placements=placements,
        total_interest=total_interest  # ✅ Include this!
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 59, in block 'content'
    <td>{{ p.next_interest_date.strftime('%Y-%m-%d') if p.next_interest_date else '-' }}</td>
    ^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\utils.py", line 92, in from_obj
    if hasattr(obj, "jinja_pass_arg"):
       ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'method object' has no attribute 'strftime'
2025-07-21 03:17:20,892 - INFO - 127.0.0.1 - - [21/Jul/2025 03:17:20] "[35m[1mGET /placements HTTP/1.1[0m" 500 -
2025-07-21 03:17:20,945 - INFO - 127.0.0.1 - - [21/Jul/2025 03:17:20] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-21 03:17:39,487 - INFO - Scheduler has been shut down
[2025-07-21 03:17:42,633] INFO in app: ==================================================
[2025-07-21 03:17:42,640] INFO in app: Application logging initialized successfully
[2025-07-21 03:17:42,642] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 03:17:42,644] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 03:17:42,646] INFO in app: System encoding: utf-8
[2025-07-21 03:17:42,651] INFO in app: ==================================================
2025-07-21 03:17:42,844 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-21 03:17:42,846 - INFO - Added job "snapshot_par" to job store "default"
2025-07-21 03:17:42,846 - INFO - Scheduler started
2025-07-21 03:17:42,862 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-21 03:17:42,862 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-21 03:17:47,181] ERROR in app: Exception on /placements [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6526, in view_placements
    return render_template(
        'placement/list.html',
        placements=placements,
        total_interest=total_interest  # ✅ Include this!
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 59, in block 'content'
    <td>{{ p.next_interest_date.strftime('%Y-%m-%d') if p.next_interest_date else '-' }}</td>
    ^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\utils.py", line 92, in from_obj
    if hasattr(obj, "jinja_pass_arg"):
       ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'method object' has no attribute 'strftime'
2025-07-21 03:17:47,181 - ERROR - Exception on /placements [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6526, in view_placements
    return render_template(
        'placement/list.html',
        placements=placements,
        total_interest=total_interest  # ✅ Include this!
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\list.html", line 59, in block 'content'
    <td>{{ p.next_interest_date.strftime('%Y-%m-%d') if p.next_interest_date else '-' }}</td>
    ^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\utils.py", line 92, in from_obj
    if hasattr(obj, "jinja_pass_arg"):
       ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'method object' has no attribute 'strftime'
2025-07-21 03:17:47,197 - INFO - 127.0.0.1 - - [21/Jul/2025 03:17:47] "[35m[1mGET /placements HTTP/1.1[0m" 500 -
2025-07-21 03:17:47,235 - INFO - 127.0.0.1 - - [21/Jul/2025 03:17:47] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-21 03:20:09,110 - INFO - Scheduler has been shut down
[2025-07-21 03:20:12,248] INFO in app: ==================================================
[2025-07-21 03:20:12,254] INFO in app: Application logging initialized successfully
[2025-07-21 03:20:12,257] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 03:20:12,259] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 03:20:12,261] INFO in app: System encoding: utf-8
[2025-07-21 03:20:12,265] INFO in app: ==================================================
2025-07-21 03:20:12,590 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-21 03:20:12,592 - INFO - Added job "snapshot_par" to job store "default"
2025-07-21 03:20:12,592 - INFO - Scheduler started
2025-07-21 03:20:12,611 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-21 03:20:12,611 - INFO - [33mPress CTRL+C to quit[0m
2025-07-21 03:20:16,402 - INFO - 127.0.0.1 - - [21/Jul/2025 03:20:16] "GET /placements HTTP/1.1" 200 -
2025-07-21 03:20:17,431 - INFO - 127.0.0.1 - - [21/Jul/2025 03:20:17] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-21 03:20:41,083 - INFO - 127.0.0.1 - - [21/Jul/2025 03:20:41] "GET /placement/1 HTTP/1.1" 200 -
2025-07-21 04:04:28,422 - INFO - 127.0.0.1 - - [21/Jul/2025 04:04:28] "GET /placement/1/deposit HTTP/1.1" 200 -
2025-07-21 04:04:34,381 - INFO - 127.0.0.1 - - [21/Jul/2025 04:04:34] "GET /placement/1/withdraw HTTP/1.1" 200 -
2025-07-21 04:04:39,668 - INFO - 127.0.0.1 - - [21/Jul/2025 04:04:39] "GET /placement/1/change_rate HTTP/1.1" 200 -
2025-07-21 04:04:55,024 - INFO - 127.0.0.1 - - [21/Jul/2025 04:04:55] "GET /placements HTTP/1.1" 200 -
2025-07-21 04:04:57,320 - INFO - 127.0.0.1 - - [21/Jul/2025 04:04:57] "GET /placement/new HTTP/1.1" 200 -
2025-07-21 04:08:42,797 - INFO - Scheduler has been shut down
[2025-07-21 04:08:46,857] INFO in app: ==================================================
[2025-07-21 04:08:46,865] INFO in app: Application logging initialized successfully
[2025-07-21 04:08:46,868] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 04:08:46,870] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 04:08:46,875] INFO in app: System encoding: utf-8
[2025-07-21 04:08:46,880] INFO in app: ==================================================
2025-07-21 04:08:47,094 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-21 04:08:47,096 - INFO - Added job "snapshot_par" to job store "default"
2025-07-21 04:08:47,096 - INFO - Scheduler started
2025-07-21 04:08:47,115 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-21 04:08:47,115 - INFO - [33mPress CTRL+C to quit[0m
2025-07-21 04:08:51,975 - INFO - 127.0.0.1 - - [21/Jul/2025 04:08:51] "GET /placement/new HTTP/1.1" 200 -
2025-07-21 04:08:52,021 - INFO - 127.0.0.1 - - [21/Jul/2025 04:08:52] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-21 04:14:10,710 - INFO - Scheduler has been shut down
[2025-07-21 04:14:14,044] INFO in app: ==================================================
[2025-07-21 04:14:14,051] INFO in app: Application logging initialized successfully
[2025-07-21 04:14:14,053] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 04:14:14,055] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 04:14:14,059] INFO in app: System encoding: utf-8
[2025-07-21 04:14:14,063] INFO in app: ==================================================
2025-07-21 04:14:14,260 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-21 04:14:14,261 - INFO - Added job "snapshot_par" to job store "default"
2025-07-21 04:14:14,262 - INFO - Scheduler started
2025-07-21 04:14:14,283 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-21 04:14:14,283 - INFO - [33mPress CTRL+C to quit[0m
2025-07-21 04:14:19,539 - INFO - 127.0.0.1 - - [21/Jul/2025 04:14:19] "GET /placement/new HTTP/1.1" 200 -
2025-07-21 04:14:20,489 - INFO - 127.0.0.1 - - [21/Jul/2025 04:14:20] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-21 04:18:07,673 - INFO - Scheduler has been shut down
[2025-07-21 04:18:10,825] INFO in app: ==================================================
[2025-07-21 04:18:10,831] INFO in app: Application logging initialized successfully
[2025-07-21 04:18:10,834] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 04:18:10,837] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 04:18:10,841] INFO in app: System encoding: utf-8
[2025-07-21 04:18:10,846] INFO in app: ==================================================
2025-07-21 04:18:11,028 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-21 04:18:11,030 - INFO - Added job "snapshot_par" to job store "default"
2025-07-21 04:18:11,030 - INFO - Scheduler started
2025-07-21 04:18:11,050 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-21 04:18:11,050 - INFO - [33mPress CTRL+C to quit[0m
2025-07-21 04:18:17,070 - INFO - 127.0.0.1 - - [21/Jul/2025 04:18:17] "GET /placement/new HTTP/1.1" 200 -
2025-07-21 04:18:19,291 - INFO - 127.0.0.1 - - [21/Jul/2025 04:18:19] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-21 04:19:29,837 - INFO - 127.0.0.1 - - [21/Jul/2025 04:19:29] "[32mPOST /placement/new HTTP/1.1[0m" 302 -
2025-07-21 04:19:29,857 - INFO - 127.0.0.1 - - [21/Jul/2025 04:19:29] "GET /placement/2 HTTP/1.1" 200 -
2025-07-21 04:20:01,667 - INFO - 127.0.0.1 - - [21/Jul/2025 04:20:01] "GET /placements HTTP/1.1" 200 -
[2025-07-21 10:05:27,475] INFO in app: ==================================================
[2025-07-21 10:05:27,574] INFO in app: Application logging initialized successfully
[2025-07-21 10:05:27,576] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 10:05:27,577] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 10:05:27,579] INFO in app: System encoding: utf-8
[2025-07-21 10:05:27,580] INFO in app: ==================================================
2025-07-21 10:05:28,053 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-21 10:05:28,057 - INFO - Added job "snapshot_par" to job store "default"
2025-07-21 10:05:28,057 - INFO - Scheduler started
2025-07-21 10:05:28,108 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-21 10:05:28,108 - INFO - [33mPress CTRL+C to quit[0m
2025-07-21 10:05:35,377 - INFO - 127.0.0.1 - - [21/Jul/2025 10:05:35] "GET /placements HTTP/1.1" 200 -
2025-07-21 10:05:44,289 - INFO - 127.0.0.1 - - [21/Jul/2025 10:05:44] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-21 10:05:58,775 - INFO - 127.0.0.1 - - [21/Jul/2025 10:05:58] "GET /placement/2 HTTP/1.1" 200 -
2025-07-21 10:06:11,307 - INFO - 127.0.0.1 - - [21/Jul/2025 10:06:11] "GET /placement/new HTTP/1.1" 200 -
2025-07-21 10:06:41,256 - INFO - 127.0.0.1 - - [21/Jul/2025 10:06:41] "[32mPOST /placement/new HTTP/1.1[0m" 302 -
2025-07-21 10:06:41,552 - INFO - 127.0.0.1 - - [21/Jul/2025 10:06:41] "GET /placement/3 HTTP/1.1" 200 -
2025-07-21 10:07:12,975 - INFO - 127.0.0.1 - - [21/Jul/2025 10:07:12] "GET /placements HTTP/1.1" 200 -
[2025-07-21 15:02:04,045] INFO in app: ==================================================
[2025-07-21 15:02:04,117] INFO in app: Application logging initialized successfully
[2025-07-21 15:02:04,119] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 15:02:04,120] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 15:02:04,121] INFO in app: System encoding: utf-8
[2025-07-21 15:02:04,123] INFO in app: ==================================================
2025-07-21 15:02:04,391 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-21 15:02:04,393 - INFO - Added job "snapshot_par" to job store "default"
2025-07-21 15:02:04,393 - INFO - Scheduler started
[2025-07-21 15:06:46,230] INFO in app: ==================================================
[2025-07-21 15:06:46,239] INFO in app: Application logging initialized successfully
[2025-07-21 15:06:46,246] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 15:06:46,248] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 15:06:46,252] INFO in app: System encoding: utf-8
[2025-07-21 15:06:46,254] INFO in app: ==================================================
2025-07-21 15:06:46,470 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-21 15:06:46,471 - INFO - Added job "snapshot_par" to job store "default"
2025-07-21 15:06:46,471 - INFO - Scheduler started
[2025-07-21 16:07:30,840] INFO in app: ==================================================
[2025-07-21 16:07:30,948] INFO in app: Application logging initialized successfully
[2025-07-21 16:07:30,950] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 16:07:30,952] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 16:07:30,956] INFO in app: System encoding: utf-8
[2025-07-21 16:07:30,959] INFO in app: ==================================================
[2025-07-21 16:08:16,870] INFO in app: ==================================================
[2025-07-21 16:08:16,989] INFO in app: Application logging initialized successfully
[2025-07-21 16:08:16,990] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 16:08:16,992] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 16:08:16,994] INFO in app: System encoding: utf-8
[2025-07-21 16:08:16,998] INFO in app: ==================================================
[2025-07-21 16:17:44,160] INFO in app: ==================================================
[2025-07-21 16:17:44,167] INFO in app: Application logging initialized successfully
[2025-07-21 16:17:44,169] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 16:17:44,172] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 16:17:44,176] INFO in app: System encoding: utf-8
[2025-07-21 16:17:44,180] INFO in app: ==================================================
[2025-07-21 17:24:15,226] INFO in app: ==================================================
[2025-07-21 17:24:15,300] INFO in app: Application logging initialized successfully
[2025-07-21 17:24:15,302] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 17:24:15,303] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 17:24:15,305] INFO in app: System encoding: utf-8
[2025-07-21 17:24:15,307] INFO in app: ==================================================
[2025-07-21 17:26:41,531] INFO in app: ==================================================
[2025-07-21 17:26:41,537] INFO in app: Application logging initialized successfully
[2025-07-21 17:26:41,541] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 17:26:41,543] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 17:26:41,548] INFO in app: System encoding: utf-8
[2025-07-21 17:26:41,550] INFO in app: ==================================================
2025-07-21 17:26:41,751 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-21 17:26:41,753 - INFO - Added job "snapshot_par" to job store "default"
2025-07-21 17:26:41,753 - INFO - Scheduler started
[2025-07-21 17:27:18,127] INFO in app: ==================================================
[2025-07-21 17:27:18,134] INFO in app: Application logging initialized successfully
[2025-07-21 17:27:18,136] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 17:27:18,137] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 17:27:18,139] INFO in app: System encoding: utf-8
[2025-07-21 17:27:18,142] INFO in app: ==================================================
2025-07-21 17:27:18,343 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-21 17:27:18,345 - INFO - Added job "snapshot_par" to job store "default"
2025-07-21 17:27:18,345 - INFO - Scheduler started
[2025-07-21 17:27:33,603] INFO in app: ==================================================
[2025-07-21 17:27:33,610] INFO in app: Application logging initialized successfully
[2025-07-21 17:27:33,612] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 17:27:33,613] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 17:27:33,615] INFO in app: System encoding: utf-8
[2025-07-21 17:27:33,616] INFO in app: ==================================================
2025-07-21 17:27:33,796 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-21 17:27:33,798 - INFO - Added job "snapshot_par" to job store "default"
2025-07-21 17:27:33,798 - INFO - Scheduler started
[2025-07-21 17:29:00,799] INFO in app: ==================================================
[2025-07-21 17:29:00,805] INFO in app: Application logging initialized successfully
[2025-07-21 17:29:00,807] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 17:29:00,810] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 17:29:00,812] INFO in app: System encoding: utf-8
[2025-07-21 17:29:00,816] INFO in app: ==================================================
2025-07-21 17:29:01,001 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-21 17:29:01,002 - INFO - Added job "snapshot_par" to job store "default"
2025-07-21 17:29:01,002 - INFO - Scheduler started
[2025-07-21 17:30:58,788] INFO in app: ==================================================
[2025-07-21 17:30:58,794] INFO in app: Application logging initialized successfully
[2025-07-21 17:30:58,796] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 17:30:58,798] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 17:30:58,799] INFO in app: System encoding: utf-8
[2025-07-21 17:30:58,804] INFO in app: ==================================================
2025-07-21 17:30:58,991 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-21 17:30:58,992 - INFO - Added job "snapshot_par" to job store "default"
2025-07-21 17:30:58,993 - INFO - Scheduler started
[2025-07-21 17:31:06,827] INFO in app: ==================================================
[2025-07-21 17:31:06,833] INFO in app: Application logging initialized successfully
[2025-07-21 17:31:06,835] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 17:31:06,837] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 17:31:06,839] INFO in app: System encoding: utf-8
[2025-07-21 17:31:06,842] INFO in app: ==================================================
2025-07-21 17:31:07,032 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-21 17:31:07,034 - INFO - Added job "snapshot_par" to job store "default"
2025-07-21 17:31:07,034 - INFO - Scheduler started
[2025-07-21 17:37:25,371] INFO in app: ==================================================
[2025-07-21 17:37:25,379] INFO in app: Application logging initialized successfully
[2025-07-21 17:37:25,380] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 17:37:25,381] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 17:37:25,382] INFO in app: System encoding: utf-8
[2025-07-21 17:37:25,383] INFO in app: ==================================================
2025-07-21 17:37:25,578 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-21 17:37:25,579 - INFO - Added job "snapshot_par" to job store "default"
2025-07-21 17:37:25,579 - INFO - Scheduler started
2025-07-21 17:38:13,183 - INFO - Scheduler has been shut down
[2025-07-21 17:38:22,079] INFO in app: ==================================================
[2025-07-21 17:38:22,086] INFO in app: Application logging initialized successfully
[2025-07-21 17:38:22,088] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 17:38:22,090] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 17:38:22,092] INFO in app: System encoding: utf-8
[2025-07-21 17:38:22,096] INFO in app: ==================================================
2025-07-21 17:38:22,282 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-21 17:38:22,284 - INFO - Added job "snapshot_par" to job store "default"
2025-07-21 17:38:22,284 - INFO - Scheduler started
[2025-07-21 17:42:47,368] INFO in app: ==================================================
[2025-07-21 17:42:47,375] INFO in app: Application logging initialized successfully
[2025-07-21 17:42:47,376] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 17:42:47,377] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 17:42:47,378] INFO in app: System encoding: utf-8
[2025-07-21 17:42:47,379] INFO in app: ==================================================
2025-07-21 17:42:47,563 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-21 17:42:47,564 - INFO - Added job "snapshot_par" to job store "default"
2025-07-21 17:42:47,564 - INFO - Scheduler started
2025-07-21 17:44:30,435 - INFO - Scheduler has been shut down
[2025-07-21 17:44:40,909] INFO in app: ==================================================
[2025-07-21 17:44:40,918] INFO in app: Application logging initialized successfully
[2025-07-21 17:44:40,920] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 17:44:40,923] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 17:44:40,930] INFO in app: System encoding: utf-8
[2025-07-21 17:44:40,933] INFO in app: ==================================================
2025-07-21 17:44:41,190 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-21 17:44:41,191 - INFO - Added job "snapshot_par" to job store "default"
2025-07-21 17:44:41,191 - INFO - Scheduler started
[2025-07-21 17:44:49,074] INFO in app: ==================================================
[2025-07-21 17:44:49,079] INFO in app: Application logging initialized successfully
[2025-07-21 17:44:49,081] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-21 17:44:49,083] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-21 17:44:49,085] INFO in app: System encoding: utf-8
[2025-07-21 17:44:49,087] INFO in app: ==================================================
2025-07-21 17:44:49,359 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-21 17:44:49,361 - INFO - Added job "snapshot_par" to job store "default"
2025-07-21 17:44:49,361 - INFO - Scheduler started
2025-07-21 17:44:49,416 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-21 17:44:49,416 - INFO - [33mPress CTRL+C to quit[0m
2025-07-21 17:44:59,880 - INFO - 127.0.0.1 - - [21/Jul/2025 17:44:59] "GET /placements HTTP/1.1" 200 -
2025-07-21 17:45:24,390 - INFO - 127.0.0.1 - - [21/Jul/2025 17:45:24] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-21 17:45:48,541 - INFO - 127.0.0.1 - - [21/Jul/2025 17:45:48] "GET /placements HTTP/1.1" 200 -
2025-07-21 17:45:49,627 - INFO - 127.0.0.1 - - [21/Jul/2025 17:45:49] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-21 17:46:12,683 - INFO - 127.0.0.1 - - [21/Jul/2025 17:46:12] "GET /placement/new HTTP/1.1" 200 -
2025-07-21 17:47:11,652 - INFO - 127.0.0.1 - - [21/Jul/2025 17:47:11] "[32mPOST /placement/new HTTP/1.1[0m" 302 -
2025-07-21 17:47:11,684 - INFO - 127.0.0.1 - - [21/Jul/2025 17:47:11] "GET /placement/4 HTTP/1.1" 200 -
2025-07-21 17:47:18,638 - INFO - 127.0.0.1 - - [21/Jul/2025 17:47:18] "GET /placement/4/deposit HTTP/1.1" 200 -
2025-07-21 21:46:10,535 - INFO - 127.0.0.1 - - [21/Jul/2025 21:46:10] "GET /placement/4/deposit HTTP/1.1" 200 -
2025-07-21 21:46:10,702 - INFO - 127.0.0.1 - - [21/Jul/2025 21:46:10] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-21 21:49:32,137 - INFO - 127.0.0.1 - - [21/Jul/2025 21:49:32] "GET /placement/4/deposit HTTP/1.1" 200 -
[2025-07-23 08:19:34,299] INFO in app: ==================================================
[2025-07-23 08:19:34,386] INFO in app: Application logging initialized successfully
[2025-07-23 08:19:34,389] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 08:19:34,392] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 08:19:34,395] INFO in app: System encoding: utf-8
[2025-07-23 08:19:34,397] INFO in app: ==================================================
2025-07-23 08:19:34,854 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 08:19:34,856 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 08:19:34,856 - INFO - Scheduler started
2025-07-23 08:19:34,903 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-23 08:19:34,903 - INFO - [33mPress CTRL+C to quit[0m
2025-07-23 08:19:49,220 - INFO - 127.0.0.1 - - [23/Jul/2025 08:19:49] "GET /placement/4/deposit HTTP/1.1" 200 -
2025-07-23 08:19:49,284 - INFO - 127.0.0.1 - - [23/Jul/2025 08:19:49] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-23 08:20:02,829 - INFO - 127.0.0.1 - - [23/Jul/2025 08:20:02] "GET /placement/4/deposit HTTP/1.1" 200 -
2025-07-23 08:26:36,722 - INFO - 127.0.0.1 - - [23/Jul/2025 08:26:36] "GET /placement/4/deposit HTTP/1.1" 200 -
2025-07-23 08:26:42,632 - INFO - 127.0.0.1 - - [23/Jul/2025 08:26:42] "GET /placement/4/deposit HTTP/1.1" 200 -
2025-07-23 08:26:42,677 - INFO - 127.0.0.1 - - [23/Jul/2025 08:26:42] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-23 08:26:44,232 - INFO - 127.0.0.1 - - [23/Jul/2025 08:26:44] "GET /placement/4 HTTP/1.1" 200 -
2025-07-23 08:27:00,460 - INFO - 127.0.0.1 - - [23/Jul/2025 08:27:00] "GET /placements HTTP/1.1" 200 -
2025-07-23 08:27:48,064 - INFO - 127.0.0.1 - - [23/Jul/2025 08:27:48] "GET /placement/2 HTTP/1.1" 200 -
[2025-07-23 09:28:33,650] INFO in app: ==================================================
[2025-07-23 09:28:33,656] INFO in app: Application logging initialized successfully
[2025-07-23 09:28:33,658] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 09:28:33,659] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 09:28:33,661] INFO in app: System encoding: utf-8
[2025-07-23 09:28:33,664] INFO in app: ==================================================
2025-07-23 09:28:33,892 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 09:28:33,893 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 09:28:33,893 - INFO - Scheduler started
2025-07-23 09:28:33,911 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-23 09:28:33,911 - INFO - [33mPress CTRL+C to quit[0m
2025-07-23 09:28:44,674 - INFO - 127.0.0.1 - - [23/Jul/2025 09:28:44] "GET /placement/2 HTTP/1.1" 200 -
2025-07-23 09:28:45,844 - INFO - 127.0.0.1 - - [23/Jul/2025 09:28:45] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-23 09:29:06,536 - INFO - 127.0.0.1 - - [23/Jul/2025 09:29:06] "GET /placement/2 HTTP/1.1" 200 -
2025-07-23 09:32:05,712 - INFO - Scheduler has been shut down
[2025-07-23 09:32:09,363] INFO in app: ==================================================
[2025-07-23 09:32:09,369] INFO in app: Application logging initialized successfully
[2025-07-23 09:32:09,371] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 09:32:09,373] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 09:32:09,375] INFO in app: System encoding: utf-8
[2025-07-23 09:32:09,378] INFO in app: ==================================================
2025-07-23 09:32:09,556 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 09:32:09,557 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 09:32:09,558 - INFO - Scheduler started
2025-07-23 09:32:09,576 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-23 09:32:09,576 - INFO - [33mPress CTRL+C to quit[0m
2025-07-23 09:32:13,397 - INFO - 127.0.0.1 - - [23/Jul/2025 09:32:13] "GET /placement/2 HTTP/1.1" 200 -
2025-07-23 09:32:14,488 - INFO - 127.0.0.1 - - [23/Jul/2025 09:32:14] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-23 11:12:29,091] INFO in app: ==================================================
[2025-07-23 11:12:29,167] INFO in app: Application logging initialized successfully
[2025-07-23 11:12:29,169] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 11:12:29,170] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 11:12:29,172] INFO in app: System encoding: utf-8
[2025-07-23 11:12:29,174] INFO in app: ==================================================
2025-07-23 11:12:29,459 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 11:12:29,461 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 11:12:29,462 - INFO - Scheduler started
2025-07-23 11:12:29,501 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-23 11:12:29,501 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-23 11:12:34,495] ERROR in app: Exception on /placement/2 [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6518, in placement_details
    return render_template('placement/details.html',
                          placement=placement,
                          transactions=transactions,
                          accrued_interest=accrued_interest)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\details.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\details.html", line 44, in block 'content'
    <a href="{{ url_for('view_placement_schedule', placement_id=placement.id) }}" class="ms-2 text-decoration-none small">
    
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'view_placement_schedule' with values ['placement_id']. Did you mean 'view_placements' instead?
2025-07-23 11:12:34,495 - ERROR - Exception on /placement/2 [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6518, in placement_details
    return render_template('placement/details.html',
                          placement=placement,
                          transactions=transactions,
                          accrued_interest=accrued_interest)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\details.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\details.html", line 44, in block 'content'
    <a href="{{ url_for('view_placement_schedule', placement_id=placement.id) }}" class="ms-2 text-decoration-none small">
    
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'view_placement_schedule' with values ['placement_id']. Did you mean 'view_placements' instead?
2025-07-23 11:12:34,542 - INFO - 127.0.0.1 - - [23/Jul/2025 11:12:34] "[35m[1mGET /placement/2 HTTP/1.1[0m" 500 -
2025-07-23 11:12:34,656 - INFO - 127.0.0.1 - - [23/Jul/2025 11:12:34] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-23 11:31:15,047 - INFO - Scheduler has been shut down
[2025-07-23 11:31:18,437] INFO in app: ==================================================
[2025-07-23 11:31:18,445] INFO in app: Application logging initialized successfully
[2025-07-23 11:31:18,448] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 11:31:18,456] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 11:31:18,459] INFO in app: System encoding: utf-8
[2025-07-23 11:31:18,461] INFO in app: ==================================================
2025-07-23 11:31:18,691 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 11:31:18,693 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 11:31:18,693 - INFO - Scheduler started
2025-07-23 11:31:18,708 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-23 11:31:18,708 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-23 11:31:25,959] ERROR in app: Exception on /placement/2 [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6518, in placement_details
    return render_template('placement/details.html',
                          placement=placement,
                          transactions=transactions,
                          accrued_interest=accrued_interest)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\details.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\details.html", line 44, in block 'content'
    <a href="{{ url_for('view_placement_schedule', placement_id=placement.id) }}" class="ms-2 text-decoration-none small">
    
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'view_placement_schedule' with values ['placement_id']. Did you mean 'view_placements' instead?
2025-07-23 11:31:25,959 - ERROR - Exception on /placement/2 [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6518, in placement_details
    return render_template('placement/details.html',
                          placement=placement,
                          transactions=transactions,
                          accrued_interest=accrued_interest)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\details.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\details.html", line 44, in block 'content'
    <a href="{{ url_for('view_placement_schedule', placement_id=placement.id) }}" class="ms-2 text-decoration-none small">
    
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'view_placement_schedule' with values ['placement_id']. Did you mean 'view_placements' instead?
2025-07-23 11:31:26,023 - INFO - 127.0.0.1 - - [23/Jul/2025 11:31:26] "[35m[1mGET /placement/2 HTTP/1.1[0m" 500 -
2025-07-23 11:31:26,079 - INFO - 127.0.0.1 - - [23/Jul/2025 11:31:26] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-23 11:35:02,625 - INFO - Scheduler has been shut down
[2025-07-23 11:35:06,068] INFO in app: ==================================================
[2025-07-23 11:35:06,075] INFO in app: Application logging initialized successfully
[2025-07-23 11:35:06,077] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 11:35:06,079] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 11:35:06,081] INFO in app: System encoding: utf-8
[2025-07-23 11:35:06,088] INFO in app: ==================================================
2025-07-23 11:35:06,277 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 11:35:06,279 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 11:35:06,280 - INFO - Scheduler started
2025-07-23 11:35:06,298 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-23 11:35:06,298 - INFO - [33mPress CTRL+C to quit[0m
2025-07-23 11:35:10,730 - INFO - 127.0.0.1 - - [23/Jul/2025 11:35:10] "GET /placements HTTP/1.1" 200 -
2025-07-23 11:35:14,490 - INFO - 127.0.0.1 - - [23/Jul/2025 11:35:14] "GET /placements HTTP/1.1" 200 -
2025-07-23 11:35:16,560 - INFO - 127.0.0.1 - - [23/Jul/2025 11:35:16] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-23 11:35:21,055 - INFO - 127.0.0.1 - - [23/Jul/2025 11:35:21] "GET /placement/3 HTTP/1.1" 200 -
2025-07-23 11:35:40,559 - INFO - 127.0.0.1 - - [23/Jul/2025 11:35:40] "GET /placement/3/schedule HTTP/1.1" 200 -
2025-07-23 11:35:45,318 - INFO - 127.0.0.1 - - [23/Jul/2025 11:35:45] "GET /placement/3 HTTP/1.1" 200 -
2025-07-23 11:35:52,078 - INFO - 127.0.0.1 - - [23/Jul/2025 11:35:52] "GET /placement/3/schedule HTTP/1.1" 200 -
2025-07-23 11:36:32,679 - INFO - 127.0.0.1 - - [23/Jul/2025 11:36:32] "GET /placement/3/deposit HTTP/1.1" 200 -
2025-07-23 11:36:35,856 - INFO - 127.0.0.1 - - [23/Jul/2025 11:36:35] "GET /placement/3/withdraw HTTP/1.1" 200 -
2025-07-23 11:36:38,123 - INFO - 127.0.0.1 - - [23/Jul/2025 11:36:38] "GET /placement/3/change_rate HTTP/1.1" 200 -
2025-07-23 11:36:40,287 - INFO - The CSRF token is missing.
[2025-07-23 11:36:40,287] ERROR in app: Exception on /placement/3/capitalize [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6583, in capitalize_interest
    return render_template('placement/capitalize.html', form=form, placement=placement)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: placement/capitalize.html
2025-07-23 11:36:40,287 - ERROR - Exception on /placement/3/capitalize [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6583, in capitalize_interest
    return render_template('placement/capitalize.html', form=form, placement=placement)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: placement/capitalize.html
2025-07-23 11:36:40,341 - INFO - 127.0.0.1 - - [23/Jul/2025 11:36:40] "[35m[1mPOST /placement/3/capitalize HTTP/1.1[0m" 500 -
[2025-07-23 11:36:43,365] ERROR in app: Exception on /placement/3/liquidate [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6596, in liquidate_placement
    return render_template('placement/liquidate.html', form=form, placement=placement)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: placement/liquidate.html
2025-07-23 11:36:43,365 - ERROR - Exception on /placement/3/liquidate [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6596, in liquidate_placement
    return render_template('placement/liquidate.html', form=form, placement=placement)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: placement/liquidate.html
2025-07-23 11:36:43,400 - INFO - 127.0.0.1 - - [23/Jul/2025 11:36:43] "[35m[1mGET /placement/3/liquidate HTTP/1.1[0m" 500 -
2025-07-23 11:36:48,710 - INFO - 127.0.0.1 - - [23/Jul/2025 11:36:48] "GET /placements HTTP/1.1" 200 -
2025-07-23 11:36:51,780 - INFO - 127.0.0.1 - - [23/Jul/2025 11:36:51] "GET /placement/new HTTP/1.1" 200 -
2025-07-23 13:14:14,868 - INFO - 127.0.0.1 - - [23/Jul/2025 13:14:14] "GET /placements HTTP/1.1" 200 -
2025-07-23 13:14:19,644 - INFO - 127.0.0.1 - - [23/Jul/2025 13:14:19] "GET /placement/4 HTTP/1.1" 200 -
2025-07-23 13:14:20,979 - INFO - 127.0.0.1 - - [23/Jul/2025 13:14:20] "GET /placement/4/deposit HTTP/1.1" 200 -
2025-07-23 13:14:24,475 - INFO - 127.0.0.1 - - [23/Jul/2025 13:14:24] "GET /placement/4/withdraw HTTP/1.1" 200 -
2025-07-23 13:14:26,977 - INFO - 127.0.0.1 - - [23/Jul/2025 13:14:26] "GET /placement/4/change_rate HTTP/1.1" 200 -
2025-07-23 13:14:29,615 - INFO - The CSRF token is missing.
2025-07-23 13:14:29,619 - INFO - 127.0.0.1 - - [23/Jul/2025 13:14:29] "POST /placement/4/capitalize HTTP/1.1" 200 -
2025-07-23 13:14:32,562 - INFO - 127.0.0.1 - - [23/Jul/2025 13:14:32] "GET /placement/4/liquidate HTTP/1.1" 200 -
2025-07-23 13:14:42,318 - INFO - 127.0.0.1 - - [23/Jul/2025 13:14:42] "[32mPOST /placement/4/liquidate HTTP/1.1[0m" 302 -
2025-07-23 13:14:42,624 - INFO - 127.0.0.1 - - [23/Jul/2025 13:14:42] "GET /placement/4 HTTP/1.1" 200 -
2025-07-23 13:15:34,125 - INFO - 127.0.0.1 - - [23/Jul/2025 13:15:34] "GET /placement/4/schedule HTTP/1.1" 200 -
2025-07-23 13:15:36,553 - INFO - 127.0.0.1 - - [23/Jul/2025 13:15:36] "GET /placement/4 HTTP/1.1" 200 -
2025-07-23 13:17:13,638 - INFO - 127.0.0.1 - - [23/Jul/2025 13:17:13] "GET /placement/4/withdraw HTTP/1.1" 200 -
2025-07-23 13:17:24,387 - INFO - The CSRF token is missing.
2025-07-23 13:17:24,388 - INFO - 127.0.0.1 - - [23/Jul/2025 13:17:24] "POST /placement/4/capitalize HTTP/1.1" 200 -
2025-07-23 13:17:31,847 - INFO - 127.0.0.1 - - [23/Jul/2025 13:17:31] "GET /placements HTTP/1.1" 200 -
2025-07-23 13:17:59,740 - INFO - 127.0.0.1 - - [23/Jul/2025 13:17:59] "GET /placement/3 HTTP/1.1" 200 -
2025-07-23 13:18:06,149 - INFO - 127.0.0.1 - - [23/Jul/2025 13:18:06] "GET /placement/3/liquidate HTTP/1.1" 200 -
2025-07-23 13:18:07,509 - INFO - 127.0.0.1 - - [23/Jul/2025 13:18:07] "[32mPOST /placement/3/liquidate HTTP/1.1[0m" 302 -
2025-07-23 13:18:07,523 - INFO - 127.0.0.1 - - [23/Jul/2025 13:18:07] "GET /placement/3 HTTP/1.1" 200 -
2025-07-23 13:40:37,472 - INFO - Scheduler has been shut down
[2025-07-23 13:40:42,779] INFO in app: ==================================================
[2025-07-23 13:40:42,789] INFO in app: Application logging initialized successfully
[2025-07-23 13:40:42,792] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 13:40:42,794] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 13:40:42,799] INFO in app: System encoding: utf-8
[2025-07-23 13:40:42,801] INFO in app: ==================================================
2025-07-23 13:40:43,039 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 13:40:43,041 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 13:40:43,041 - INFO - Scheduler started
2025-07-23 13:40:43,062 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-23 13:40:43,063 - INFO - [33mPress CTRL+C to quit[0m
2025-07-23 13:40:50,353 - INFO - 127.0.0.1 - - [23/Jul/2025 13:40:50] "GET /placement/3 HTTP/1.1" 200 -
2025-07-23 13:40:51,408 - INFO - 127.0.0.1 - - [23/Jul/2025 13:40:51] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-23 13:40:57,148 - INFO - 127.0.0.1 - - [23/Jul/2025 13:40:57] "GET /placements HTTP/1.1" 200 -
2025-07-23 13:41:01,306 - INFO - 127.0.0.1 - - [23/Jul/2025 13:41:01] "GET /placement/2 HTTP/1.1" 200 -
2025-07-23 13:41:03,487 - INFO - 127.0.0.1 - - [23/Jul/2025 13:41:03] "GET /placement/2/deposit HTTP/1.1" 200 -
2025-07-23 13:41:07,061 - INFO - 127.0.0.1 - - [23/Jul/2025 13:41:07] "GET /placement/2/withdraw HTTP/1.1" 200 -
2025-07-23 13:41:11,943 - INFO - 127.0.0.1 - - [23/Jul/2025 13:41:11] "GET /placement/2/schedule HTTP/1.1" 200 -
2025-07-23 13:41:25,679 - INFO - 127.0.0.1 - - [23/Jul/2025 13:41:25] "GET /placements HTTP/1.1" 200 -
2025-07-23 13:41:27,528 - INFO - 127.0.0.1 - - [23/Jul/2025 13:41:27] "GET /placement/new HTTP/1.1" 200 -
2025-07-23 13:41:52,338 - INFO - 127.0.0.1 - - [23/Jul/2025 13:41:52] "[32mPOST /placement/new HTTP/1.1[0m" 302 -
2025-07-23 13:41:52,628 - INFO - 127.0.0.1 - - [23/Jul/2025 13:41:52] "GET /placement/5 HTTP/1.1" 200 -
2025-07-23 13:42:06,866 - INFO - 127.0.0.1 - - [23/Jul/2025 13:42:06] "GET /placement/5/schedule HTTP/1.1" 200 -
2025-07-23 13:42:48,674 - INFO - 127.0.0.1 - - [23/Jul/2025 13:42:48] "GET /placement/5 HTTP/1.1" 200 -
2025-07-23 13:42:53,739 - INFO - 127.0.0.1 - - [23/Jul/2025 13:42:53] "GET /placement/5/deposit HTTP/1.1" 200 -
2025-07-23 13:42:56,666 - INFO - 127.0.0.1 - - [23/Jul/2025 13:42:56] "GET /placements HTTP/1.1" 200 -
2025-07-23 13:42:58,072 - INFO - 127.0.0.1 - - [23/Jul/2025 13:42:58] "GET /placement/new HTTP/1.1" 200 -
2025-07-23 13:43:19,026 - INFO - 127.0.0.1 - - [23/Jul/2025 13:43:19] "[32mPOST /placement/new HTTP/1.1[0m" 302 -
2025-07-23 13:43:19,315 - INFO - 127.0.0.1 - - [23/Jul/2025 13:43:19] "GET /placement/6 HTTP/1.1" 200 -
2025-07-23 13:43:20,908 - INFO - 127.0.0.1 - - [23/Jul/2025 13:43:20] "GET /placement/6/schedule HTTP/1.1" 200 -
2025-07-23 13:43:49,147 - INFO - 127.0.0.1 - - [23/Jul/2025 13:43:49] "GET /placement/6 HTTP/1.1" 200 -
2025-07-23 13:46:41,892 - INFO - 127.0.0.1 - - [23/Jul/2025 13:46:41] "GET /placement/6 HTTP/1.1" 200 -
2025-07-23 13:46:51,526 - INFO - 127.0.0.1 - - [23/Jul/2025 13:46:51] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-23 13:46:54,302 - INFO - The CSRF token is missing.
2025-07-23 13:46:54,317 - INFO - 127.0.0.1 - - [23/Jul/2025 13:46:54] "POST /placement/6/capitalize HTTP/1.1" 200 -
2025-07-23 13:47:17,266 - INFO - The CSRF token is missing.
2025-07-23 13:47:17,267 - INFO - 127.0.0.1 - - [23/Jul/2025 13:47:17] "POST /placement/6/capitalize HTTP/1.1" 200 -
2025-07-23 13:47:21,331 - INFO - 127.0.0.1 - - [23/Jul/2025 13:47:21] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-23 13:47:29,247 - INFO - Scheduler has been shut down
[2025-07-23 13:47:34,125] INFO in app: ==================================================
[2025-07-23 13:47:34,133] INFO in app: Application logging initialized successfully
[2025-07-23 13:47:34,137] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 13:47:34,139] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 13:47:34,143] INFO in app: System encoding: utf-8
[2025-07-23 13:47:34,146] INFO in app: ==================================================
2025-07-23 13:47:34,367 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 13:47:34,369 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 13:47:34,369 - INFO - Scheduler started
2025-07-23 13:47:34,386 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-23 13:47:34,386 - INFO - [33mPress CTRL+C to quit[0m
2025-07-23 13:47:59,181 - INFO - 127.0.0.1 - - [23/Jul/2025 13:47:59] "GET /placement/6/capitalize HTTP/1.1" 200 -
2025-07-23 13:48:12,926 - INFO - 127.0.0.1 - - [23/Jul/2025 13:48:12] "[32mPOST /placement/6/capitalize HTTP/1.1[0m" 302 -
2025-07-23 13:48:12,955 - INFO - 127.0.0.1 - - [23/Jul/2025 13:48:12] "GET /placement/6 HTTP/1.1" 200 -
2025-07-23 13:48:24,204 - INFO - 127.0.0.1 - - [23/Jul/2025 13:48:24] "GET /placement/6/change_rate HTTP/1.1" 200 -
2025-07-23 13:49:07,380 - INFO - 127.0.0.1 - - [23/Jul/2025 13:49:07] "GET /placement/6/withdraw HTTP/1.1" 200 -
2025-07-23 13:49:11,955 - INFO - 127.0.0.1 - - [23/Jul/2025 13:49:11] "GET /placement/6/deposit HTTP/1.1" 200 -
2025-07-23 13:51:09,203 - INFO - 127.0.0.1 - - [23/Jul/2025 13:51:09] "[32mGET /arrears HTTP/1.1[0m" 302 -
2025-07-23 13:51:09,302 - INFO - 127.0.0.1 - - [23/Jul/2025 13:51:09] "GET /login?next=/arrears HTTP/1.1" 200 -
2025-07-23 13:51:09,540 - INFO - 127.0.0.1 - - [23/Jul/2025 13:51:09] "GET /static/img/logo.png HTTP/1.1" 200 -
2025-07-23 13:51:11,850 - INFO - 127.0.0.1 - - [23/Jul/2025 13:51:11] "[32mPOST /login?next=/arrears HTTP/1.1[0m" 302 -
2025-07-23 13:51:11,876 - INFO - 127.0.0.1 - - [23/Jul/2025 13:51:11] "GET / HTTP/1.1" 200 -
2025-07-23 13:51:15,987 - INFO - 127.0.0.1 - - [23/Jul/2025 13:51:15] "GET /arrears HTTP/1.1" 200 -
2025-07-23 13:51:31,609 - INFO - 127.0.0.1 - - [23/Jul/2025 13:51:31] "GET /arrears-trend HTTP/1.1" 200 -
2025-07-23 14:25:15,920 - INFO - Scheduler has been shut down
[2025-07-23 14:25:20,064] INFO in app: ==================================================
[2025-07-23 14:25:20,077] INFO in app: Application logging initialized successfully
[2025-07-23 14:25:20,082] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 14:25:20,086] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 14:25:20,093] INFO in app: System encoding: utf-8
[2025-07-23 14:25:20,095] INFO in app: ==================================================
2025-07-23 14:25:20,462 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 14:25:20,463 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 14:25:20,463 - INFO - Scheduler started
[2025-07-23 14:25:31,409] INFO in app: ==================================================
[2025-07-23 14:25:31,416] INFO in app: Application logging initialized successfully
[2025-07-23 14:25:31,418] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 14:25:31,420] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 14:25:31,423] INFO in app: System encoding: utf-8
[2025-07-23 14:25:31,426] INFO in app: ==================================================
2025-07-23 14:25:31,611 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 14:25:31,613 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 14:25:31,613 - INFO - Scheduler started
[2025-07-23 14:25:38,663] INFO in app: ==================================================
[2025-07-23 14:25:38,673] INFO in app: Application logging initialized successfully
[2025-07-23 14:25:38,675] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 14:25:38,682] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 14:25:38,690] INFO in app: System encoding: utf-8
[2025-07-23 14:25:38,700] INFO in app: ==================================================
2025-07-23 14:25:38,995 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 14:25:38,997 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 14:25:38,997 - INFO - Scheduler started
[2025-07-23 14:25:44,872] INFO in app: ==================================================
[2025-07-23 14:25:44,883] INFO in app: Application logging initialized successfully
[2025-07-23 14:25:44,885] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 14:25:44,886] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 14:25:44,888] INFO in app: System encoding: utf-8
[2025-07-23 14:25:44,900] INFO in app: ==================================================
2025-07-23 14:25:45,106 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 14:25:45,108 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 14:25:45,108 - INFO - Scheduler started
2025-07-23 14:25:45,125 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-23 14:25:45,125 - INFO - [33mPress CTRL+C to quit[0m
2025-07-23 14:34:58,401 - INFO - Scheduler has been shut down
[2025-07-23 14:35:01,644] INFO in app: ==================================================
[2025-07-23 14:35:01,650] INFO in app: Application logging initialized successfully
[2025-07-23 14:35:01,653] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 14:35:01,656] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 14:35:01,659] INFO in app: System encoding: utf-8
[2025-07-23 14:35:01,660] INFO in app: ==================================================
2025-07-23 14:35:01,839 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 14:35:01,840 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 14:35:01,840 - INFO - Scheduler started
2025-07-23 14:35:01,858 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-23 14:35:01,858 - INFO - [33mPress CTRL+C to quit[0m
2025-07-23 14:35:07,137 - INFO - 127.0.0.1 - - [23/Jul/2025 14:35:07] "GET /arrears-trend HTTP/1.1" 200 -
2025-07-23 14:35:08,525 - INFO - 127.0.0.1 - - [23/Jul/2025 14:35:08] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-23 14:35:10,876 - INFO - 127.0.0.1 - - [23/Jul/2025 14:35:10] "GET /placements HTTP/1.1" 200 -
2025-07-23 14:35:22,053 - INFO - 127.0.0.1 - - [23/Jul/2025 14:35:22] "GET /placement/5 HTTP/1.1" 200 -
2025-07-23 14:35:24,396 - INFO - 127.0.0.1 - - [23/Jul/2025 14:35:24] "GET /placement/5/schedule HTTP/1.1" 200 -
2025-07-23 14:35:28,396 - INFO - 127.0.0.1 - - [23/Jul/2025 14:35:28] "GET /placements HTTP/1.1" 200 -
[2025-07-23 14:35:30,436] ERROR in app: Exception on /placement/new [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6516, in new_placement
    form = PlacementForm()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\form.py", line 209, in __call__
    return type.__call__(cls, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_wtf\form.py", line 73, in __init__
    super().__init__(formdata=formdata, **kwargs)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\form.py", line 281, in __init__
    super().__init__(self._unbound_fields, meta=meta_obj, prefix=prefix)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\form.py", line 49, in __init__
    field = meta.bind_field(self, unbound_field, options)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\meta.py", line 28, in bind_field
    return unbound_field.bind(form=form, **options)
           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\fields\core.py", line 387, in bind
    return self.field_class(*self.args, **kw)
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\fields\choices.py", line 90, in __init__
    self.choices = choices if isinstance(choices, dict) else list(choices)
                                                             ~~~~^^^^^^^^^
TypeError: 'UnboundField' object is not iterable
2025-07-23 14:35:30,436 - ERROR - Exception on /placement/new [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6516, in new_placement
    form = PlacementForm()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\form.py", line 209, in __call__
    return type.__call__(cls, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_wtf\form.py", line 73, in __init__
    super().__init__(formdata=formdata, **kwargs)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\form.py", line 281, in __init__
    super().__init__(self._unbound_fields, meta=meta_obj, prefix=prefix)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\form.py", line 49, in __init__
    field = meta.bind_field(self, unbound_field, options)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\meta.py", line 28, in bind_field
    return unbound_field.bind(form=form, **options)
           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\fields\core.py", line 387, in bind
    return self.field_class(*self.args, **kw)
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\fields\choices.py", line 90, in __init__
    self.choices = choices if isinstance(choices, dict) else list(choices)
                                                             ~~~~^^^^^^^^^
TypeError: 'UnboundField' object is not iterable
2025-07-23 14:35:30,504 - INFO - 127.0.0.1 - - [23/Jul/2025 14:35:30] "[35m[1mGET /placement/new HTTP/1.1[0m" 500 -
2025-07-23 15:04:18,764 - INFO - Scheduler has been shut down
[2025-07-23 15:04:23,239] INFO in app: ==================================================
[2025-07-23 15:04:23,245] INFO in app: Application logging initialized successfully
[2025-07-23 15:04:23,248] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 15:04:23,250] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 15:04:23,252] INFO in app: System encoding: utf-8
[2025-07-23 15:04:23,257] INFO in app: ==================================================
2025-07-23 15:04:23,457 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 15:04:23,459 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 15:04:23,459 - INFO - Scheduler started
2025-07-23 15:04:23,475 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-23 15:04:23,475 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-23 15:04:30,130] ERROR in app: Exception on /placement/new [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6510, in new_placement
    form = PlacementForm()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\form.py", line 209, in __call__
    return type.__call__(cls, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_wtf\form.py", line 73, in __init__
    super().__init__(formdata=formdata, **kwargs)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\form.py", line 281, in __init__
    super().__init__(self._unbound_fields, meta=meta_obj, prefix=prefix)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\form.py", line 49, in __init__
    field = meta.bind_field(self, unbound_field, options)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\meta.py", line 28, in bind_field
    return unbound_field.bind(form=form, **options)
           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\fields\core.py", line 387, in bind
    return self.field_class(*self.args, **kw)
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\fields\choices.py", line 90, in __init__
    self.choices = choices if isinstance(choices, dict) else list(choices)
                                                             ~~~~^^^^^^^^^
TypeError: 'UnboundField' object is not iterable
2025-07-23 15:04:30,130 - ERROR - Exception on /placement/new [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6510, in new_placement
    form = PlacementForm()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\form.py", line 209, in __call__
    return type.__call__(cls, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_wtf\form.py", line 73, in __init__
    super().__init__(formdata=formdata, **kwargs)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\form.py", line 281, in __init__
    super().__init__(self._unbound_fields, meta=meta_obj, prefix=prefix)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\form.py", line 49, in __init__
    field = meta.bind_field(self, unbound_field, options)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\meta.py", line 28, in bind_field
    return unbound_field.bind(form=form, **options)
           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\fields\core.py", line 387, in bind
    return self.field_class(*self.args, **kw)
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\fields\choices.py", line 90, in __init__
    self.choices = choices if isinstance(choices, dict) else list(choices)
                                                             ~~~~^^^^^^^^^
TypeError: 'UnboundField' object is not iterable
2025-07-23 15:04:30,146 - INFO - 127.0.0.1 - - [23/Jul/2025 15:04:30] "[35m[1mGET /placement/new HTTP/1.1[0m" 500 -
2025-07-23 15:04:30,210 - INFO - 127.0.0.1 - - [23/Jul/2025 15:04:30] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-23 15:04:34,110 - INFO - 127.0.0.1 - - [23/Jul/2025 15:04:34] "GET /placements HTTP/1.1" 200 -
2025-07-23 15:04:36,120 - INFO - 127.0.0.1 - - [23/Jul/2025 15:04:36] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-23 15:04:38,858] ERROR in app: Exception on /placement/new [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6510, in new_placement
    form = PlacementForm()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\form.py", line 209, in __call__
    return type.__call__(cls, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_wtf\form.py", line 73, in __init__
    super().__init__(formdata=formdata, **kwargs)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\form.py", line 281, in __init__
    super().__init__(self._unbound_fields, meta=meta_obj, prefix=prefix)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\form.py", line 49, in __init__
    field = meta.bind_field(self, unbound_field, options)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\meta.py", line 28, in bind_field
    return unbound_field.bind(form=form, **options)
           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\fields\core.py", line 387, in bind
    return self.field_class(*self.args, **kw)
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\fields\choices.py", line 90, in __init__
    self.choices = choices if isinstance(choices, dict) else list(choices)
                                                             ~~~~^^^^^^^^^
TypeError: 'UnboundField' object is not iterable
2025-07-23 15:04:38,858 - ERROR - Exception on /placement/new [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6510, in new_placement
    form = PlacementForm()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\form.py", line 209, in __call__
    return type.__call__(cls, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_wtf\form.py", line 73, in __init__
    super().__init__(formdata=formdata, **kwargs)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\form.py", line 281, in __init__
    super().__init__(self._unbound_fields, meta=meta_obj, prefix=prefix)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\form.py", line 49, in __init__
    field = meta.bind_field(self, unbound_field, options)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\meta.py", line 28, in bind_field
    return unbound_field.bind(form=form, **options)
           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\fields\core.py", line 387, in bind
    return self.field_class(*self.args, **kw)
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\wtforms\fields\choices.py", line 90, in __init__
    self.choices = choices if isinstance(choices, dict) else list(choices)
                                                             ~~~~^^^^^^^^^
TypeError: 'UnboundField' object is not iterable
2025-07-23 15:04:38,876 - INFO - 127.0.0.1 - - [23/Jul/2025 15:04:38] "[35m[1mGET /placement/new HTTP/1.1[0m" 500 -
2025-07-23 15:23:33,300 - INFO - Scheduler has been shut down
[2025-07-23 15:23:36,914] INFO in app: ==================================================
[2025-07-23 15:23:36,921] INFO in app: Application logging initialized successfully
[2025-07-23 15:23:36,923] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 15:23:36,926] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 15:23:36,927] INFO in app: System encoding: utf-8
[2025-07-23 15:23:36,932] INFO in app: ==================================================
[2025-07-23 15:24:08,186] INFO in app: ==================================================
[2025-07-23 15:24:08,192] INFO in app: Application logging initialized successfully
[2025-07-23 15:24:08,195] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 15:24:08,197] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 15:24:08,199] INFO in app: System encoding: utf-8
[2025-07-23 15:24:08,206] INFO in app: ==================================================
[2025-07-23 15:25:50,223] INFO in app: ==================================================
[2025-07-23 15:25:50,229] INFO in app: Application logging initialized successfully
[2025-07-23 15:25:50,232] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 15:25:50,234] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 15:25:50,241] INFO in app: System encoding: utf-8
[2025-07-23 15:25:50,242] INFO in app: ==================================================
2025-07-23 15:25:50,591 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 15:25:50,593 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 15:25:50,593 - INFO - Scheduler started
2025-07-23 15:25:50,613 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-23 15:25:50,613 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-23 15:26:13,193] ERROR in app: Exception on /placement/new [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6552, in new_placement
    return render_template('placement/new.html', form=form)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\new.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\new.html", line 61, in block 'content'
    {{ form.payment_frequency.label(class="form-label") }}
    ^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 490, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'app.PlacementForm object' has no attribute 'payment_frequency'
2025-07-23 15:26:13,193 - ERROR - Exception on /placement/new [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6552, in new_placement
    return render_template('placement/new.html', form=form)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\new.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\new.html", line 61, in block 'content'
    {{ form.payment_frequency.label(class="form-label") }}
    ^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 490, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'app.PlacementForm object' has no attribute 'payment_frequency'
2025-07-23 15:26:13,222 - INFO - 127.0.0.1 - - [23/Jul/2025 15:26:13] "[35m[1mGET /placement/new HTTP/1.1[0m" 500 -
2025-07-23 15:26:13,283 - INFO - 127.0.0.1 - - [23/Jul/2025 15:26:13] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-23 15:26:17,406 - INFO - 127.0.0.1 - - [23/Jul/2025 15:26:17] "GET /placements HTTP/1.1" 200 -
2025-07-23 15:26:18,307 - INFO - 127.0.0.1 - - [23/Jul/2025 15:26:18] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-23 15:26:19,801] ERROR in app: Exception on /placement/new [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6552, in new_placement
    return render_template('placement/new.html', form=form)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\new.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\new.html", line 61, in block 'content'
    {{ form.payment_frequency.label(class="form-label") }}
    ^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 490, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'app.PlacementForm object' has no attribute 'payment_frequency'
2025-07-23 15:26:19,801 - ERROR - Exception on /placement/new [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6552, in new_placement
    return render_template('placement/new.html', form=form)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\new.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\new.html", line 61, in block 'content'
    {{ form.payment_frequency.label(class="form-label") }}
    ^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 490, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'app.PlacementForm object' has no attribute 'payment_frequency'
2025-07-23 15:26:19,814 - INFO - 127.0.0.1 - - [23/Jul/2025 15:26:19] "[35m[1mGET /placement/new HTTP/1.1[0m" 500 -
2025-07-23 15:34:03,020 - INFO - Scheduler has been shut down
[2025-07-23 15:34:06,593] INFO in app: ==================================================
[2025-07-23 15:34:06,599] INFO in app: Application logging initialized successfully
[2025-07-23 15:34:06,603] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 15:34:06,605] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 15:34:06,609] INFO in app: System encoding: utf-8
[2025-07-23 15:34:06,611] INFO in app: ==================================================
2025-07-23 15:34:06,803 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 15:34:06,804 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 15:34:06,804 - INFO - Scheduler started
2025-07-23 15:34:06,822 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-23 15:34:06,822 - INFO - [33mPress CTRL+C to quit[0m
2025-07-23 15:34:44,351 - INFO - 127.0.0.1 - - [23/Jul/2025 15:34:44] "GET /placements HTTP/1.1" 200 -
2025-07-23 15:34:45,519 - INFO - 127.0.0.1 - - [23/Jul/2025 15:34:45] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-23 15:34:47,443] ERROR in app: Exception on /placement/new [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6552, in new_placement
    return render_template('placement/new.html', form=form)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\new.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\new.html", line 61, in block 'content'
    {{ form.payment_frequency.label(class="form-label") }}
    ^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 490, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'app.PlacementForm object' has no attribute 'payment_frequency'
2025-07-23 15:34:47,443 - ERROR - Exception on /placement/new [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6552, in new_placement
    return render_template('placement/new.html', form=form)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\new.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\new.html", line 61, in block 'content'
    {{ form.payment_frequency.label(class="form-label") }}
    ^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 490, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'app.PlacementForm object' has no attribute 'payment_frequency'
2025-07-23 15:34:47,462 - INFO - 127.0.0.1 - - [23/Jul/2025 15:34:47] "[35m[1mGET /placement/new HTTP/1.1[0m" 500 -
2025-07-23 15:47:50,171 - INFO - Scheduler has been shut down
[2025-07-23 15:48:40,977] INFO in app: ==================================================
[2025-07-23 15:48:40,983] INFO in app: Application logging initialized successfully
[2025-07-23 15:48:40,986] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 15:48:40,990] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 15:48:40,995] INFO in app: System encoding: utf-8
[2025-07-23 15:48:40,998] INFO in app: ==================================================
2025-07-23 15:48:41,231 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 15:48:41,233 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 15:48:41,233 - INFO - Scheduler started
[2025-07-23 15:48:47,445] INFO in app: ==================================================
[2025-07-23 15:48:47,454] INFO in app: Application logging initialized successfully
[2025-07-23 15:48:47,457] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 15:48:47,459] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 15:48:47,462] INFO in app: System encoding: utf-8
[2025-07-23 15:48:47,465] INFO in app: ==================================================
2025-07-23 15:48:47,757 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 15:48:47,759 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 15:48:47,759 - INFO - Scheduler started
[2025-07-23 15:49:16,331] INFO in app: ==================================================
[2025-07-23 15:49:16,339] INFO in app: Application logging initialized successfully
[2025-07-23 15:49:16,341] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 15:49:16,346] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 15:49:16,349] INFO in app: System encoding: utf-8
[2025-07-23 15:49:16,353] INFO in app: ==================================================
2025-07-23 15:49:16,600 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 15:49:16,609 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 15:49:16,609 - INFO - Scheduler started
[2025-07-23 15:49:32,353] INFO in app: ==================================================
[2025-07-23 15:49:32,359] INFO in app: Application logging initialized successfully
[2025-07-23 15:49:32,361] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 15:49:32,363] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 15:49:32,365] INFO in app: System encoding: utf-8
[2025-07-23 15:49:32,369] INFO in app: ==================================================
2025-07-23 15:49:32,580 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 15:49:32,582 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 15:49:32,582 - INFO - Scheduler started
[2025-07-23 15:49:37,588] INFO in app: ==================================================
[2025-07-23 15:49:37,594] INFO in app: Application logging initialized successfully
[2025-07-23 15:49:37,596] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 15:49:37,598] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 15:49:37,605] INFO in app: System encoding: utf-8
[2025-07-23 15:49:37,616] INFO in app: ==================================================
2025-07-23 15:49:37,815 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 15:49:37,817 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 15:49:37,817 - INFO - Scheduler started
[2025-07-23 15:54:05,730] INFO in app: ==================================================
[2025-07-23 15:54:05,736] INFO in app: Application logging initialized successfully
[2025-07-23 15:54:05,738] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 15:54:05,741] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 15:54:05,743] INFO in app: System encoding: utf-8
[2025-07-23 15:54:05,749] INFO in app: ==================================================
2025-07-23 15:54:05,972 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 15:54:05,973 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 15:54:05,973 - INFO - Scheduler started
[2025-07-23 15:54:13,407] INFO in app: ==================================================
[2025-07-23 15:54:13,416] INFO in app: Application logging initialized successfully
[2025-07-23 15:54:13,418] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 15:54:13,420] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 15:54:13,422] INFO in app: System encoding: utf-8
[2025-07-23 15:54:13,427] INFO in app: ==================================================
2025-07-23 15:54:13,670 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 15:54:13,673 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 15:54:13,673 - INFO - Scheduler started
[2025-07-23 16:05:22,782] INFO in app: ==================================================
[2025-07-23 16:05:22,789] INFO in app: Application logging initialized successfully
[2025-07-23 16:05:22,791] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 16:05:22,793] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 16:05:22,796] INFO in app: System encoding: utf-8
[2025-07-23 16:05:22,803] INFO in app: ==================================================
2025-07-23 16:05:23,005 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 16:05:23,006 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 16:05:23,006 - INFO - Scheduler started
[2025-07-23 16:05:29,245] INFO in app: ==================================================
[2025-07-23 16:05:29,252] INFO in app: Application logging initialized successfully
[2025-07-23 16:05:29,254] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 16:05:29,256] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 16:05:29,262] INFO in app: System encoding: utf-8
[2025-07-23 16:05:29,265] INFO in app: ==================================================
2025-07-23 16:05:29,466 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 16:05:29,468 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 16:05:29,468 - INFO - Scheduler started
2025-07-23 16:05:29,487 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-23 16:05:29,487 - INFO - [33mPress CTRL+C to quit[0m
2025-07-23 16:05:36,724 - INFO - 127.0.0.1 - - [23/Jul/2025 16:05:36] "GET /placements HTTP/1.1" 200 -
2025-07-23 16:05:37,549 - INFO - 127.0.0.1 - - [23/Jul/2025 16:05:37] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-23 16:05:39,621 - INFO - 127.0.0.1 - - [23/Jul/2025 16:05:39] "GET /placement/new HTTP/1.1" 200 -
[2025-07-23 16:06:14,070] ERROR in app: Exception on /placement/new [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6562, in new_placement
    payment_frequency=form.payment_frequency.data,
                      ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'PlacementForm' object has no attribute 'payment_frequency'. Did you mean: 'payment_frequency_months'?
2025-07-23 16:06:14,070 - ERROR - Exception on /placement/new [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6562, in new_placement
    payment_frequency=form.payment_frequency.data,
                      ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'PlacementForm' object has no attribute 'payment_frequency'. Did you mean: 'payment_frequency_months'?
2025-07-23 16:06:14,089 - INFO - 127.0.0.1 - - [23/Jul/2025 16:06:14] "[35m[1mPOST /placement/new HTTP/1.1[0m" 500 -
[2025-07-23 16:07:17,248] ERROR in app: Exception on /placement/new [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6562, in new_placement
    payment_frequency=form.payment_frequency.data,
                      ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'PlacementForm' object has no attribute 'payment_frequency'. Did you mean: 'payment_frequency_months'?
2025-07-23 16:07:17,248 - ERROR - Exception on /placement/new [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6562, in new_placement
    payment_frequency=form.payment_frequency.data,
                      ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'PlacementForm' object has no attribute 'payment_frequency'. Did you mean: 'payment_frequency_months'?
2025-07-23 16:07:17,291 - INFO - 127.0.0.1 - - [23/Jul/2025 16:07:17] "[35m[1mPOST /placement/new HTTP/1.1[0m" 500 -
2025-07-23 16:12:09,248 - INFO - Scheduler has been shut down
[2025-07-23 16:12:13,072] INFO in app: ==================================================
[2025-07-23 16:12:13,078] INFO in app: Application logging initialized successfully
[2025-07-23 16:12:13,081] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 16:12:13,082] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 16:12:13,084] INFO in app: System encoding: utf-8
[2025-07-23 16:12:13,086] INFO in app: ==================================================
2025-07-23 16:12:13,478 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 16:12:13,479 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 16:12:13,479 - INFO - Scheduler started
2025-07-23 16:12:13,498 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-23 16:12:13,498 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-23 16:12:18,538] ERROR in app: Exception on /placement/new [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: NOT NULL constraint failed: placement.due_date

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6570, in new_placement
    db.session.commit()  # Get placement.id for FK
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 599, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: placement.due_date
[SQL: INSERT INTO placement (client_id, amount, interest_rate, interest_type, tenure_months, start_date, payment_frequency, commission_percentage, arrangement_fee, collateral, current_balance, status, last_interest_calculation, placement_number, interest_payment_frequency, due_date, interest_due, principal_due, total_due, is_paid) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (1, 4000000.0, 35.0, 'Simple', 6, '2025-07-23', 2, 0.0, 0.0, '', 4000000.0, 'Active', '2025-07-23', '0607250005', None, None, None, 0.0, None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-23 16:12:18,538 - ERROR - Exception on /placement/new [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: NOT NULL constraint failed: placement.due_date

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6570, in new_placement
    db.session.commit()  # Get placement.id for FK
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 599, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: placement.due_date
[SQL: INSERT INTO placement (client_id, amount, interest_rate, interest_type, tenure_months, start_date, payment_frequency, commission_percentage, arrangement_fee, collateral, current_balance, status, last_interest_calculation, placement_number, interest_payment_frequency, due_date, interest_due, principal_due, total_due, is_paid) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (1, 4000000.0, 35.0, 'Simple', 6, '2025-07-23', 2, 0.0, 0.0, '', 4000000.0, 'Active', '2025-07-23', '0607250005', None, None, None, 0.0, None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-23 16:12:18,652 - INFO - 127.0.0.1 - - [23/Jul/2025 16:12:18] "[35m[1mPOST /placement/new HTTP/1.1[0m" 500 -
2025-07-23 16:12:22,997 - INFO - 127.0.0.1 - - [23/Jul/2025 16:12:22] "GET /placement/new HTTP/1.1" 200 -
2025-07-23 16:12:23,980 - INFO - 127.0.0.1 - - [23/Jul/2025 16:12:23] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-23 16:13:27,908] ERROR in app: Exception on /placement/new [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: NOT NULL constraint failed: placement.due_date

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6570, in new_placement
    db.session.commit()  # Get placement.id for FK
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 599, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: placement.due_date
[SQL: INSERT INTO placement (client_id, amount, interest_rate, interest_type, tenure_months, start_date, payment_frequency, commission_percentage, arrangement_fee, collateral, current_balance, status, last_interest_calculation, placement_number, interest_payment_frequency, due_date, interest_due, principal_due, total_due, is_paid) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (1, 5500000.0, 37.5, 'Simple', 6, '2025-07-01', 2, 1.5, 0.0, '', 5500000.0, 'Active', '2025-07-23', '0607250005', None, None, None, 0.0, None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-23 16:13:27,908 - ERROR - Exception on /placement/new [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: NOT NULL constraint failed: placement.due_date

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6570, in new_placement
    db.session.commit()  # Get placement.id for FK
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 599, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: placement.due_date
[SQL: INSERT INTO placement (client_id, amount, interest_rate, interest_type, tenure_months, start_date, payment_frequency, commission_percentage, arrangement_fee, collateral, current_balance, status, last_interest_calculation, placement_number, interest_payment_frequency, due_date, interest_due, principal_due, total_due, is_paid) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (1, 5500000.0, 37.5, 'Simple', 6, '2025-07-01', 2, 1.5, 0.0, '', 5500000.0, 'Active', '2025-07-23', '0607250005', None, None, None, 0.0, None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-23 16:13:27,965 - INFO - 127.0.0.1 - - [23/Jul/2025 16:13:27] "[35m[1mPOST /placement/new HTTP/1.1[0m" 500 -
2025-07-23 16:16:31,001 - INFO - Scheduler has been shut down
[2025-07-23 16:16:34,687] INFO in app: ==================================================
[2025-07-23 16:16:34,693] INFO in app: Application logging initialized successfully
[2025-07-23 16:16:34,696] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 16:16:34,697] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 16:16:34,699] INFO in app: System encoding: utf-8
[2025-07-23 16:16:34,705] INFO in app: ==================================================
2025-07-23 16:16:35,075 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 16:16:35,076 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 16:16:35,077 - INFO - Scheduler started
2025-07-23 16:16:35,094 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-23 16:16:35,094 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-23 16:16:47,856] ERROR in app: Exception on /placement/new [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: NOT NULL constraint failed: placement.interest_due

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6571, in new_placement
    db.session.commit()  # Get placement.id for FK
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 599, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: placement.interest_due
[SQL: INSERT INTO placement (client_id, amount, interest_rate, interest_type, tenure_months, start_date, payment_frequency, commission_percentage, arrangement_fee, collateral, current_balance, status, last_interest_calculation, placement_number, interest_payment_frequency, due_date, interest_due, principal_due, total_due, is_paid) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (1, 5500000.0, 37.5, 'Simple', 6, '2025-07-01', 2, 1.5, 0.0, '', 5500000.0, 'Active', '2025-07-23', '0607250005', None, '2026-01-01', None, 0.0, None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-23 16:16:47,856 - ERROR - Exception on /placement/new [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: NOT NULL constraint failed: placement.interest_due

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6571, in new_placement
    db.session.commit()  # Get placement.id for FK
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 599, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: placement.interest_due
[SQL: INSERT INTO placement (client_id, amount, interest_rate, interest_type, tenure_months, start_date, payment_frequency, commission_percentage, arrangement_fee, collateral, current_balance, status, last_interest_calculation, placement_number, interest_payment_frequency, due_date, interest_due, principal_due, total_due, is_paid) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (1, 5500000.0, 37.5, 'Simple', 6, '2025-07-01', 2, 1.5, 0.0, '', 5500000.0, 'Active', '2025-07-23', '0607250005', None, '2026-01-01', None, 0.0, None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-23 16:16:47,957 - INFO - 127.0.0.1 - - [23/Jul/2025 16:16:47] "[35m[1mPOST /placement/new HTTP/1.1[0m" 500 -
2025-07-23 16:16:50,271 - INFO - 127.0.0.1 - - [23/Jul/2025 16:16:50] "GET /placement/new HTTP/1.1" 200 -
2025-07-23 16:16:51,156 - INFO - 127.0.0.1 - - [23/Jul/2025 16:16:51] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-23 16:17:10,048] ERROR in app: Exception on /placement/new [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: NOT NULL constraint failed: placement.interest_due

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6571, in new_placement
    db.session.commit()  # Get placement.id for FK
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 599, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: placement.interest_due
[SQL: INSERT INTO placement (client_id, amount, interest_rate, interest_type, tenure_months, start_date, payment_frequency, commission_percentage, arrangement_fee, collateral, current_balance, status, last_interest_calculation, placement_number, interest_payment_frequency, due_date, interest_due, principal_due, total_due, is_paid) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (1, 5500000.0, 37.5, 'Simple', 6, '2025-07-23', 2, 1.5, 0.0, '', 5500000.0, 'Active', '2025-07-23', '0607250005', None, '2026-01-23', None, 0.0, None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-23 16:17:10,048 - ERROR - Exception on /placement/new [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: NOT NULL constraint failed: placement.interest_due

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6571, in new_placement
    db.session.commit()  # Get placement.id for FK
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 599, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: placement.interest_due
[SQL: INSERT INTO placement (client_id, amount, interest_rate, interest_type, tenure_months, start_date, payment_frequency, commission_percentage, arrangement_fee, collateral, current_balance, status, last_interest_calculation, placement_number, interest_payment_frequency, due_date, interest_due, principal_due, total_due, is_paid) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (1, 5500000.0, 37.5, 'Simple', 6, '2025-07-23', 2, 1.5, 0.0, '', 5500000.0, 'Active', '2025-07-23', '0607250005', None, '2026-01-23', None, 0.0, None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-23 16:17:10,087 - INFO - 127.0.0.1 - - [23/Jul/2025 16:17:10] "[35m[1mPOST /placement/new HTTP/1.1[0m" 500 -
[2025-07-23 16:17:16,935] ERROR in app: Exception on /placement/new [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: NOT NULL constraint failed: placement.interest_due

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6571, in new_placement
    db.session.commit()  # Get placement.id for FK
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 599, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: placement.interest_due
[SQL: INSERT INTO placement (client_id, amount, interest_rate, interest_type, tenure_months, start_date, payment_frequency, commission_percentage, arrangement_fee, collateral, current_balance, status, last_interest_calculation, placement_number, interest_payment_frequency, due_date, interest_due, principal_due, total_due, is_paid) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (1, 5500000.0, 37.5, 'Simple', 6, '2025-07-23', 2, 0.0, 0.0, '', 5500000.0, 'Active', '2025-07-23', '0607250005', None, '2026-01-23', None, 0.0, None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-23 16:17:16,935 - ERROR - Exception on /placement/new [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: NOT NULL constraint failed: placement.interest_due

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6571, in new_placement
    db.session.commit()  # Get placement.id for FK
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 599, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: placement.interest_due
[SQL: INSERT INTO placement (client_id, amount, interest_rate, interest_type, tenure_months, start_date, payment_frequency, commission_percentage, arrangement_fee, collateral, current_balance, status, last_interest_calculation, placement_number, interest_payment_frequency, due_date, interest_due, principal_due, total_due, is_paid) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (1, 5500000.0, 37.5, 'Simple', 6, '2025-07-23', 2, 0.0, 0.0, '', 5500000.0, 'Active', '2025-07-23', '0607250005', None, '2026-01-23', None, 0.0, None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-23 16:17:16,996 - INFO - 127.0.0.1 - - [23/Jul/2025 16:17:16] "[35m[1mPOST /placement/new HTTP/1.1[0m" 500 -
2025-07-23 16:41:14,076 - INFO - Scheduler has been shut down
[2025-07-23 16:41:17,883] INFO in app: ==================================================
[2025-07-23 16:41:17,889] INFO in app: Application logging initialized successfully
[2025-07-23 16:41:17,892] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 16:41:17,895] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 16:41:17,899] INFO in app: System encoding: utf-8
[2025-07-23 16:41:17,900] INFO in app: ==================================================
2025-07-23 16:41:18,103 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 16:41:18,105 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 16:41:18,105 - INFO - Scheduler started
[2025-07-23 16:41:22,747] INFO in app: ==================================================
[2025-07-23 16:41:22,753] INFO in app: Application logging initialized successfully
[2025-07-23 16:41:22,756] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 16:41:22,757] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 16:41:22,759] INFO in app: System encoding: utf-8
[2025-07-23 16:41:22,764] INFO in app: ==================================================
2025-07-23 16:41:22,963 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 16:41:22,964 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 16:41:22,964 - INFO - Scheduler started
2025-07-23 16:41:22,981 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-23 16:41:22,981 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-23 16:41:29,216] ERROR in app: Exception on /placement/new [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: NOT NULL constraint failed: placement.interest_due

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6571, in new_placement
    db.session.commit()  # Get placement.id for FK
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 599, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: placement.interest_due
[SQL: INSERT INTO placement (client_id, amount, interest_rate, interest_type, tenure_months, start_date, payment_frequency, commission_percentage, arrangement_fee, collateral, current_balance, status, last_interest_calculation, placement_number, interest_payment_frequency, due_date, interest_due, principal_due, total_due, is_paid) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (1, 5500000.0, 37.5, 'Simple', 6, '2025-07-23', 2, 0.0, 0.0, '', 5500000.0, 'Active', '2025-07-23', '0607250005', None, '2026-01-23', None, 0.0, None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-23 16:41:29,216 - ERROR - Exception on /placement/new [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: NOT NULL constraint failed: placement.interest_due

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6571, in new_placement
    db.session.commit()  # Get placement.id for FK
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 599, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: placement.interest_due
[SQL: INSERT INTO placement (client_id, amount, interest_rate, interest_type, tenure_months, start_date, payment_frequency, commission_percentage, arrangement_fee, collateral, current_balance, status, last_interest_calculation, placement_number, interest_payment_frequency, due_date, interest_due, principal_due, total_due, is_paid) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (1, 5500000.0, 37.5, 'Simple', 6, '2025-07-23', 2, 0.0, 0.0, '', 5500000.0, 'Active', '2025-07-23', '0607250005', None, '2026-01-23', None, 0.0, None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-23 16:41:29,277 - INFO - 127.0.0.1 - - [23/Jul/2025 16:41:29] "[35m[1mPOST /placement/new HTTP/1.1[0m" 500 -
2025-07-23 16:41:29,330 - INFO - 127.0.0.1 - - [23/Jul/2025 16:41:29] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-23 16:41:33,908] ERROR in app: Exception on /placement/new [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: NOT NULL constraint failed: placement.interest_due

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6571, in new_placement
    db.session.commit()  # Get placement.id for FK
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 599, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: placement.interest_due
[SQL: INSERT INTO placement (client_id, amount, interest_rate, interest_type, tenure_months, start_date, payment_frequency, commission_percentage, arrangement_fee, collateral, current_balance, status, last_interest_calculation, placement_number, interest_payment_frequency, due_date, interest_due, principal_due, total_due, is_paid) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (1, 5500000.0, 37.5, 'Simple', 6, '2025-07-23', 2, 0.0, 0.0, '', 5500000.0, 'Active', '2025-07-23', '0607250005', None, '2026-01-23', None, 0.0, None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-23 16:41:33,908 - ERROR - Exception on /placement/new [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: NOT NULL constraint failed: placement.interest_due

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6571, in new_placement
    db.session.commit()  # Get placement.id for FK
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 599, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: placement.interest_due
[SQL: INSERT INTO placement (client_id, amount, interest_rate, interest_type, tenure_months, start_date, payment_frequency, commission_percentage, arrangement_fee, collateral, current_balance, status, last_interest_calculation, placement_number, interest_payment_frequency, due_date, interest_due, principal_due, total_due, is_paid) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (1, 5500000.0, 37.5, 'Simple', 6, '2025-07-23', 2, 0.0, 0.0, '', 5500000.0, 'Active', '2025-07-23', '0607250005', None, '2026-01-23', None, 0.0, None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-23 16:41:33,975 - INFO - 127.0.0.1 - - [23/Jul/2025 16:41:33] "[35m[1mPOST /placement/new HTTP/1.1[0m" 500 -
2025-07-23 16:44:26,707 - INFO - Scheduler has been shut down
[2025-07-23 16:44:30,392] INFO in app: ==================================================
[2025-07-23 16:44:30,397] INFO in app: Application logging initialized successfully
[2025-07-23 16:44:30,400] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 16:44:30,402] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 16:44:30,408] INFO in app: System encoding: utf-8
[2025-07-23 16:44:30,410] INFO in app: ==================================================
2025-07-23 16:44:30,647 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 16:44:30,648 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 16:44:30,648 - INFO - Scheduler started
[2025-07-23 16:44:35,988] INFO in app: ==================================================
[2025-07-23 16:44:35,995] INFO in app: Application logging initialized successfully
[2025-07-23 16:44:35,997] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 16:44:35,999] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 16:44:36,001] INFO in app: System encoding: utf-8
[2025-07-23 16:44:36,007] INFO in app: ==================================================
2025-07-23 16:44:36,228 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 16:44:36,229 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 16:44:36,229 - INFO - Scheduler started
[2025-07-23 16:44:40,461] INFO in app: ==================================================
[2025-07-23 16:44:40,467] INFO in app: Application logging initialized successfully
[2025-07-23 16:44:40,470] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 16:44:40,472] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 16:44:40,474] INFO in app: System encoding: utf-8
[2025-07-23 16:44:40,476] INFO in app: ==================================================
2025-07-23 16:44:40,700 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 16:44:40,702 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 16:44:40,702 - INFO - Scheduler started
2025-07-23 16:44:40,719 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-23 16:44:40,719 - INFO - [33mPress CTRL+C to quit[0m
2025-07-23 16:45:07,643 - INFO - Scheduler has been shut down
[2025-07-23 16:45:11,720] INFO in app: ==================================================
[2025-07-23 16:45:11,731] INFO in app: Application logging initialized successfully
[2025-07-23 16:45:11,733] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 16:45:11,736] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 16:45:11,746] INFO in app: System encoding: utf-8
[2025-07-23 16:45:11,748] INFO in app: ==================================================
2025-07-23 16:45:12,031 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 16:45:12,032 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 16:45:12,033 - INFO - Scheduler started
2025-07-23 16:45:12,056 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-23 16:45:12,056 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-23 16:45:17,430] ERROR in app: Exception on /placement/new [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6574, in new_placement
    schedule = generate_placement_schedule(placement)
  File "C:\Users\pc\loan-app\app.py", line 6481, in generate_placement_schedule
    frequency = placement.payment_frequency_months
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Placement' object has no attribute 'payment_frequency_months'. Did you mean: 'payment_frequency'?
2025-07-23 16:45:17,430 - ERROR - Exception on /placement/new [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6574, in new_placement
    schedule = generate_placement_schedule(placement)
  File "C:\Users\pc\loan-app\app.py", line 6481, in generate_placement_schedule
    frequency = placement.payment_frequency_months
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Placement' object has no attribute 'payment_frequency_months'. Did you mean: 'payment_frequency'?
2025-07-23 16:45:17,448 - INFO - 127.0.0.1 - - [23/Jul/2025 16:45:17] "[35m[1mPOST /placement/new HTTP/1.1[0m" 500 -
2025-07-23 16:51:47,984 - INFO - Scheduler has been shut down
[2025-07-23 16:52:15,848] INFO in app: ==================================================
[2025-07-23 16:52:15,854] INFO in app: Application logging initialized successfully
[2025-07-23 16:52:15,856] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 16:52:15,859] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 16:52:15,868] INFO in app: System encoding: utf-8
[2025-07-23 16:52:15,872] INFO in app: ==================================================
2025-07-23 16:52:16,075 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 16:52:16,077 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 16:52:16,077 - INFO - Scheduler started
[2025-07-23 16:52:21,204] INFO in app: ==================================================
[2025-07-23 16:52:21,214] INFO in app: Application logging initialized successfully
[2025-07-23 16:52:21,216] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 16:52:21,218] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 16:52:21,221] INFO in app: System encoding: utf-8
[2025-07-23 16:52:21,223] INFO in app: ==================================================
2025-07-23 16:52:21,535 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 16:52:21,537 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 16:52:21,537 - INFO - Scheduler started
[2025-07-23 16:58:20,315] INFO in app: ==================================================
[2025-07-23 16:58:20,321] INFO in app: Application logging initialized successfully
[2025-07-23 16:58:20,324] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 16:58:20,326] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 16:58:20,329] INFO in app: System encoding: utf-8
[2025-07-23 16:58:20,333] INFO in app: ==================================================
2025-07-23 16:58:20,551 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 16:58:20,553 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 16:58:20,553 - INFO - Scheduler started
[2025-07-23 16:58:44,957] INFO in app: ==================================================
[2025-07-23 16:58:44,963] INFO in app: Application logging initialized successfully
[2025-07-23 16:58:44,966] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 16:58:44,968] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 16:58:44,970] INFO in app: System encoding: utf-8
[2025-07-23 16:58:44,972] INFO in app: ==================================================
2025-07-23 16:58:45,187 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 16:58:45,188 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 16:58:45,189 - INFO - Scheduler started
[2025-07-23 17:01:53,798] INFO in app: ==================================================
[2025-07-23 17:01:53,804] INFO in app: Application logging initialized successfully
[2025-07-23 17:01:53,806] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 17:01:53,808] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 17:01:53,811] INFO in app: System encoding: utf-8
[2025-07-23 17:01:53,815] INFO in app: ==================================================
2025-07-23 17:01:54,025 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 17:01:54,027 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 17:01:54,027 - INFO - Scheduler started
[2025-07-23 17:02:56,079] INFO in app: ==================================================
[2025-07-23 17:02:56,085] INFO in app: Application logging initialized successfully
[2025-07-23 17:02:56,087] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 17:02:56,089] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 17:02:56,092] INFO in app: System encoding: utf-8
[2025-07-23 17:02:56,098] INFO in app: ==================================================
2025-07-23 17:02:56,308 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 17:02:56,309 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 17:02:56,309 - INFO - Scheduler started
[2025-07-23 17:03:50,235] INFO in app: ==================================================
[2025-07-23 17:03:50,241] INFO in app: Application logging initialized successfully
[2025-07-23 17:03:50,246] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 17:03:50,247] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 17:03:50,249] INFO in app: System encoding: utf-8
[2025-07-23 17:03:50,251] INFO in app: ==================================================
2025-07-23 17:03:50,459 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 17:03:50,461 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 17:03:50,461 - INFO - Scheduler started
2025-07-23 17:03:50,502 - INFO - Scheduler has been shut down
[2025-07-23 17:04:32,982] INFO in app: ==================================================
[2025-07-23 17:04:32,987] INFO in app: Application logging initialized successfully
[2025-07-23 17:04:32,989] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 17:04:32,992] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 17:04:32,994] INFO in app: System encoding: utf-8
[2025-07-23 17:04:32,999] INFO in app: ==================================================
2025-07-23 17:04:33,233 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 17:04:33,235 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 17:04:33,235 - INFO - Scheduler started
[2025-07-23 17:08:18,702] INFO in app: ==================================================
[2025-07-23 17:08:18,709] INFO in app: Application logging initialized successfully
[2025-07-23 17:08:18,711] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 17:08:18,713] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 17:08:18,715] INFO in app: System encoding: utf-8
[2025-07-23 17:08:18,716] INFO in app: ==================================================
2025-07-23 17:08:18,936 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 17:08:18,938 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 17:08:18,938 - INFO - Scheduler started
2025-07-23 17:08:18,976 - INFO - Scheduler has been shut down
[2025-07-23 17:08:58,961] INFO in app: ==================================================
[2025-07-23 17:08:58,967] INFO in app: Application logging initialized successfully
[2025-07-23 17:08:58,969] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 17:08:58,971] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 17:08:58,978] INFO in app: System encoding: utf-8
[2025-07-23 17:08:58,980] INFO in app: ==================================================
2025-07-23 17:08:59,191 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 17:08:59,192 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 17:08:59,192 - INFO - Scheduler started
[2025-07-23 17:09:07,913] INFO in app: ==================================================
[2025-07-23 17:09:07,923] INFO in app: Application logging initialized successfully
[2025-07-23 17:09:07,924] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 17:09:07,926] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 17:09:07,929] INFO in app: System encoding: utf-8
[2025-07-23 17:09:07,932] INFO in app: ==================================================
2025-07-23 17:09:08,142 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 17:09:08,143 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 17:09:08,143 - INFO - Scheduler started
[2025-07-23 17:09:21,119] INFO in app: ==================================================
[2025-07-23 17:09:21,125] INFO in app: Application logging initialized successfully
[2025-07-23 17:09:21,127] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 17:09:21,130] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 17:09:21,137] INFO in app: System encoding: utf-8
[2025-07-23 17:09:21,139] INFO in app: ==================================================
2025-07-23 17:09:21,350 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 17:09:21,352 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 17:09:21,352 - INFO - Scheduler started
2025-07-23 17:09:21,408 - INFO - Scheduler has been shut down
[2025-07-23 17:09:34,966] INFO in app: ==================================================
[2025-07-23 17:09:34,972] INFO in app: Application logging initialized successfully
[2025-07-23 17:09:34,974] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 17:09:34,976] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 17:09:34,984] INFO in app: System encoding: utf-8
[2025-07-23 17:09:34,986] INFO in app: ==================================================
2025-07-23 17:09:35,191 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 17:09:35,192 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 17:09:35,192 - INFO - Scheduler started
2025-07-23 17:09:35,387 - INFO - Scheduler has been shut down
[2025-07-23 17:09:43,728] INFO in app: ==================================================
[2025-07-23 17:09:43,734] INFO in app: Application logging initialized successfully
[2025-07-23 17:09:43,736] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 17:09:43,739] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 17:09:43,744] INFO in app: System encoding: utf-8
[2025-07-23 17:09:43,748] INFO in app: ==================================================
2025-07-23 17:09:43,953 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 17:09:43,955 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 17:09:43,955 - INFO - Scheduler started
2025-07-23 17:09:43,971 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-23 17:09:43,971 - INFO - [33mPress CTRL+C to quit[0m
2025-07-23 17:09:49,655 - INFO - 127.0.0.1 - - [23/Jul/2025 17:09:49] "POST /placement/new HTTP/1.1" 200 -
2025-07-23 17:21:28,334 - INFO - Scheduler has been shut down
[2025-07-23 17:21:32,255] INFO in app: ==================================================
[2025-07-23 17:21:32,261] INFO in app: Application logging initialized successfully
[2025-07-23 17:21:32,263] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 17:21:32,265] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 17:21:32,266] INFO in app: System encoding: utf-8
[2025-07-23 17:21:32,274] INFO in app: ==================================================
2025-07-23 17:21:32,482 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 17:21:32,483 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 17:21:32,483 - INFO - Scheduler started
2025-07-23 17:21:32,503 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-23 17:21:32,503 - INFO - [33mPress CTRL+C to quit[0m
2025-07-23 17:21:40,739 - INFO - The CSRF token has expired.
2025-07-23 17:21:40,783 - INFO - 127.0.0.1 - - [23/Jul/2025 17:21:40] "POST /placement/new HTTP/1.1" 200 -
2025-07-23 17:21:41,773 - INFO - 127.0.0.1 - - [23/Jul/2025 17:21:41] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-23 17:21:43,455] ERROR in app: Exception on /placements [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such column: placement.payment_frequency_months

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6702, in view_placements
    placements = placements.all()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2858, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: placement.payment_frequency_months
[SQL: SELECT placement.id AS placement_id, placement.client_id AS placement_client_id, placement.amount AS placement_amount, placement.interest_rate AS placement_interest_rate, placement.interest_type AS placement_interest_type, placement.tenure_months AS placement_tenure_months, placement.start_date AS placement_start_date, placement.payment_frequency AS placement_payment_frequency, placement.commission_percentage AS placement_commission_percentage, placement.arrangement_fee AS placement_arrangement_fee, placement.collateral AS placement_collateral, placement.current_balance AS placement_current_balance, placement.status AS placement_status, placement.last_interest_calculation AS placement_last_interest_calculation, placement.placement_number AS placement_placement_number, placement.interest_payment_frequency AS placement_interest_payment_frequency, placement.payment_frequency_months AS placement_payment_frequency_months, placement.due_date AS placement_due_date, placement.interest_due AS placement_interest_due, placement.principal_due AS placement_principal_due, placement.total_due AS placement_total_due, placement.is_paid AS placement_is_paid 
FROM placement]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-23 17:21:43,455 - ERROR - Exception on /placements [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such column: placement.payment_frequency_months

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6702, in view_placements
    placements = placements.all()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2858, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: placement.payment_frequency_months
[SQL: SELECT placement.id AS placement_id, placement.client_id AS placement_client_id, placement.amount AS placement_amount, placement.interest_rate AS placement_interest_rate, placement.interest_type AS placement_interest_type, placement.tenure_months AS placement_tenure_months, placement.start_date AS placement_start_date, placement.payment_frequency AS placement_payment_frequency, placement.commission_percentage AS placement_commission_percentage, placement.arrangement_fee AS placement_arrangement_fee, placement.collateral AS placement_collateral, placement.current_balance AS placement_current_balance, placement.status AS placement_status, placement.last_interest_calculation AS placement_last_interest_calculation, placement.placement_number AS placement_placement_number, placement.interest_payment_frequency AS placement_interest_payment_frequency, placement.payment_frequency_months AS placement_payment_frequency_months, placement.due_date AS placement_due_date, placement.interest_due AS placement_interest_due, placement.principal_due AS placement_principal_due, placement.total_due AS placement_total_due, placement.is_paid AS placement_is_paid 
FROM placement]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-23 17:21:43,534 - INFO - 127.0.0.1 - - [23/Jul/2025 17:21:43] "[35m[1mGET /placements HTTP/1.1[0m" 500 -
2025-07-23 17:22:41,229 - INFO - Scheduler has been shut down
[2025-07-23 17:22:44,464] INFO in app: ==================================================
[2025-07-23 17:22:44,470] INFO in app: Application logging initialized successfully
[2025-07-23 17:22:44,472] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 17:22:44,474] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 17:22:44,476] INFO in app: System encoding: utf-8
[2025-07-23 17:22:44,483] INFO in app: ==================================================
2025-07-23 17:22:44,702 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 17:22:44,704 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 17:22:44,704 - INFO - Scheduler started
[2025-07-23 17:22:53,697] INFO in app: ==================================================
[2025-07-23 17:22:53,706] INFO in app: Application logging initialized successfully
[2025-07-23 17:22:53,709] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 17:22:53,711] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 17:22:53,714] INFO in app: System encoding: utf-8
[2025-07-23 17:22:53,719] INFO in app: ==================================================
2025-07-23 17:22:53,926 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 17:22:53,927 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 17:22:53,927 - INFO - Scheduler started
[2025-07-23 17:22:58,100] INFO in app: ==================================================
[2025-07-23 17:22:58,107] INFO in app: Application logging initialized successfully
[2025-07-23 17:22:58,109] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 17:22:58,112] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 17:22:58,115] INFO in app: System encoding: utf-8
[2025-07-23 17:22:58,119] INFO in app: ==================================================
2025-07-23 17:22:58,332 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 17:22:58,333 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 17:22:58,333 - INFO - Scheduler started
2025-07-23 17:22:58,357 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-23 17:22:58,357 - INFO - [33mPress CTRL+C to quit[0m
2025-07-23 17:23:03,689 - INFO - The CSRF token has expired.
2025-07-23 17:23:03,730 - INFO - 127.0.0.1 - - [23/Jul/2025 17:23:03] "POST /placement/new HTTP/1.1" 200 -
2025-07-23 17:23:04,532 - INFO - 127.0.0.1 - - [23/Jul/2025 17:23:04] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-23 17:23:06,608 - INFO - 127.0.0.1 - - [23/Jul/2025 17:23:06] "GET /placements HTTP/1.1" 200 -
2025-07-23 17:23:10,829 - INFO - 127.0.0.1 - - [23/Jul/2025 17:23:10] "GET /add-client HTTP/1.1" 200 -
[2025-07-23 18:33:00,115] INFO in app: ==================================================
[2025-07-23 18:33:00,188] INFO in app: Application logging initialized successfully
[2025-07-23 18:33:00,189] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 18:33:00,191] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 18:33:00,194] INFO in app: System encoding: utf-8
[2025-07-23 18:33:00,197] INFO in app: ==================================================
2025-07-23 18:33:00,586 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 18:33:00,587 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 18:33:00,588 - INFO - Scheduler started
2025-07-23 18:33:00,634 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-23 18:33:00,635 - INFO - [33mPress CTRL+C to quit[0m
2025-07-23 18:33:05,071 - INFO - 127.0.0.1 - - [23/Jul/2025 18:33:05] "GET /add-client HTTP/1.1" 200 -
2025-07-23 18:33:06,145 - INFO - 127.0.0.1 - - [23/Jul/2025 18:33:06] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-23 18:33:31,922 - INFO - 127.0.0.1 - - [23/Jul/2025 18:33:31] "[32mPOST /add-client HTTP/1.1[0m" 302 -
2025-07-23 18:33:32,127 - INFO - 127.0.0.1 - - [23/Jul/2025 18:33:32] "GET /add-client HTTP/1.1" 200 -
2025-07-23 18:33:35,197 - INFO - 127.0.0.1 - - [23/Jul/2025 18:33:35] "GET /placements HTTP/1.1" 200 -
2025-07-23 18:33:37,875 - INFO - 127.0.0.1 - - [23/Jul/2025 18:33:37] "GET /placement/new HTTP/1.1" 200 -
[2025-07-23 18:33:53,380] ERROR in app: Exception on /placement/new [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: NOT NULL constraint failed: placement.interest_due

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6572, in new_placement
    db.session.commit()  # Get placement.id for FK
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 599, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: placement.interest_due
[SQL: INSERT INTO placement (client_id, amount, interest_rate, interest_type, tenure_months, start_date, payment_frequency, commission_percentage, arrangement_fee, collateral, current_balance, status, last_interest_calculation, placement_number, interest_payment_frequency, payment_frequency_months, due_date, interest_due, principal_due, total_due, is_paid) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (1, 5500000.0, 37.5, 'Simple', 6, '2025-07-23', 2, 0.0, 0.0, '', 5500000.0, 'Active', '2025-07-23', '0607250001', None, None, '2026-01-23', None, 0.0, None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-23 18:33:53,380 - ERROR - Exception on /placement/new [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: NOT NULL constraint failed: placement.interest_due

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6572, in new_placement
    db.session.commit()  # Get placement.id for FK
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 599, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: placement.interest_due
[SQL: INSERT INTO placement (client_id, amount, interest_rate, interest_type, tenure_months, start_date, payment_frequency, commission_percentage, arrangement_fee, collateral, current_balance, status, last_interest_calculation, placement_number, interest_payment_frequency, payment_frequency_months, due_date, interest_due, principal_due, total_due, is_paid) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (1, 5500000.0, 37.5, 'Simple', 6, '2025-07-23', 2, 0.0, 0.0, '', 5500000.0, 'Active', '2025-07-23', '0607250001', None, None, '2026-01-23', None, 0.0, None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-23 18:33:53,547 - INFO - 127.0.0.1 - - [23/Jul/2025 18:33:53] "[35m[1mPOST /placement/new HTTP/1.1[0m" 500 -
2025-07-23 18:38:36,810 - INFO - Scheduler has been shut down
[2025-07-23 18:41:57,844] INFO in app: ==================================================
[2025-07-23 18:41:57,849] INFO in app: Application logging initialized successfully
[2025-07-23 18:41:57,851] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 18:41:57,853] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 18:41:57,855] INFO in app: System encoding: utf-8
[2025-07-23 18:41:57,860] INFO in app: ==================================================
2025-07-23 18:41:58,053 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 18:41:58,055 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 18:41:58,055 - INFO - Scheduler started
[2025-07-23 18:42:06,968] INFO in app: ==================================================
[2025-07-23 18:42:06,974] INFO in app: Application logging initialized successfully
[2025-07-23 18:42:06,976] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 18:42:06,978] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 18:42:06,980] INFO in app: System encoding: utf-8
[2025-07-23 18:42:06,983] INFO in app: ==================================================
2025-07-23 18:42:07,192 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 18:42:07,193 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 18:42:07,193 - INFO - Scheduler started
[2025-07-23 18:42:11,884] INFO in app: ==================================================
[2025-07-23 18:42:11,890] INFO in app: Application logging initialized successfully
[2025-07-23 18:42:11,892] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 18:42:11,894] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 18:42:11,895] INFO in app: System encoding: utf-8
[2025-07-23 18:42:11,898] INFO in app: ==================================================
2025-07-23 18:42:12,083 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 18:42:12,085 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 18:42:12,085 - INFO - Scheduler started
2025-07-23 18:42:12,105 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-23 18:42:12,105 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-23 18:42:20,090] ERROR in app: Exception on /placement/new [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6575, in new_placement
    schedule = generate_placement_schedule(placement)
  File "C:\Users\pc\loan-app\app.py", line 6488, in generate_placement_schedule
    if frequency <= 0 or tenure <= 0:
       ^^^^^^^^^^^^^^
TypeError: '<=' not supported between instances of 'NoneType' and 'int'
2025-07-23 18:42:20,090 - ERROR - Exception on /placement/new [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6575, in new_placement
    schedule = generate_placement_schedule(placement)
  File "C:\Users\pc\loan-app\app.py", line 6488, in generate_placement_schedule
    if frequency <= 0 or tenure <= 0:
       ^^^^^^^^^^^^^^
TypeError: '<=' not supported between instances of 'NoneType' and 'int'
2025-07-23 18:42:20,098 - INFO - 127.0.0.1 - - [23/Jul/2025 18:42:20] "[35m[1mPOST /placement/new HTTP/1.1[0m" 500 -
2025-07-23 18:42:20,155 - INFO - 127.0.0.1 - - [23/Jul/2025 18:42:20] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-23 18:47:42,375 - INFO - Scheduler has been shut down
[2025-07-23 18:47:47,915] INFO in app: ==================================================
[2025-07-23 18:47:47,981] INFO in app: Application logging initialized successfully
[2025-07-23 18:47:47,983] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 18:47:47,985] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 18:47:47,987] INFO in app: System encoding: utf-8
[2025-07-23 18:47:47,990] INFO in app: ==================================================
2025-07-23 18:47:48,235 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 18:47:48,237 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 18:47:48,237 - INFO - Scheduler started
2025-07-23 18:47:48,271 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-23 18:47:48,271 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-23 18:47:52,608] ERROR in app: Exception on /placement/new [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6585, in new_placement
    schedule = generate_placement_schedule(placement)
  File "C:\Users\pc\loan-app\app.py", line 6538, in generate_placement_schedule
    schedule.append(PlacementSchedule(
                    ~~~~~~~~~~~~~~~~~^
        placement_id=placement.id,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
        is_paid=False
        ^^^^^^^^^^^^^
    ))
    ^
  File "<string>", line 4, in __init__
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
        "%r is an invalid keyword argument for %s" % (k, cls_.__name__)
    )
TypeError: 'principal_due' is an invalid keyword argument for PlacementSchedule
2025-07-23 18:47:52,608 - ERROR - Exception on /placement/new [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6585, in new_placement
    schedule = generate_placement_schedule(placement)
  File "C:\Users\pc\loan-app\app.py", line 6538, in generate_placement_schedule
    schedule.append(PlacementSchedule(
                    ~~~~~~~~~~~~~~~~~^
        placement_id=placement.id,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
        is_paid=False
        ^^^^^^^^^^^^^
    ))
    ^
  File "<string>", line 4, in __init__
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
        "%r is an invalid keyword argument for %s" % (k, cls_.__name__)
    )
TypeError: 'principal_due' is an invalid keyword argument for PlacementSchedule
2025-07-23 18:47:52,680 - INFO - 127.0.0.1 - - [23/Jul/2025 18:47:52] "[35m[1mPOST /placement/new HTTP/1.1[0m" 500 -
2025-07-23 18:51:40,163 - INFO - Scheduler has been shut down
[2025-07-23 18:51:59,568] INFO in app: ==================================================
[2025-07-23 18:51:59,574] INFO in app: Application logging initialized successfully
[2025-07-23 18:51:59,576] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 18:51:59,578] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 18:51:59,580] INFO in app: System encoding: utf-8
[2025-07-23 18:51:59,583] INFO in app: ==================================================
2025-07-23 18:51:59,758 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 18:51:59,760 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 18:51:59,760 - INFO - Scheduler started
[2025-07-23 18:52:06,393] INFO in app: ==================================================
[2025-07-23 18:52:06,404] INFO in app: Application logging initialized successfully
[2025-07-23 18:52:06,406] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 18:52:06,408] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 18:52:06,409] INFO in app: System encoding: utf-8
[2025-07-23 18:52:06,412] INFO in app: ==================================================
2025-07-23 18:52:06,666 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 18:52:06,670 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 18:52:06,670 - INFO - Scheduler started
[2025-07-23 18:52:11,551] INFO in app: ==================================================
[2025-07-23 18:52:11,556] INFO in app: Application logging initialized successfully
[2025-07-23 18:52:11,558] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 18:52:11,560] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 18:52:11,561] INFO in app: System encoding: utf-8
[2025-07-23 18:52:11,564] INFO in app: ==================================================
2025-07-23 18:52:11,756 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 18:52:11,758 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 18:52:11,758 - INFO - Scheduler started
2025-07-23 18:52:11,774 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-23 18:52:11,774 - INFO - [33mPress CTRL+C to quit[0m
2025-07-23 18:52:31,971 - INFO - 127.0.0.1 - - [23/Jul/2025 18:52:31] "[32mPOST /placement/new HTTP/1.1[0m" 302 -
2025-07-23 18:52:32,044 - INFO - 127.0.0.1 - - [23/Jul/2025 18:52:32] "GET /placement/3 HTTP/1.1" 200 -
2025-07-23 18:53:11,920 - INFO - 127.0.0.1 - - [23/Jul/2025 18:53:11] "GET /placement/3/schedule HTTP/1.1" 200 -
2025-07-23 18:53:36,128 - INFO - 127.0.0.1 - - [23/Jul/2025 18:53:36] "GET /placement/3 HTTP/1.1" 200 -
2025-07-23 18:53:41,995 - INFO - 127.0.0.1 - - [23/Jul/2025 18:53:41] "GET /placement/3/deposit HTTP/1.1" 200 -
2025-07-23 18:53:46,051 - INFO - 127.0.0.1 - - [23/Jul/2025 18:53:46] "GET /placement/3/withdraw HTTP/1.1" 200 -
2025-07-23 18:53:49,639 - INFO - 127.0.0.1 - - [23/Jul/2025 18:53:49] "GET /placement/3/change_rate HTTP/1.1" 200 -
2025-07-23 18:53:55,275 - INFO - 127.0.0.1 - - [23/Jul/2025 18:53:55] "GET /placements HTTP/1.1" 200 -
2025-07-23 18:54:11,442 - INFO - 127.0.0.1 - - [23/Jul/2025 18:54:11] "GET /placement/new HTTP/1.1" 200 -
2025-07-23 18:54:30,947 - INFO - 127.0.0.1 - - [23/Jul/2025 18:54:30] "[32mPOST /placement/new HTTP/1.1[0m" 302 -
2025-07-23 18:54:31,254 - INFO - 127.0.0.1 - - [23/Jul/2025 18:54:31] "GET /placement/4 HTTP/1.1" 200 -
2025-07-23 18:54:34,648 - INFO - 127.0.0.1 - - [23/Jul/2025 18:54:34] "GET /placements HTTP/1.1" 200 -
2025-07-23 18:54:41,110 - INFO - 127.0.0.1 - - [23/Jul/2025 18:54:41] "GET /placement/4 HTTP/1.1" 200 -
2025-07-23 18:54:42,677 - INFO - 127.0.0.1 - - [23/Jul/2025 18:54:42] "GET /placement/4/schedule HTTP/1.1" 200 -
2025-07-23 18:55:58,769 - INFO - 127.0.0.1 - - [23/Jul/2025 18:55:58] "GET /placements HTTP/1.1" 200 -
2025-07-23 19:24:20,812 - INFO - Scheduler has been shut down
[2025-07-23 19:24:24,041] INFO in app: ==================================================
[2025-07-23 19:24:24,047] INFO in app: Application logging initialized successfully
[2025-07-23 19:24:24,049] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 19:24:24,051] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 19:24:24,053] INFO in app: System encoding: utf-8
[2025-07-23 19:24:24,056] INFO in app: ==================================================
2025-07-23 19:24:24,228 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 19:24:24,230 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 19:24:24,230 - INFO - Scheduler started
2025-07-23 19:24:24,246 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-23 19:24:24,246 - INFO - [33mPress CTRL+C to quit[0m
2025-07-23 19:24:28,578 - INFO - 127.0.0.1 - - [23/Jul/2025 19:24:28] "GET /placements HTTP/1.1" 200 -
2025-07-23 19:24:29,531 - INFO - 127.0.0.1 - - [23/Jul/2025 19:24:29] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-23 19:24:34,182 - INFO - 127.0.0.1 - - [23/Jul/2025 19:24:34] "GET /placements HTTP/1.1" 200 -
2025-07-23 19:24:34,981 - INFO - 127.0.0.1 - - [23/Jul/2025 19:24:34] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-23 19:26:11,634 - INFO - Scheduler has been shut down
[2025-07-23 19:26:14,397] INFO in app: ==================================================
[2025-07-23 19:26:14,402] INFO in app: Application logging initialized successfully
[2025-07-23 19:26:14,404] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 19:26:14,407] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 19:26:14,408] INFO in app: System encoding: utf-8
[2025-07-23 19:26:14,411] INFO in app: ==================================================
2025-07-23 19:26:14,583 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 19:26:14,584 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 19:26:14,584 - INFO - Scheduler started
2025-07-23 19:26:14,600 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-23 19:26:14,600 - INFO - [33mPress CTRL+C to quit[0m
2025-07-23 19:26:19,668 - INFO - 127.0.0.1 - - [23/Jul/2025 19:26:19] "GET /placements HTTP/1.1" 200 -
2025-07-23 19:26:20,552 - INFO - 127.0.0.1 - - [23/Jul/2025 19:26:20] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-23 19:27:08,916 - INFO - 127.0.0.1 - - [23/Jul/2025 19:27:08] "GET /placement/new HTTP/1.1" 200 -
2025-07-23 19:27:29,612 - INFO - 127.0.0.1 - - [23/Jul/2025 19:27:29] "[32mPOST /placement/new HTTP/1.1[0m" 302 -
2025-07-23 19:27:29,925 - INFO - 127.0.0.1 - - [23/Jul/2025 19:27:29] "GET /placement/5 HTTP/1.1" 200 -
2025-07-23 19:27:40,545 - INFO - 127.0.0.1 - - [23/Jul/2025 19:27:40] "GET /placement/5/schedule HTTP/1.1" 200 -
2025-07-23 19:27:46,413 - INFO - 127.0.0.1 - - [23/Jul/2025 19:27:46] "GET /placement/5 HTTP/1.1" 200 -
2025-07-23 19:27:48,511 - INFO - 127.0.0.1 - - [23/Jul/2025 19:27:48] "GET /placements HTTP/1.1" 200 -
2025-07-23 19:28:27,515 - INFO - 127.0.0.1 - - [23/Jul/2025 19:28:27] "GET /placement/new HTTP/1.1" 200 -
2025-07-23 19:43:10,070 - INFO - Scheduler has been shut down
[2025-07-23 19:43:13,721] INFO in app: ==================================================
[2025-07-23 19:43:13,730] INFO in app: Application logging initialized successfully
[2025-07-23 19:43:13,733] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-23 19:43:13,734] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-23 19:43:13,737] INFO in app: System encoding: utf-8
[2025-07-23 19:43:13,739] INFO in app: ==================================================
2025-07-23 19:43:13,988 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-23 19:43:13,990 - INFO - Added job "snapshot_par" to job store "default"
2025-07-23 19:43:13,990 - INFO - Scheduler started
2025-07-23 19:43:14,008 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-23 19:43:14,008 - INFO - [33mPress CTRL+C to quit[0m
2025-07-23 19:44:00,540 - INFO - 127.0.0.1 - - [23/Jul/2025 19:44:00] "[32mPOST /placement/new HTTP/1.1[0m" 302 -
2025-07-23 19:44:00,579 - INFO - 127.0.0.1 - - [23/Jul/2025 19:44:00] "GET /placement/6 HTTP/1.1" 200 -
2025-07-23 19:44:07,215 - INFO - 127.0.0.1 - - [23/Jul/2025 19:44:07] "GET /placement/6/schedule HTTP/1.1" 200 -
2025-07-23 19:44:43,665 - INFO - 127.0.0.1 - - [23/Jul/2025 19:44:43] "GET /placement/6 HTTP/1.1" 200 -
2025-07-23 19:44:48,299 - INFO - 127.0.0.1 - - [23/Jul/2025 19:44:48] "GET /placements HTTP/1.1" 200 -
2025-07-23 19:44:50,258 - INFO - 127.0.0.1 - - [23/Jul/2025 19:44:50] "GET /placement/new HTTP/1.1" 200 -
2025-07-23 19:45:21,214 - INFO - 127.0.0.1 - - [23/Jul/2025 19:45:21] "[32mPOST /placement/new HTTP/1.1[0m" 302 -
2025-07-23 19:45:21,519 - INFO - 127.0.0.1 - - [23/Jul/2025 19:45:21] "GET /placement/7 HTTP/1.1" 200 -
2025-07-23 19:45:25,561 - INFO - 127.0.0.1 - - [23/Jul/2025 19:45:25] "GET /placement/7/schedule HTTP/1.1" 200 -
2025-07-23 19:45:33,831 - INFO - 127.0.0.1 - - [23/Jul/2025 19:45:33] "GET /placement/7 HTTP/1.1" 200 -
2025-07-23 19:45:51,680 - INFO - 127.0.0.1 - - [23/Jul/2025 19:45:51] "GET /placements HTTP/1.1" 200 -
2025-07-23 19:48:26,659 - INFO - 127.0.0.1 - - [23/Jul/2025 19:48:26] "GET /placement/new HTTP/1.1" 200 -
2025-07-23 19:48:49,846 - INFO - 127.0.0.1 - - [23/Jul/2025 19:48:49] "[32mPOST /placement/new HTTP/1.1[0m" 302 -
2025-07-23 19:48:49,860 - INFO - 127.0.0.1 - - [23/Jul/2025 19:48:49] "GET /placement/8 HTTP/1.1" 200 -
2025-07-23 19:48:54,798 - INFO - 127.0.0.1 - - [23/Jul/2025 19:48:54] "GET /placement/8/schedule HTTP/1.1" 200 -
[2025-07-24 04:50:47,315] INFO in app: ==================================================
[2025-07-24 04:50:47,384] INFO in app: Application logging initialized successfully
[2025-07-24 04:50:47,386] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 04:50:47,387] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 04:50:47,388] INFO in app: System encoding: utf-8
[2025-07-24 04:50:47,389] INFO in app: ==================================================
2025-07-24 04:50:47,697 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-24 04:50:47,699 - INFO - Added job "snapshot_par" to job store "default"
2025-07-24 04:50:47,699 - INFO - Scheduler started
2025-07-24 04:52:24,277 - INFO - Scheduler has been shut down
2025-07-24 04:52:30,859 - INFO - Scheduler has been shut down
[2025-07-24 04:52:34,627] INFO in app: ==================================================
[2025-07-24 04:52:34,637] INFO in app: Application logging initialized successfully
[2025-07-24 04:52:34,638] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 04:52:34,644] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 04:52:34,648] INFO in app: System encoding: utf-8
[2025-07-24 04:52:34,650] INFO in app: ==================================================
2025-07-24 04:52:34,898 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-24 04:52:34,900 - INFO - Added job "snapshot_par" to job store "default"
2025-07-24 04:52:34,900 - INFO - Scheduler started
2025-07-24 04:52:34,957 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-24 04:52:34,957 - INFO - [33mPress CTRL+C to quit[0m
2025-07-24 04:52:39,163 - INFO - 127.0.0.1 - - [24/Jul/2025 04:52:39] "GET /placement/8 HTTP/1.1" 200 -
2025-07-24 04:52:46,118 - INFO - 127.0.0.1 - - [24/Jul/2025 04:52:46] "GET /placement/8 HTTP/1.1" 200 -
2025-07-24 04:52:46,870 - INFO - 127.0.0.1 - - [24/Jul/2025 04:52:46] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-24 04:52:48,799 - INFO - 127.0.0.1 - - [24/Jul/2025 04:52:48] "GET /placement/8/schedule HTTP/1.1" 200 -
2025-07-24 04:52:58,093 - INFO - 127.0.0.1 - - [24/Jul/2025 04:52:58] "GET /placements HTTP/1.1" 200 -
2025-07-24 04:53:52,557 - INFO - 127.0.0.1 - - [24/Jul/2025 04:53:52] "GET /placement/new HTTP/1.1" 200 -
2025-07-24 04:54:57,290 - INFO - 127.0.0.1 - - [24/Jul/2025 04:54:57] "[32mPOST /placement/new HTTP/1.1[0m" 302 -
2025-07-24 04:54:57,300 - INFO - 127.0.0.1 - - [24/Jul/2025 04:54:57] "GET /placement/9 HTTP/1.1" 200 -
2025-07-24 04:55:05,440 - INFO - 127.0.0.1 - - [24/Jul/2025 04:55:05] "GET /placements HTTP/1.1" 200 -
2025-07-24 04:55:35,568 - INFO - 127.0.0.1 - - [24/Jul/2025 04:55:35] "GET /placement/9 HTTP/1.1" 200 -
2025-07-24 04:55:40,224 - INFO - 127.0.0.1 - - [24/Jul/2025 04:55:40] "GET /placement/9/schedule HTTP/1.1" 200 -
2025-07-24 05:02:42,377 - INFO - Scheduler has been shut down
[2025-07-24 05:02:49,008] INFO in app: ==================================================
[2025-07-24 05:02:49,019] INFO in app: Application logging initialized successfully
[2025-07-24 05:02:49,023] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 05:02:49,025] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 05:02:49,027] INFO in app: System encoding: utf-8
[2025-07-24 05:02:49,028] INFO in app: ==================================================
2025-07-24 05:02:49,257 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-24 05:02:49,259 - INFO - Added job "snapshot_par" to job store "default"
2025-07-24 05:02:49,259 - INFO - Scheduler started
2025-07-24 05:02:49,280 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-24 05:02:49,280 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-24 05:02:58,910] INFO in app: ==================================================
[2025-07-24 05:02:58,919] INFO in app: Application logging initialized successfully
[2025-07-24 05:02:58,920] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 05:02:58,921] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 05:02:58,922] INFO in app: System encoding: utf-8
[2025-07-24 05:02:58,923] INFO in app: ==================================================
2025-07-24 05:02:59,122 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-24 05:02:59,123 - INFO - Added job "snapshot_par" to job store "default"
2025-07-24 05:02:59,123 - INFO - Scheduler started
2025-07-24 05:04:58,539 - INFO - Scheduler has been shut down
2025-07-24 05:05:10,838 - INFO - Scheduler has been shut down
[2025-07-24 05:05:14,410] INFO in app: ==================================================
[2025-07-24 05:05:14,419] INFO in app: Application logging initialized successfully
[2025-07-24 05:05:14,421] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 05:05:14,423] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 05:05:14,428] INFO in app: System encoding: utf-8
[2025-07-24 05:05:14,429] INFO in app: ==================================================
2025-07-24 05:05:14,776 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-24 05:05:14,778 - INFO - Added job "snapshot_par" to job store "default"
2025-07-24 05:05:14,778 - INFO - Scheduler started
2025-07-24 05:05:14,800 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-24 05:05:14,801 - INFO - [33mPress CTRL+C to quit[0m
2025-07-24 05:05:24,718 - INFO - 127.0.0.1 - - [24/Jul/2025 05:05:24] "GET /placement/9/schedule HTTP/1.1" 200 -
2025-07-24 05:05:25,545 - INFO - 127.0.0.1 - - [24/Jul/2025 05:05:25] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-24 05:05:33,539 - INFO - 127.0.0.1 - - [24/Jul/2025 05:05:33] "GET /placement/9 HTTP/1.1" 200 -
2025-07-24 05:05:41,163 - INFO - 127.0.0.1 - - [24/Jul/2025 05:05:41] "GET /placements HTTP/1.1" 200 -
2025-07-24 05:05:41,566 - INFO - 127.0.0.1 - - [24/Jul/2025 05:05:41] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-24 05:10:12,431 - INFO - Scheduler has been shut down
[2025-07-24 05:10:16,035] INFO in app: ==================================================
[2025-07-24 05:10:16,042] INFO in app: Application logging initialized successfully
[2025-07-24 05:10:16,045] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 05:10:16,053] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 05:10:16,055] INFO in app: System encoding: utf-8
[2025-07-24 05:10:16,056] INFO in app: ==================================================
2025-07-24 05:10:16,368 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-24 05:10:16,370 - INFO - Added job "snapshot_par" to job store "default"
2025-07-24 05:10:16,370 - INFO - Scheduler started
2025-07-24 05:10:16,387 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-24 05:10:16,387 - INFO - [33mPress CTRL+C to quit[0m
2025-07-24 05:10:20,536 - INFO - 127.0.0.1 - - [24/Jul/2025 05:10:20] "GET /placements HTTP/1.1" 200 -
2025-07-24 05:10:21,124 - INFO - 127.0.0.1 - - [24/Jul/2025 05:10:21] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-24 05:10:33,179 - INFO - 127.0.0.1 - - [24/Jul/2025 05:10:33] "GET /placements HTTP/1.1" 200 -
2025-07-24 05:10:34,202 - INFO - 127.0.0.1 - - [24/Jul/2025 05:10:34] "GET /payments HTTP/1.1" 200 -
2025-07-24 05:10:35,530 - INFO - 127.0.0.1 - - [24/Jul/2025 05:10:35] "GET /placements HTTP/1.1" 200 -
2025-07-24 05:10:49,095 - INFO - Scheduler has been shut down
[2025-07-24 05:10:52,910] INFO in app: ==================================================
[2025-07-24 05:10:52,922] INFO in app: Application logging initialized successfully
[2025-07-24 05:10:52,927] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 05:10:52,929] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 05:10:52,947] INFO in app: System encoding: utf-8
[2025-07-24 05:10:52,949] INFO in app: ==================================================
2025-07-24 05:10:53,209 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-24 05:10:53,210 - INFO - Added job "snapshot_par" to job store "default"
2025-07-24 05:10:53,210 - INFO - Scheduler started
2025-07-24 05:10:53,240 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-24 05:10:53,240 - INFO - [33mPress CTRL+C to quit[0m
2025-07-24 05:10:57,064 - INFO - 127.0.0.1 - - [24/Jul/2025 05:10:57] "GET /placements HTTP/1.1" 200 -
2025-07-24 05:10:57,978 - INFO - 127.0.0.1 - - [24/Jul/2025 05:10:57] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-24 05:13:21,125] INFO in app: ==================================================
[2025-07-24 05:13:21,131] INFO in app: Application logging initialized successfully
[2025-07-24 05:13:21,132] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 05:13:21,137] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 05:13:21,139] INFO in app: System encoding: utf-8
[2025-07-24 05:13:21,141] INFO in app: ==================================================
2025-07-24 05:13:21,344 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-24 05:13:21,345 - INFO - Added job "snapshot_par" to job store "default"
2025-07-24 05:13:21,346 - INFO - Scheduler started
2025-07-24 05:16:13,509 - INFO - Scheduler has been shut down
[2025-07-24 05:16:17,010] INFO in app: ==================================================
[2025-07-24 05:16:17,015] INFO in app: Application logging initialized successfully
[2025-07-24 05:16:17,018] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 05:16:17,019] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 05:16:17,021] INFO in app: System encoding: utf-8
[2025-07-24 05:16:17,031] INFO in app: ==================================================
2025-07-24 05:16:17,301 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-24 05:16:17,303 - INFO - Added job "snapshot_par" to job store "default"
2025-07-24 05:16:17,303 - INFO - Scheduler started
2025-07-24 05:16:17,327 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-24 05:16:17,327 - INFO - [33mPress CTRL+C to quit[0m
2025-07-24 05:16:21,819 - INFO - 127.0.0.1 - - [24/Jul/2025 05:16:21] "GET /placements HTTP/1.1" 200 -
2025-07-24 05:16:22,440 - INFO - 127.0.0.1 - - [24/Jul/2025 05:16:22] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-24 05:16:49,769] ERROR in app: Exception on /placements [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6718, in view_placements
    placements = placements.filter(Placement.next_interest_date >= interest_start)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: '>=' not supported between instances of 'property' and 'str'
2025-07-24 05:16:49,769 - ERROR - Exception on /placements [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6718, in view_placements
    placements = placements.filter(Placement.next_interest_date >= interest_start)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: '>=' not supported between instances of 'property' and 'str'
2025-07-24 05:16:49,807 - INFO - 127.0.0.1 - - [24/Jul/2025 05:16:49] "[35m[1mGET /placements?interest_start=2025-07-01&interest_end=2025-07-31&maturity_start=&maturity_end= HTTP/1.1[0m" 500 -
2025-07-24 05:44:26,810 - INFO - Scheduler has been shut down
[2025-07-24 05:53:16,266] INFO in app: ==================================================
[2025-07-24 05:53:16,275] INFO in app: Application logging initialized successfully
[2025-07-24 05:53:16,281] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 05:53:16,284] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 05:53:16,286] INFO in app: System encoding: utf-8
[2025-07-24 05:53:16,297] INFO in app: ==================================================
2025-07-24 05:53:16,713 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-24 05:53:16,715 - INFO - Added job "snapshot_par" to job store "default"
2025-07-24 05:53:16,715 - INFO - Scheduler started
2025-07-24 05:53:16,747 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-24 05:53:16,747 - INFO - [33mPress CTRL+C to quit[0m
2025-07-24 05:53:22,650 - INFO - 127.0.0.1 - - [24/Jul/2025 05:53:22] "GET /placements HTTP/1.1" 200 -
2025-07-24 05:53:23,296 - INFO - 127.0.0.1 - - [24/Jul/2025 05:53:23] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-24 05:54:50,091] ERROR in app: Exception on /placements/export [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6787, in export_placements_excel
    df.to_excel(output, index=False)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\pandas\util\_decorators.py", line 333, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\pandas\core\generic.py", line 2436, in to_excel
    formatter.write(
    ~~~~~~~~~~~~~~~^
        excel_writer,
        ^^^^^^^^^^^^^
    ...<6 lines>...
        engine_kwargs=engine_kwargs,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\pandas\io\formats\excel.py", line 943, in write
    writer = ExcelWriter(
        writer,
    ...<2 lines>...
        engine_kwargs=engine_kwargs,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\pandas\io\excel\_openpyxl.py", line 57, in __init__
    from openpyxl.workbook import Workbook
ModuleNotFoundError: No module named 'openpyxl'
2025-07-24 05:54:50,091 - ERROR - Exception on /placements/export [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6787, in export_placements_excel
    df.to_excel(output, index=False)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\pandas\util\_decorators.py", line 333, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\pandas\core\generic.py", line 2436, in to_excel
    formatter.write(
    ~~~~~~~~~~~~~~~^
        excel_writer,
        ^^^^^^^^^^^^^
    ...<6 lines>...
        engine_kwargs=engine_kwargs,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\pandas\io\formats\excel.py", line 943, in write
    writer = ExcelWriter(
        writer,
    ...<2 lines>...
        engine_kwargs=engine_kwargs,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\pandas\io\excel\_openpyxl.py", line 57, in __init__
    from openpyxl.workbook import Workbook
ModuleNotFoundError: No module named 'openpyxl'
2025-07-24 05:54:50,140 - INFO - 127.0.0.1 - - [24/Jul/2025 05:54:50] "[35m[1mGET /placements/export HTTP/1.1[0m" 500 -
2025-07-24 05:55:07,239 - INFO - 127.0.0.1 - - [24/Jul/2025 05:55:07] "GET /placement/new HTTP/1.1" 200 -
2025-07-24 05:56:38,671 - INFO - 127.0.0.1 - - [24/Jul/2025 05:56:38] "[32mPOST /placement/new HTTP/1.1[0m" 302 -
2025-07-24 05:56:38,699 - INFO - 127.0.0.1 - - [24/Jul/2025 05:56:38] "GET /placement/10 HTTP/1.1" 200 -
2025-07-24 05:56:49,005 - INFO - 127.0.0.1 - - [24/Jul/2025 05:56:49] "GET /placement/10/schedule HTTP/1.1" 200 -
2025-07-24 05:57:01,194 - INFO - 127.0.0.1 - - [24/Jul/2025 05:57:01] "GET /placement/10 HTTP/1.1" 200 -
2025-07-24 05:57:17,755 - INFO - 127.0.0.1 - - [24/Jul/2025 05:57:17] "GET /placements HTTP/1.1" 200 -
2025-07-24 05:58:33,512 - INFO - 127.0.0.1 - - [24/Jul/2025 05:58:33] "GET /placement/10 HTTP/1.1" 200 -
2025-07-24 05:58:43,229 - INFO - 127.0.0.1 - - [24/Jul/2025 05:58:43] "GET /placement/10/deposit HTTP/1.1" 200 -
2025-07-24 06:00:14,718 - INFO - 127.0.0.1 - - [24/Jul/2025 06:00:14] "GET /placement/10/withdraw HTTP/1.1" 200 -
2025-07-24 06:00:18,012 - INFO - 127.0.0.1 - - [24/Jul/2025 06:00:18] "GET /placement/10/change_rate HTTP/1.1" 200 -
2025-07-24 06:00:22,660 - INFO - The CSRF token is missing.
2025-07-24 06:00:22,674 - INFO - 127.0.0.1 - - [24/Jul/2025 06:00:22] "POST /placement/10/capitalize HTTP/1.1" 200 -
2025-07-24 06:00:31,491 - INFO - 127.0.0.1 - - [24/Jul/2025 06:00:31] "[32mPOST /placement/10/capitalize HTTP/1.1[0m" 302 -
2025-07-24 06:00:31,804 - INFO - 127.0.0.1 - - [24/Jul/2025 06:00:31] "GET /placement/10 HTTP/1.1" 200 -
2025-07-24 06:00:42,645 - INFO - 127.0.0.1 - - [24/Jul/2025 06:00:42] "GET /placements HTTP/1.1" 200 -
2025-07-24 06:01:53,194 - INFO - 127.0.0.1 - - [24/Jul/2025 06:01:53] "GET /placement/10 HTTP/1.1" 200 -
2025-07-24 06:01:55,309 - INFO - 127.0.0.1 - - [24/Jul/2025 06:01:55] "GET /placement/10/change_rate HTTP/1.1" 200 -
2025-07-24 06:03:19,752 - INFO - 127.0.0.1 - - [24/Jul/2025 06:03:19] "GET /placement/10/change_rate HTTP/1.1" 200 -
2025-07-24 06:04:25,138 - INFO - Scheduler has been shut down
[2025-07-24 06:04:56,829] INFO in app: ==================================================
[2025-07-24 06:04:56,838] INFO in app: Application logging initialized successfully
[2025-07-24 06:04:56,840] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 06:04:56,843] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 06:04:56,845] INFO in app: System encoding: utf-8
[2025-07-24 06:04:56,846] INFO in app: ==================================================
2025-07-24 06:04:57,125 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-24 06:04:57,126 - INFO - Added job "snapshot_par" to job store "default"
2025-07-24 06:04:57,127 - INFO - Scheduler started
2025-07-24 06:04:57,153 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-24 06:04:57,153 - INFO - [33mPress CTRL+C to quit[0m
2025-07-24 06:05:06,705 - INFO - 127.0.0.1 - - [24/Jul/2025 06:05:06] "GET /placement/10 HTTP/1.1" 200 -
2025-07-24 06:05:07,637 - INFO - 127.0.0.1 - - [24/Jul/2025 06:05:07] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-24 06:05:09,021 - INFO - 127.0.0.1 - - [24/Jul/2025 06:05:09] "GET /placements HTTP/1.1" 200 -
2025-07-24 06:05:15,333 - INFO - 127.0.0.1 - - [24/Jul/2025 06:05:15] "GET /placements/export HTTP/1.1" 200 -
2025-07-24 06:16:42,541 - INFO - Scheduler has been shut down
[2025-07-24 06:16:47,383] INFO in app: ==================================================
[2025-07-24 06:16:47,389] INFO in app: Application logging initialized successfully
[2025-07-24 06:16:47,393] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 06:16:47,395] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 06:16:47,400] INFO in app: System encoding: utf-8
[2025-07-24 06:16:47,403] INFO in app: ==================================================
2025-07-24 06:16:47,668 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-24 06:16:47,669 - INFO - Added job "snapshot_par" to job store "default"
2025-07-24 06:16:47,669 - INFO - Scheduler started
[2025-07-24 06:18:47,816] INFO in app: ==================================================
[2025-07-24 06:18:47,829] INFO in app: Application logging initialized successfully
[2025-07-24 06:18:47,831] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 06:18:47,833] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 06:18:47,842] INFO in app: System encoding: utf-8
[2025-07-24 06:18:47,844] INFO in app: ==================================================
2025-07-24 06:18:48,093 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-24 06:18:48,095 - INFO - Added job "snapshot_par" to job store "default"
2025-07-24 06:18:48,095 - INFO - Scheduler started
2025-07-24 06:18:48,128 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-24 06:18:48,128 - INFO - [33mPress CTRL+C to quit[0m
2025-07-24 06:18:58,927 - INFO - 127.0.0.1 - - [24/Jul/2025 06:18:58] "GET /placements HTTP/1.1" 200 -
2025-07-24 06:18:59,739 - INFO - 127.0.0.1 - - [24/Jul/2025 06:18:59] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-24 06:19:05,002 - INFO - 127.0.0.1 - - [24/Jul/2025 06:19:05] "GET /placement/10 HTTP/1.1" 200 -
2025-07-24 06:19:07,089 - INFO - 127.0.0.1 - - [24/Jul/2025 06:19:07] "GET /placement/10/deposit HTTP/1.1" 200 -
2025-07-24 06:19:10,854 - INFO - 127.0.0.1 - - [24/Jul/2025 06:19:10] "GET /placement/10/withdraw HTTP/1.1" 200 -
2025-07-24 06:19:14,253 - INFO - 127.0.0.1 - - [24/Jul/2025 06:19:14] "GET /placement/10/change_rate HTTP/1.1" 200 -
2025-07-24 06:23:51,751 - INFO - Scheduler has been shut down
[2025-07-24 06:23:54,957] INFO in app: ==================================================
[2025-07-24 06:23:54,968] INFO in app: Application logging initialized successfully
[2025-07-24 06:23:54,970] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 06:23:54,971] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 06:23:54,973] INFO in app: System encoding: utf-8
[2025-07-24 06:23:54,975] INFO in app: ==================================================
2025-07-24 06:23:55,208 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-24 06:23:55,210 - INFO - Added job "snapshot_par" to job store "default"
2025-07-24 06:23:55,210 - INFO - Scheduler started
2025-07-24 06:23:55,229 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-24 06:23:55,230 - INFO - [33mPress CTRL+C to quit[0m
2025-07-24 06:23:59,633 - INFO - 127.0.0.1 - - [24/Jul/2025 06:23:59] "GET /placement/10 HTTP/1.1" 200 -
2025-07-24 06:24:00,558 - INFO - 127.0.0.1 - - [24/Jul/2025 06:24:00] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-24 06:24:01,984 - INFO - 127.0.0.1 - - [24/Jul/2025 06:24:01] "GET /placement/10/deposit HTTP/1.1" 200 -
2025-07-24 06:24:11,825 - INFO - 127.0.0.1 - - [24/Jul/2025 06:24:11] "[32mPOST /placement/10/deposit HTTP/1.1[0m" 302 -
2025-07-24 06:24:12,138 - INFO - 127.0.0.1 - - [24/Jul/2025 06:24:12] "GET /placement/10 HTTP/1.1" 200 -
2025-07-24 06:27:25,413 - INFO - Scheduler has been shut down
[2025-07-24 06:27:28,789] INFO in app: ==================================================
[2025-07-24 06:27:28,797] INFO in app: Application logging initialized successfully
[2025-07-24 06:27:28,800] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 06:27:28,802] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 06:27:28,803] INFO in app: System encoding: utf-8
[2025-07-24 06:27:28,807] INFO in app: ==================================================
2025-07-24 06:27:29,066 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-24 06:27:29,067 - INFO - Added job "snapshot_par" to job store "default"
2025-07-24 06:27:29,068 - INFO - Scheduler started
2025-07-24 06:27:29,087 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-24 06:27:29,087 - INFO - [33mPress CTRL+C to quit[0m
2025-07-24 06:27:33,272 - INFO - 127.0.0.1 - - [24/Jul/2025 06:27:33] "GET /placement/10 HTTP/1.1" 200 -
2025-07-24 06:27:34,596 - INFO - 127.0.0.1 - - [24/Jul/2025 06:27:34] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-24 06:27:36,151 - INFO - 127.0.0.1 - - [24/Jul/2025 06:27:36] "GET /placement/10/withdraw HTTP/1.1" 200 -
2025-07-24 06:27:42,197 - INFO - 127.0.0.1 - - [24/Jul/2025 06:27:42] "[32mPOST /placement/10/withdraw HTTP/1.1[0m" 302 -
2025-07-24 06:27:42,490 - INFO - 127.0.0.1 - - [24/Jul/2025 06:27:42] "GET /placement/10 HTTP/1.1" 200 -
2025-07-24 06:27:58,628 - INFO - 127.0.0.1 - - [24/Jul/2025 06:27:58] "GET /placement/10/schedule HTTP/1.1" 200 -
2025-07-24 06:28:15,242 - INFO - 127.0.0.1 - - [24/Jul/2025 06:28:15] "GET /placement/10 HTTP/1.1" 200 -
2025-07-24 06:29:46,182 - INFO - Scheduler has been shut down
[2025-07-24 06:29:49,545] INFO in app: ==================================================
[2025-07-24 06:29:49,550] INFO in app: Application logging initialized successfully
[2025-07-24 06:29:49,556] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 06:29:49,560] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 06:29:49,564] INFO in app: System encoding: utf-8
[2025-07-24 06:29:49,565] INFO in app: ==================================================
2025-07-24 06:29:49,812 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-24 06:29:49,813 - INFO - Added job "snapshot_par" to job store "default"
2025-07-24 06:29:49,813 - INFO - Scheduler started
2025-07-24 06:29:49,833 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-24 06:29:49,834 - INFO - [33mPress CTRL+C to quit[0m
2025-07-24 06:29:52,928 - INFO - 127.0.0.1 - - [24/Jul/2025 06:29:52] "GET /placement/10/change_rate HTTP/1.1" 200 -
2025-07-24 06:29:59,018 - INFO - 127.0.0.1 - - [24/Jul/2025 06:29:59] "[32mPOST /placement/10/change_rate HTTP/1.1[0m" 302 -
2025-07-24 06:29:59,045 - INFO - 127.0.0.1 - - [24/Jul/2025 06:29:59] "GET /placement/10 HTTP/1.1" 200 -
2025-07-24 06:30:10,680 - INFO - 127.0.0.1 - - [24/Jul/2025 06:30:10] "GET /placements HTTP/1.1" 200 -
2025-07-24 06:30:31,388 - INFO - 127.0.0.1 - - [24/Jul/2025 06:30:31] "GET /placement/10 HTTP/1.1" 200 -
2025-07-24 06:30:36,499 - INFO - 127.0.0.1 - - [24/Jul/2025 06:30:36] "GET /placement/10/schedule HTTP/1.1" 200 -
2025-07-24 06:50:36,379 - INFO - 127.0.0.1 - - [24/Jul/2025 06:50:36] "GET /placement/10 HTTP/1.1" 200 -
2025-07-24 06:54:14,352 - INFO - Scheduler has been shut down
[2025-07-24 06:54:18,038] INFO in app: ==================================================
[2025-07-24 06:54:18,044] INFO in app: Application logging initialized successfully
[2025-07-24 06:54:18,047] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 06:54:18,048] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 06:54:18,056] INFO in app: System encoding: utf-8
[2025-07-24 06:54:18,057] INFO in app: ==================================================
2025-07-24 06:54:18,283 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-24 06:54:18,285 - INFO - Added job "snapshot_par" to job store "default"
2025-07-24 06:54:18,285 - INFO - Scheduler started
2025-07-24 06:54:18,306 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-24 06:54:18,306 - INFO - [33mPress CTRL+C to quit[0m
2025-07-24 06:54:23,340 - INFO - 127.0.0.1 - - [24/Jul/2025 06:54:23] "GET /placement/10 HTTP/1.1" 200 -
2025-07-24 06:54:24,072 - INFO - 127.0.0.1 - - [24/Jul/2025 06:54:24] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-24 06:54:47,270 - INFO - 127.0.0.1 - - [24/Jul/2025 06:54:47] "GET /placement/10/schedule HTTP/1.1" 200 -
2025-07-24 06:54:52,531 - INFO - 127.0.0.1 - - [24/Jul/2025 06:54:52] "GET /placement/10 HTTP/1.1" 200 -
2025-07-24 06:54:57,996 - INFO - 127.0.0.1 - - [24/Jul/2025 06:54:57] "GET /placement/10/deposit HTTP/1.1" 200 -
2025-07-24 06:55:03,291 - INFO - 127.0.0.1 - - [24/Jul/2025 06:55:03] "[32mPOST /placement/10/deposit HTTP/1.1[0m" 302 -
2025-07-24 06:55:03,604 - INFO - 127.0.0.1 - - [24/Jul/2025 06:55:03] "GET /placement/10 HTTP/1.1" 200 -
2025-07-24 06:55:10,564 - INFO - 127.0.0.1 - - [24/Jul/2025 06:55:10] "GET /placement/10/schedule HTTP/1.1" 200 -
2025-07-24 06:55:15,273 - INFO - 127.0.0.1 - - [24/Jul/2025 06:55:15] "GET /placement/10 HTTP/1.1" 200 -
[2025-07-24 06:55:16,542] ERROR in app: Exception on /placement/10/update [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6952, in update_placement
    form.new_tenure.data = placement.tenure
                           ^^^^^^^^^^^^^^^^
AttributeError: 'Placement' object has no attribute 'tenure'
2025-07-24 06:55:16,542 - ERROR - Exception on /placement/10/update [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6952, in update_placement
    form.new_tenure.data = placement.tenure
                           ^^^^^^^^^^^^^^^^
AttributeError: 'Placement' object has no attribute 'tenure'
2025-07-24 06:55:16,571 - INFO - 127.0.0.1 - - [24/Jul/2025 06:55:16] "[35m[1mGET /placement/10/update HTTP/1.1[0m" 500 -
2025-07-24 06:56:54,858 - INFO - Scheduler has been shut down
[2025-07-24 06:56:59,460] INFO in app: ==================================================
[2025-07-24 06:56:59,470] INFO in app: Application logging initialized successfully
[2025-07-24 06:56:59,474] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 06:56:59,476] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 06:56:59,479] INFO in app: System encoding: utf-8
[2025-07-24 06:56:59,481] INFO in app: ==================================================
2025-07-24 06:56:59,731 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-24 06:56:59,733 - INFO - Added job "snapshot_par" to job store "default"
2025-07-24 06:56:59,733 - INFO - Scheduler started
2025-07-24 06:56:59,757 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-24 06:56:59,757 - INFO - [33mPress CTRL+C to quit[0m
2025-07-24 06:57:06,352 - INFO - 127.0.0.1 - - [24/Jul/2025 06:57:06] "GET /placement/10 HTTP/1.1" 200 -
2025-07-24 06:57:07,184 - INFO - 127.0.0.1 - - [24/Jul/2025 06:57:07] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-24 06:57:08,440] ERROR in app: Exception on /placement/10/update [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6953, in update_placement
    form.new_frequency.data = placement.interest_frequency
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Placement' object has no attribute 'interest_frequency'. Did you mean: 'payment_frequency'?
2025-07-24 06:57:08,440 - ERROR - Exception on /placement/10/update [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6953, in update_placement
    form.new_frequency.data = placement.interest_frequency
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Placement' object has no attribute 'interest_frequency'. Did you mean: 'payment_frequency'?
2025-07-24 06:57:08,464 - INFO - 127.0.0.1 - - [24/Jul/2025 06:57:08] "[35m[1mGET /placement/10/update HTTP/1.1[0m" 500 -
2025-07-24 06:57:57,992 - INFO - Scheduler has been shut down
[2025-07-24 06:58:04,047] INFO in app: ==================================================
[2025-07-24 06:58:04,053] INFO in app: Application logging initialized successfully
[2025-07-24 06:58:04,060] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 06:58:04,063] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 06:58:04,066] INFO in app: System encoding: utf-8
[2025-07-24 06:58:04,069] INFO in app: ==================================================
2025-07-24 06:58:04,316 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-24 06:58:04,317 - INFO - Added job "snapshot_par" to job store "default"
2025-07-24 06:58:04,317 - INFO - Scheduler started
2025-07-24 06:58:04,343 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-24 06:58:04,344 - INFO - [33mPress CTRL+C to quit[0m
2025-07-24 06:58:10,477 - INFO - 127.0.0.1 - - [24/Jul/2025 06:58:10] "GET /placement/10 HTTP/1.1" 200 -
2025-07-24 06:58:11,318 - INFO - 127.0.0.1 - - [24/Jul/2025 06:58:11] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-24 06:58:12,677 - INFO - 127.0.0.1 - - [24/Jul/2025 06:58:12] "GET /placement/10/update HTTP/1.1" 200 -
2025-07-24 07:01:20,430 - INFO - Scheduler has been shut down
[2025-07-24 07:01:23,576] INFO in app: ==================================================
[2025-07-24 07:01:23,583] INFO in app: Application logging initialized successfully
[2025-07-24 07:01:23,585] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 07:01:23,587] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 07:01:23,588] INFO in app: System encoding: utf-8
[2025-07-24 07:01:23,596] INFO in app: ==================================================
2025-07-24 07:01:23,830 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-24 07:01:23,832 - INFO - Added job "snapshot_par" to job store "default"
2025-07-24 07:01:23,832 - INFO - Scheduler started
2025-07-24 07:01:23,852 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-24 07:01:23,852 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-24 07:01:28,843] ERROR in app: Exception on /placement/10/update [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6982, in update_placement
    return render_template('placement/update.html', form=form, placement=placement)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\update.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\update.html", line 34, in block 'content'
    {{ form.transaction_date.label(class="form-label") }}
    ^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 490, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'app.PlacementUpdateForm object' has no attribute 'transaction_date'
2025-07-24 07:01:28,843 - ERROR - Exception on /placement/10/update [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6982, in update_placement
    return render_template('placement/update.html', form=form, placement=placement)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\update.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\update.html", line 34, in block 'content'
    {{ form.transaction_date.label(class="form-label") }}
    ^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 490, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'app.PlacementUpdateForm object' has no attribute 'transaction_date'
2025-07-24 07:01:28,859 - INFO - 127.0.0.1 - - [24/Jul/2025 07:01:28] "[35m[1mGET /placement/10/update HTTP/1.1[0m" 500 -
2025-07-24 07:01:28,933 - INFO - 127.0.0.1 - - [24/Jul/2025 07:01:28] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-24 07:04:12,626 - INFO - Scheduler has been shut down
[2025-07-24 07:04:16,461] INFO in app: ==================================================
[2025-07-24 07:04:16,469] INFO in app: Application logging initialized successfully
[2025-07-24 07:04:16,472] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 07:04:16,474] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 07:04:16,477] INFO in app: System encoding: utf-8
[2025-07-24 07:04:16,483] INFO in app: ==================================================
2025-07-24 07:04:16,717 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-24 07:04:16,718 - INFO - Added job "snapshot_par" to job store "default"
2025-07-24 07:04:16,718 - INFO - Scheduler started
2025-07-24 07:04:16,742 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-24 07:04:16,742 - INFO - [33mPress CTRL+C to quit[0m
2025-07-24 07:04:20,907 - INFO - 127.0.0.1 - - [24/Jul/2025 07:04:20] "GET /placement/10/update HTTP/1.1" 200 -
2025-07-24 07:04:21,635 - INFO - 127.0.0.1 - - [24/Jul/2025 07:04:21] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-24 07:04:41,927 - INFO - 127.0.0.1 - - [24/Jul/2025 07:04:41] "POST /placement/10/update HTTP/1.1" 200 -
2025-07-24 07:04:46,253 - INFO - 127.0.0.1 - - [24/Jul/2025 07:04:46] "POST /placement/10/update HTTP/1.1" 200 -
2025-07-24 07:05:39,584 - INFO - 127.0.0.1 - - [24/Jul/2025 07:05:39] "POST /placement/10/update HTTP/1.1" 200 -
2025-07-24 07:05:47,095 - INFO - 127.0.0.1 - - [24/Jul/2025 07:05:47] "POST /placement/10/update HTTP/1.1" 200 -
2025-07-24 07:05:54,105 - INFO - 127.0.0.1 - - [24/Jul/2025 07:05:54] "GET /placements HTTP/1.1" 200 -
2025-07-24 07:06:18,098 - INFO - 127.0.0.1 - - [24/Jul/2025 07:06:18] "GET /placement/10 HTTP/1.1" 200 -
2025-07-24 07:06:35,679 - INFO - 127.0.0.1 - - [24/Jul/2025 07:06:35] "GET /placement/10/schedule HTTP/1.1" 200 -
[2025-07-24 13:42:39,614] INFO in app: ==================================================
[2025-07-24 13:42:39,910] INFO in app: Application logging initialized successfully
[2025-07-24 13:42:39,927] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 13:42:39,929] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 13:42:39,960] INFO in app: System encoding: utf-8
[2025-07-24 13:42:39,995] INFO in app: ==================================================
2025-07-24 13:42:40,842 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-24 13:42:40,844 - INFO - Added job "snapshot_par" to job store "default"
2025-07-24 13:42:40,845 - INFO - Scheduler started
2025-07-24 13:42:41,166 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-24 13:42:41,167 - INFO - [33mPress CTRL+C to quit[0m
2025-07-24 13:42:45,732 - INFO - 127.0.0.1 - - [24/Jul/2025 13:42:45] "GET /placement/10/schedule HTTP/1.1" 200 -
2025-07-24 13:42:54,622 - INFO - 127.0.0.1 - - [24/Jul/2025 13:42:54] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-24 13:42:57,328 - INFO - 127.0.0.1 - - [24/Jul/2025 13:42:57] "GET /placement/10 HTTP/1.1" 200 -
2025-07-24 13:43:03,035 - INFO - 127.0.0.1 - - [24/Jul/2025 13:43:03] "GET /placement/10/update HTTP/1.1" 200 -
2025-07-24 13:43:29,098 - INFO - 127.0.0.1 - - [24/Jul/2025 13:43:29] "POST /placement/10/update HTTP/1.1" 200 -
2025-07-24 13:45:01,900 - INFO - 127.0.0.1 - - [24/Jul/2025 13:45:01] "GET / HTTP/1.1" 200 -
[2025-07-24 14:36:56,329] INFO in app: ==================================================
[2025-07-24 14:36:56,466] INFO in app: Application logging initialized successfully
[2025-07-24 14:36:56,470] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 14:36:56,472] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 14:36:56,483] INFO in app: System encoding: utf-8
[2025-07-24 14:36:56,494] INFO in app: ==================================================
2025-07-24 14:36:57,140 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-24 14:36:57,143 - INFO - Added job "snapshot_par" to job store "default"
2025-07-24 14:36:57,143 - INFO - Scheduler started
2025-07-24 14:36:57,223 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-24 14:36:57,224 - INFO - [33mPress CTRL+C to quit[0m
2025-07-24 14:43:41,206 - INFO - Scheduler has been shut down
[2025-07-24 14:43:45,613] INFO in app: ==================================================
[2025-07-24 14:43:45,619] INFO in app: Application logging initialized successfully
[2025-07-24 14:43:45,621] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 14:43:45,626] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 14:43:45,628] INFO in app: System encoding: utf-8
[2025-07-24 14:43:45,633] INFO in app: ==================================================
2025-07-24 14:43:45,828 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-24 14:43:45,830 - INFO - Added job "snapshot_par" to job store "default"
2025-07-24 14:43:45,830 - INFO - Scheduler started
2025-07-24 14:43:45,857 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-24 14:43:45,857 - INFO - [33mPress CTRL+C to quit[0m
2025-07-24 14:43:52,073 - INFO - 127.0.0.1 - - [24/Jul/2025 14:43:52] "GET / HTTP/1.1" 200 -
2025-07-24 14:44:00,138 - INFO - 127.0.0.1 - - [24/Jul/2025 14:44:00] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-24 14:44:01,193 - INFO - 127.0.0.1 - - [24/Jul/2025 14:44:01] "GET /placements HTTP/1.1" 200 -
2025-07-24 14:44:26,906 - INFO - 127.0.0.1 - - [24/Jul/2025 14:44:26] "GET /placement/10 HTTP/1.1" 200 -
[2025-07-24 14:44:28,825] ERROR in app: Exception on /placement/10/update [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6971, in update_placement
    form.new_tenure.data = placement.tenure
                           ^^^^^^^^^^^^^^^^
AttributeError: 'Placement' object has no attribute 'tenure'
2025-07-24 14:44:28,825 - ERROR - Exception on /placement/10/update [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 6971, in update_placement
    form.new_tenure.data = placement.tenure
                           ^^^^^^^^^^^^^^^^
AttributeError: 'Placement' object has no attribute 'tenure'
2025-07-24 14:44:28,848 - INFO - 127.0.0.1 - - [24/Jul/2025 14:44:28] "[35m[1mGET /placement/10/update HTTP/1.1[0m" 500 -
2025-07-24 14:46:48,087 - INFO - 127.0.0.1 - - [24/Jul/2025 14:46:48] "GET /placement/10 HTTP/1.1" 200 -
2025-07-24 14:56:59,665 - INFO - Scheduler has been shut down
[2025-07-24 14:57:04,894] INFO in app: ==================================================
[2025-07-24 14:57:04,901] INFO in app: Application logging initialized successfully
[2025-07-24 14:57:04,905] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 14:57:04,907] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 14:57:04,909] INFO in app: System encoding: utf-8
[2025-07-24 14:57:04,913] INFO in app: ==================================================
2025-07-24 14:57:05,099 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-24 14:57:05,100 - INFO - Added job "snapshot_par" to job store "default"
2025-07-24 14:57:05,101 - INFO - Scheduler started
2025-07-24 14:57:05,125 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-24 14:57:05,125 - INFO - [33mPress CTRL+C to quit[0m
2025-07-24 14:57:08,982 - INFO - 127.0.0.1 - - [24/Jul/2025 14:57:08] "GET /placement/10 HTTP/1.1" 200 -
2025-07-24 14:57:11,061 - INFO - 127.0.0.1 - - [24/Jul/2025 14:57:11] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-24 14:57:13,025] ERROR in app: Exception on /placement/10/update [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7020, in update_placement
    form.new_duration.data = placement.duration_months
                             ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Placement' object has no attribute 'duration_months'
2025-07-24 14:57:13,025 - ERROR - Exception on /placement/10/update [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7020, in update_placement
    form.new_duration.data = placement.duration_months
                             ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Placement' object has no attribute 'duration_months'
2025-07-24 14:57:13,050 - INFO - 127.0.0.1 - - [24/Jul/2025 14:57:13] "[35m[1mGET /placement/10/update HTTP/1.1[0m" 500 -
2025-07-24 14:59:59,213 - INFO - Scheduler has been shut down
[2025-07-24 15:00:03,209] INFO in app: ==================================================
[2025-07-24 15:00:03,215] INFO in app: Application logging initialized successfully
[2025-07-24 15:00:03,217] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 15:00:03,219] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 15:00:03,221] INFO in app: System encoding: utf-8
[2025-07-24 15:00:03,223] INFO in app: ==================================================
2025-07-24 15:00:03,445 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-24 15:00:03,447 - INFO - Added job "snapshot_par" to job store "default"
2025-07-24 15:00:03,447 - INFO - Scheduler started
2025-07-24 15:00:03,468 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-24 15:00:03,468 - INFO - [33mPress CTRL+C to quit[0m
2025-07-24 15:00:08,019 - INFO - 127.0.0.1 - - [24/Jul/2025 15:00:08] "GET /placement/10 HTTP/1.1" 200 -
2025-07-24 15:00:11,285 - INFO - 127.0.0.1 - - [24/Jul/2025 15:00:11] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-24 15:00:13,060] ERROR in app: Exception on /placement/10/update [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7020, in update_placement
    form.new_tenure.data = placement.tenure
                           ^^^^^^^^^^^^^^^^
AttributeError: 'Placement' object has no attribute 'tenure'
2025-07-24 15:00:13,060 - ERROR - Exception on /placement/10/update [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7020, in update_placement
    form.new_tenure.data = placement.tenure
                           ^^^^^^^^^^^^^^^^
AttributeError: 'Placement' object has no attribute 'tenure'
2025-07-24 15:00:13,080 - INFO - 127.0.0.1 - - [24/Jul/2025 15:00:13] "[35m[1mGET /placement/10/update HTTP/1.1[0m" 500 -
2025-07-24 15:00:16,531 - INFO - 127.0.0.1 - - [24/Jul/2025 15:00:16] "GET /placement/10/liquidate HTTP/1.1" 200 -
2025-07-24 15:00:19,590 - INFO - The CSRF token is missing.
2025-07-24 15:00:19,609 - INFO - 127.0.0.1 - - [24/Jul/2025 15:00:19] "POST /placement/10/capitalize HTTP/1.1" 200 -
2025-07-24 15:00:22,564 - INFO - 127.0.0.1 - - [24/Jul/2025 15:00:22] "GET /placement/10/change_rate HTTP/1.1" 200 -
2025-07-24 15:00:30,374 - INFO - 127.0.0.1 - - [24/Jul/2025 15:00:30] "GET /placement/10/withdraw HTTP/1.1" 200 -
2025-07-24 15:28:58,614 - INFO - Scheduler has been shut down
[2025-07-24 15:29:01,677] INFO in app: ==================================================
[2025-07-24 15:29:01,684] INFO in app: Application logging initialized successfully
[2025-07-24 15:29:01,687] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 15:29:01,692] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 15:29:01,697] INFO in app: System encoding: utf-8
[2025-07-24 15:29:01,700] INFO in app: ==================================================
2025-07-24 15:29:01,998 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-24 15:29:02,000 - INFO - Added job "snapshot_par" to job store "default"
2025-07-24 15:29:02,000 - INFO - Scheduler started
2025-07-24 15:29:02,022 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-24 15:29:02,023 - INFO - [33mPress CTRL+C to quit[0m
2025-07-24 15:29:07,192 - INFO - 127.0.0.1 - - [24/Jul/2025 15:29:07] "GET /placement/10 HTTP/1.1" 200 -
2025-07-24 15:29:09,220 - INFO - 127.0.0.1 - - [24/Jul/2025 15:29:09] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-24 15:29:11,528 - INFO - 127.0.0.1 - - [24/Jul/2025 15:29:11] "GET /placement/10/update HTTP/1.1" 200 -
2025-07-24 15:29:19,478 - INFO - 127.0.0.1 - - [24/Jul/2025 15:29:19] "GET /placement/10/update HTTP/1.1" 200 -
[2025-07-24 15:29:43,598] ERROR in app: Exception on /placement/10/update [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7023, in update_placement
    placement.add_deposit(amount, effective_date)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 1671, in add_deposit
    self.current_balance += amount
TypeError: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-07-24 15:29:43,598 - ERROR - Exception on /placement/10/update [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7023, in update_placement
    placement.add_deposit(amount, effective_date)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 1671, in add_deposit
    self.current_balance += amount
TypeError: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-07-24 15:29:43,622 - INFO - 127.0.0.1 - - [24/Jul/2025 15:29:43] "[35m[1mPOST /placement/10/update HTTP/1.1[0m" 500 -
2025-07-24 15:31:26,798 - INFO - Scheduler has been shut down
[2025-07-24 15:31:30,478] INFO in app: ==================================================
[2025-07-24 15:31:30,484] INFO in app: Application logging initialized successfully
[2025-07-24 15:31:30,489] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 15:31:30,491] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 15:31:30,496] INFO in app: System encoding: utf-8
[2025-07-24 15:31:30,497] INFO in app: ==================================================
2025-07-24 15:31:30,902 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-24 15:31:30,904 - INFO - Added job "snapshot_par" to job store "default"
2025-07-24 15:31:30,904 - INFO - Scheduler started
2025-07-24 15:31:30,929 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-24 15:31:30,929 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-24 15:31:37,460] ERROR in app: Exception on /placement/10/update [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7023, in update_placement
    placement.add_deposit(amount, effective_date)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 1672, in add_deposit
    self.amount += amount  # Also update the original amount
    ^^^^^^^^^^^^^^^^^^^^^
TypeError: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-07-24 15:31:37,460 - ERROR - Exception on /placement/10/update [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7023, in update_placement
    placement.add_deposit(amount, effective_date)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 1672, in add_deposit
    self.amount += amount  # Also update the original amount
    ^^^^^^^^^^^^^^^^^^^^^
TypeError: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-07-24 15:31:37,491 - INFO - 127.0.0.1 - - [24/Jul/2025 15:31:37] "[35m[1mPOST /placement/10/update HTTP/1.1[0m" 500 -
[2025-07-24 15:31:44,951] ERROR in app: Exception on /placement/10/update [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7023, in update_placement
    placement.add_deposit(amount, effective_date)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 1672, in add_deposit
    self.amount += amount  # Also update the original amount
    ^^^^^^^^^^^^^^^^^^^^^
TypeError: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-07-24 15:31:44,951 - ERROR - Exception on /placement/10/update [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7023, in update_placement
    placement.add_deposit(amount, effective_date)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 1672, in add_deposit
    self.amount += amount  # Also update the original amount
    ^^^^^^^^^^^^^^^^^^^^^
TypeError: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-07-24 15:31:44,961 - INFO - 127.0.0.1 - - [24/Jul/2025 15:31:44] "[35m[1mPOST /placement/10/update HTTP/1.1[0m" 500 -
2025-07-24 15:31:45,267 - INFO - 127.0.0.1 - - [24/Jul/2025 15:31:45] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-24 15:32:20,756 - INFO - Scheduler has been shut down
[2025-07-24 15:32:23,772] INFO in app: ==================================================
[2025-07-24 15:32:23,778] INFO in app: Application logging initialized successfully
[2025-07-24 15:32:23,780] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 15:32:23,782] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 15:32:23,784] INFO in app: System encoding: utf-8
[2025-07-24 15:32:23,786] INFO in app: ==================================================
2025-07-24 15:32:23,997 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-24 15:32:23,998 - INFO - Added job "snapshot_par" to job store "default"
2025-07-24 15:32:23,998 - INFO - Scheduler started
2025-07-24 15:32:24,020 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-24 15:32:24,020 - INFO - [33mPress CTRL+C to quit[0m
2025-07-24 15:32:27,035 - INFO - 127.0.0.1 - - [24/Jul/2025 15:32:27] "GET /placement/10/update HTTP/1.1" 200 -
2025-07-24 15:32:28,185 - INFO - 127.0.0.1 - - [24/Jul/2025 15:32:28] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-24 15:32:40,567] ERROR in app: Exception on /placement/10/update [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7023, in update_placement
    placement.add_deposit(amount, effective_date)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 1672, in add_deposit
    self.amount += amount  # Also update the original amount
    ^^^^^^^^^^^^^^^^^^^^^
TypeError: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-07-24 15:32:40,567 - ERROR - Exception on /placement/10/update [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7023, in update_placement
    placement.add_deposit(amount, effective_date)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 1672, in add_deposit
    self.amount += amount  # Also update the original amount
    ^^^^^^^^^^^^^^^^^^^^^
TypeError: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-07-24 15:32:40,593 - INFO - 127.0.0.1 - - [24/Jul/2025 15:32:40] "[35m[1mPOST /placement/10/update HTTP/1.1[0m" 500 -
2025-07-24 15:34:01,128 - INFO - Scheduler has been shut down
[2025-07-24 15:34:04,300] INFO in app: ==================================================
[2025-07-24 15:34:04,307] INFO in app: Application logging initialized successfully
[2025-07-24 15:34:04,309] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 15:34:04,311] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 15:34:04,313] INFO in app: System encoding: utf-8
[2025-07-24 15:34:04,317] INFO in app: ==================================================
2025-07-24 15:34:04,541 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-24 15:34:04,542 - INFO - Added job "snapshot_par" to job store "default"
2025-07-24 15:34:04,542 - INFO - Scheduler started
2025-07-24 15:34:04,560 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-24 15:34:04,560 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-24 15:34:09,053] ERROR in app: Exception on /placement/10/update [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7023, in update_placement
    placement.add_deposit(amount, effective_date)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 1672, in add_deposit
    self.amount += amount  # Also update the original amount
    ^^^^^^^^^^^^^^^^^^^^^
TypeError: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-07-24 15:34:09,053 - ERROR - Exception on /placement/10/update [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7023, in update_placement
    placement.add_deposit(amount, effective_date)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 1672, in add_deposit
    self.amount += amount  # Also update the original amount
    ^^^^^^^^^^^^^^^^^^^^^
TypeError: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-07-24 15:34:09,077 - INFO - 127.0.0.1 - - [24/Jul/2025 15:34:09] "[35m[1mPOST /placement/10/update HTTP/1.1[0m" 500 -
2025-07-24 15:34:09,135 - INFO - 127.0.0.1 - - [24/Jul/2025 15:34:09] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-24 15:34:59,637 - INFO - Scheduler has been shut down
[2025-07-24 15:35:02,911] INFO in app: ==================================================
[2025-07-24 15:35:02,917] INFO in app: Application logging initialized successfully
[2025-07-24 15:35:02,920] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 15:35:02,921] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 15:35:02,923] INFO in app: System encoding: utf-8
[2025-07-24 15:35:02,926] INFO in app: ==================================================
2025-07-24 15:35:03,131 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-24 15:35:03,133 - INFO - Added job "snapshot_par" to job store "default"
2025-07-24 15:35:03,133 - INFO - Scheduler started
2025-07-24 15:35:03,154 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-24 15:35:03,155 - INFO - [33mPress CTRL+C to quit[0m
2025-07-24 15:35:10,367 - INFO - 127.0.0.1 - - [24/Jul/2025 15:35:10] "GET /placement/10/update HTTP/1.1" 200 -
2025-07-24 15:35:11,407 - INFO - 127.0.0.1 - - [24/Jul/2025 15:35:11] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-24 15:35:26,084] ERROR in app: Exception on /placement/10/update [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7023, in update_placement
    placement.add_deposit(amount, effective_date)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 1672, in add_deposit
    self.amount += amount  # Also update the original amount
    ^^^^^^^^^^^^^^^^^^^^^
TypeError: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-07-24 15:35:26,084 - ERROR - Exception on /placement/10/update [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7023, in update_placement
    placement.add_deposit(amount, effective_date)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 1672, in add_deposit
    self.amount += amount  # Also update the original amount
    ^^^^^^^^^^^^^^^^^^^^^
TypeError: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-07-24 15:35:26,107 - INFO - 127.0.0.1 - - [24/Jul/2025 15:35:26] "[35m[1mPOST /placement/10/update HTTP/1.1[0m" 500 -
2025-07-24 15:35:52,747 - INFO - Scheduler has been shut down
[2025-07-24 15:35:58,343] INFO in app: ==================================================
[2025-07-24 15:35:58,349] INFO in app: Application logging initialized successfully
[2025-07-24 15:35:58,353] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 15:35:58,355] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 15:35:58,356] INFO in app: System encoding: utf-8
[2025-07-24 15:35:58,360] INFO in app: ==================================================
2025-07-24 15:35:58,563 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-24 15:35:58,565 - INFO - Added job "snapshot_par" to job store "default"
2025-07-24 15:35:58,565 - INFO - Scheduler started
2025-07-24 15:35:58,583 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-24 15:35:58,583 - INFO - [33mPress CTRL+C to quit[0m
2025-07-24 15:36:03,272 - INFO - 127.0.0.1 - - [24/Jul/2025 15:36:03] "GET /placement/10/update HTTP/1.1" 200 -
2025-07-24 15:36:06,341 - INFO - 127.0.0.1 - - [24/Jul/2025 15:36:06] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-24 15:36:17,081 - INFO - 127.0.0.1 - - [24/Jul/2025 15:36:17] "[32mPOST /placement/10/update HTTP/1.1[0m" 302 -
2025-07-24 15:36:17,101 - INFO - 127.0.0.1 - - [24/Jul/2025 15:36:17] "GET /placement/10 HTTP/1.1" 200 -
2025-07-24 15:36:26,450 - INFO - 127.0.0.1 - - [24/Jul/2025 15:36:26] "GET /placement/10/schedule HTTP/1.1" 200 -
2025-07-24 15:36:37,735 - INFO - 127.0.0.1 - - [24/Jul/2025 15:36:37] "GET /placement/10 HTTP/1.1" 200 -
2025-07-24 15:36:44,061 - INFO - 127.0.0.1 - - [24/Jul/2025 15:36:44] "GET /placement/10/update HTTP/1.1" 200 -
[2025-07-24 15:36:54,231] ERROR in app: Exception on /placement/10/update [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7029, in update_placement
    placement.withdraw_funds(amount, effective_date)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 1698, in withdraw_funds
    self.current_balance -= amount
TypeError: unsupported operand type(s) for -=: 'float' and 'decimal.Decimal'
2025-07-24 15:36:54,231 - ERROR - Exception on /placement/10/update [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7029, in update_placement
    placement.withdraw_funds(amount, effective_date)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 1698, in withdraw_funds
    self.current_balance -= amount
TypeError: unsupported operand type(s) for -=: 'float' and 'decimal.Decimal'
2025-07-24 15:36:54,278 - INFO - 127.0.0.1 - - [24/Jul/2025 15:36:54] "[35m[1mPOST /placement/10/update HTTP/1.1[0m" 500 -
2025-07-24 15:37:52,010 - INFO - Scheduler has been shut down
[2025-07-24 15:37:55,741] INFO in app: ==================================================
[2025-07-24 15:37:55,747] INFO in app: Application logging initialized successfully
[2025-07-24 15:37:55,751] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 15:37:55,753] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 15:37:55,755] INFO in app: System encoding: utf-8
[2025-07-24 15:37:55,759] INFO in app: ==================================================
2025-07-24 15:37:56,115 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-24 15:37:56,117 - INFO - Added job "snapshot_par" to job store "default"
2025-07-24 15:37:56,117 - INFO - Scheduler started
2025-07-24 15:37:56,135 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-24 15:37:56,135 - INFO - [33mPress CTRL+C to quit[0m
2025-07-24 15:38:03,609 - INFO - 127.0.0.1 - - [24/Jul/2025 15:38:03] "GET /placement/10/update HTTP/1.1" 200 -
2025-07-24 15:38:05,803 - INFO - 127.0.0.1 - - [24/Jul/2025 15:38:05] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-24 15:38:18,463] ERROR in app: Exception on /placement/10/update [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7029, in update_placement
    placement.withdraw_funds(amount, effective_date)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 1698, in withdraw_funds
    self.current_balance -= amount
TypeError: unsupported operand type(s) for -=: 'float' and 'decimal.Decimal'
2025-07-24 15:38:18,463 - ERROR - Exception on /placement/10/update [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7029, in update_placement
    placement.withdraw_funds(amount, effective_date)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 1698, in withdraw_funds
    self.current_balance -= amount
TypeError: unsupported operand type(s) for -=: 'float' and 'decimal.Decimal'
2025-07-24 15:38:18,479 - INFO - 127.0.0.1 - - [24/Jul/2025 15:38:18] "[35m[1mPOST /placement/10/update HTTP/1.1[0m" 500 -
2025-07-24 15:38:27,836 - INFO - Scheduler has been shut down
[2025-07-24 15:38:31,173] INFO in app: ==================================================
[2025-07-24 15:38:31,180] INFO in app: Application logging initialized successfully
[2025-07-24 15:38:31,182] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 15:38:31,184] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 15:38:31,186] INFO in app: System encoding: utf-8
[2025-07-24 15:38:31,189] INFO in app: ==================================================
2025-07-24 15:38:31,391 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-24 15:38:31,393 - INFO - Added job "snapshot_par" to job store "default"
2025-07-24 15:38:31,393 - INFO - Scheduler started
2025-07-24 15:38:31,411 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-24 15:38:31,412 - INFO - [33mPress CTRL+C to quit[0m
2025-07-24 15:38:35,298 - INFO - 127.0.0.1 - - [24/Jul/2025 15:38:35] "GET /placement/10/update HTTP/1.1" 200 -
2025-07-24 15:38:38,656 - INFO - 127.0.0.1 - - [24/Jul/2025 15:38:38] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-24 15:38:49,640 - INFO - 127.0.0.1 - - [24/Jul/2025 15:38:49] "[32mPOST /placement/10/update HTTP/1.1[0m" 302 -
2025-07-24 15:38:49,665 - INFO - 127.0.0.1 - - [24/Jul/2025 15:38:49] "GET /placement/10 HTTP/1.1" 200 -
2025-07-24 15:39:07,319 - INFO - 127.0.0.1 - - [24/Jul/2025 15:39:07] "GET /placement/10/update HTTP/1.1" 200 -
2025-07-24 15:39:24,739 - INFO - 127.0.0.1 - - [24/Jul/2025 15:39:24] "[32mPOST /placement/10/update HTTP/1.1[0m" 302 -
2025-07-24 15:39:25,051 - INFO - 127.0.0.1 - - [24/Jul/2025 15:39:25] "GET /placement/10 HTTP/1.1" 200 -
2025-07-24 15:39:28,623 - INFO - 127.0.0.1 - - [24/Jul/2025 15:39:28] "GET /placement/10/schedule HTTP/1.1" 200 -
2025-07-24 15:39:35,373 - INFO - 127.0.0.1 - - [24/Jul/2025 15:39:35] "GET /placement/10 HTTP/1.1" 200 -
2025-07-24 15:39:40,232 - INFO - 127.0.0.1 - - [24/Jul/2025 15:39:40] "GET /placement/10/update HTTP/1.1" 200 -
[2025-07-24 15:39:54,575] ERROR in app: Exception on /placement/10/update [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7042, in update_placement
    placement.change_tenure(int(new_tenure), effective_date)
    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Placement' object has no attribute 'change_tenure'
2025-07-24 15:39:54,575 - ERROR - Exception on /placement/10/update [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7042, in update_placement
    placement.change_tenure(int(new_tenure), effective_date)
    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Placement' object has no attribute 'change_tenure'
2025-07-24 15:39:54,602 - INFO - 127.0.0.1 - - [24/Jul/2025 15:39:54] "[35m[1mPOST /placement/10/update HTTP/1.1[0m" 500 -
2025-07-24 15:41:44,923 - INFO - Scheduler has been shut down
[2025-07-24 15:41:48,490] INFO in app: ==================================================
[2025-07-24 15:41:48,497] INFO in app: Application logging initialized successfully
[2025-07-24 15:41:48,500] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 15:41:48,501] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 15:41:48,503] INFO in app: System encoding: utf-8
[2025-07-24 15:41:48,508] INFO in app: ==================================================
2025-07-24 15:41:48,711 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-24 15:41:48,713 - INFO - Added job "snapshot_par" to job store "default"
2025-07-24 15:41:48,713 - INFO - Scheduler started
2025-07-24 15:41:48,731 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-24 15:41:48,731 - INFO - [33mPress CTRL+C to quit[0m
2025-07-24 15:42:01,728 - INFO - 127.0.0.1 - - [24/Jul/2025 15:42:01] "GET /placement/10/update HTTP/1.1" 200 -
2025-07-24 15:42:06,304 - INFO - 127.0.0.1 - - [24/Jul/2025 15:42:06] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-24 15:42:14,067 - INFO - 127.0.0.1 - - [24/Jul/2025 15:42:14] "[32mPOST /placement/10/update HTTP/1.1[0m" 302 -
2025-07-24 15:42:14,355 - INFO - 127.0.0.1 - - [24/Jul/2025 15:42:14] "GET /placement/10 HTTP/1.1" 200 -
2025-07-24 15:42:23,281 - INFO - 127.0.0.1 - - [24/Jul/2025 15:42:23] "GET /placement/10/schedule HTTP/1.1" 200 -
2025-07-24 15:42:52,732 - INFO - 127.0.0.1 - - [24/Jul/2025 15:42:52] "GET /placement/10 HTTP/1.1" 200 -
2025-07-24 15:51:52,001 - INFO - Scheduler has been shut down
[2025-07-24 15:51:55,182] INFO in app: ==================================================
[2025-07-24 15:51:55,189] INFO in app: Application logging initialized successfully
[2025-07-24 15:51:55,192] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 15:51:55,194] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 15:51:55,199] INFO in app: System encoding: utf-8
[2025-07-24 15:51:55,201] INFO in app: ==================================================
2025-07-24 15:51:55,549 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-24 15:51:55,550 - INFO - Added job "snapshot_par" to job store "default"
2025-07-24 15:51:55,550 - INFO - Scheduler started
2025-07-24 15:51:55,568 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-24 15:51:55,568 - INFO - [33mPress CTRL+C to quit[0m
2025-07-24 15:52:00,000 - INFO - 127.0.0.1 - - [24/Jul/2025 15:52:00] "GET /placement/10 HTTP/1.1" 200 -
2025-07-24 15:52:03,845 - INFO - 127.0.0.1 - - [24/Jul/2025 15:52:03] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-24 15:52:05,733] ERROR in app: Exception on /placement/10/update [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7092, in update_placement
    return render_template('placement/update.html', form=form, placement=placement)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\update.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\update.html", line 27, in block 'content'
    {{ form.new_interest_rate(class="form-control", step="0.01") }}
    ^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\utils.py", line 92, in from_obj
    if hasattr(obj, "jinja_pass_arg"):
       ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'app.PlacementUpdateForm object' has no attribute 'new_interest_rate'
2025-07-24 15:52:05,733 - ERROR - Exception on /placement/10/update [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7092, in update_placement
    return render_template('placement/update.html', form=form, placement=placement)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\update.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\update.html", line 27, in block 'content'
    {{ form.new_interest_rate(class="form-control", step="0.01") }}
    ^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\utils.py", line 92, in from_obj
    if hasattr(obj, "jinja_pass_arg"):
       ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'app.PlacementUpdateForm object' has no attribute 'new_interest_rate'
2025-07-24 15:52:05,750 - INFO - 127.0.0.1 - - [24/Jul/2025 15:52:05] "[35m[1mGET /placement/10/update HTTP/1.1[0m" 500 -
2025-07-24 15:54:24,142 - INFO - Scheduler has been shut down
[2025-07-24 15:54:27,637] INFO in app: ==================================================
[2025-07-24 15:54:27,644] INFO in app: Application logging initialized successfully
[2025-07-24 15:54:27,647] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 15:54:27,649] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 15:54:27,650] INFO in app: System encoding: utf-8
[2025-07-24 15:54:27,654] INFO in app: ==================================================
2025-07-24 15:54:27,864 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-24 15:54:27,865 - INFO - Added job "snapshot_par" to job store "default"
2025-07-24 15:54:27,866 - INFO - Scheduler started
2025-07-24 15:54:27,892 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-24 15:54:27,892 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-24 15:54:41,206] ERROR in app: Exception on /placement/10/update [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7092, in update_placement
    db.session.add(tx)
    ~~~~~~~~~~~~~~^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\update.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\update.html", line 27, in block 'content'
    {{ form.new_interest_rate(class="form-control", step="0.01") }}
    ^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\utils.py", line 92, in from_obj
    if hasattr(obj, "jinja_pass_arg"):
       ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'app.PlacementUpdateForm object' has no attribute 'new_interest_rate'
2025-07-24 15:54:41,206 - ERROR - Exception on /placement/10/update [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7092, in update_placement
    db.session.add(tx)
    ~~~~~~~~~~~~~~^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\placement\update.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\placement\update.html", line 27, in block 'content'
    {{ form.new_interest_rate(class="form-control", step="0.01") }}
    ^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\utils.py", line 92, in from_obj
    if hasattr(obj, "jinja_pass_arg"):
       ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'app.PlacementUpdateForm object' has no attribute 'new_interest_rate'
2025-07-24 15:54:41,246 - INFO - 127.0.0.1 - - [24/Jul/2025 15:54:41] "[35m[1mGET /placement/10/update HTTP/1.1[0m" 500 -
2025-07-24 15:54:41,306 - INFO - 127.0.0.1 - - [24/Jul/2025 15:54:41] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-24 15:54:44,781 - INFO - 127.0.0.1 - - [24/Jul/2025 15:54:44] "GET /placement/10 HTTP/1.1" 200 -
2025-07-24 15:54:46,121 - INFO - 127.0.0.1 - - [24/Jul/2025 15:54:46] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-24 15:54:51,175 - INFO - Scheduler has been shut down
[2025-07-24 15:54:54,932] INFO in app: ==================================================
[2025-07-24 15:54:54,939] INFO in app: Application logging initialized successfully
[2025-07-24 15:54:54,942] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 15:54:54,944] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 15:54:54,951] INFO in app: System encoding: utf-8
[2025-07-24 15:54:54,953] INFO in app: ==================================================
2025-07-24 15:54:55,157 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-24 15:54:55,158 - INFO - Added job "snapshot_par" to job store "default"
2025-07-24 15:54:55,158 - INFO - Scheduler started
2025-07-24 15:54:55,177 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-24 15:54:55,177 - INFO - [33mPress CTRL+C to quit[0m
2025-07-24 15:55:04,244 - INFO - Scheduler has been shut down
[2025-07-24 15:55:07,260] INFO in app: ==================================================
[2025-07-24 15:55:07,265] INFO in app: Application logging initialized successfully
[2025-07-24 15:55:07,268] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-24 15:55:07,270] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-24 15:55:07,271] INFO in app: System encoding: utf-8
[2025-07-24 15:55:07,277] INFO in app: ==================================================
2025-07-24 15:55:07,628 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-24 15:55:07,630 - INFO - Added job "snapshot_par" to job store "default"
2025-07-24 15:55:07,630 - INFO - Scheduler started
2025-07-24 15:55:07,681 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-24 15:55:07,681 - INFO - [33mPress CTRL+C to quit[0m
2025-07-24 15:55:09,783 - INFO - 127.0.0.1 - - [24/Jul/2025 15:55:09] "GET /placement/10 HTTP/1.1" 200 -
2025-07-24 15:55:11,045 - INFO - 127.0.0.1 - - [24/Jul/2025 15:55:11] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-24 15:55:13,300 - INFO - 127.0.0.1 - - [24/Jul/2025 15:55:13] "GET /placement/10/update HTTP/1.1" 200 -
2025-07-24 15:55:35,561 - INFO - 127.0.0.1 - - [24/Jul/2025 15:55:35] "[32mPOST /placement/10/update HTTP/1.1[0m" 302 -
2025-07-24 15:55:35,852 - INFO - 127.0.0.1 - - [24/Jul/2025 15:55:35] "GET /placement/10 HTTP/1.1" 200 -
2025-07-24 15:55:40,861 - INFO - 127.0.0.1 - - [24/Jul/2025 15:55:40] "GET /placement/10/schedule HTTP/1.1" 200 -
2025-07-24 15:56:36,938 - INFO - 127.0.0.1 - - [24/Jul/2025 15:56:36] "GET /placement/10 HTTP/1.1" 200 -
2025-07-24 15:59:02,691 - INFO - 127.0.0.1 - - [24/Jul/2025 15:59:02] "GET /placements HTTP/1.1" 200 -
2025-07-24 15:59:04,001 - INFO - 127.0.0.1 - - [24/Jul/2025 15:59:04] "GET /placement/new HTTP/1.1" 200 -
2025-07-24 15:59:44,391 - INFO - 127.0.0.1 - - [24/Jul/2025 15:59:44] "[32mPOST /placement/new HTTP/1.1[0m" 302 -
2025-07-24 15:59:44,689 - INFO - 127.0.0.1 - - [24/Jul/2025 15:59:44] "GET /placement/11 HTTP/1.1" 200 -
2025-07-24 15:59:53,836 - INFO - 127.0.0.1 - - [24/Jul/2025 15:59:53] "GET /placement/11/schedule HTTP/1.1" 200 -
2025-07-24 15:59:59,988 - INFO - 127.0.0.1 - - [24/Jul/2025 15:59:59] "GET /placement/11 HTTP/1.1" 200 -
2025-07-24 16:00:21,559 - INFO - 127.0.0.1 - - [24/Jul/2025 16:00:21] "GET /placements HTTP/1.1" 200 -
2025-07-24 16:00:46,383 - INFO - 127.0.0.1 - - [24/Jul/2025 16:00:46] "GET /placement/11 HTTP/1.1" 200 -
2025-07-24 16:00:56,204 - INFO - 127.0.0.1 - - [24/Jul/2025 16:00:56] "GET /placement/11/update HTTP/1.1" 200 -
2025-07-24 16:01:19,989 - INFO - 127.0.0.1 - - [24/Jul/2025 16:01:19] "[32mPOST /placement/11/update HTTP/1.1[0m" 302 -
2025-07-24 16:01:20,303 - INFO - 127.0.0.1 - - [24/Jul/2025 16:01:20] "GET /placement/11 HTTP/1.1" 200 -
2025-07-24 16:01:30,586 - INFO - 127.0.0.1 - - [24/Jul/2025 16:01:30] "GET /placement/11/schedule HTTP/1.1" 200 -
2025-07-24 16:01:52,428 - INFO - 127.0.0.1 - - [24/Jul/2025 16:01:52] "GET /placement/11 HTTP/1.1" 200 -
2025-07-24 16:02:02,974 - INFO - 127.0.0.1 - - [24/Jul/2025 16:02:02] "GET /placements HTTP/1.1" 200 -
2025-07-24 16:02:07,515 - INFO - 127.0.0.1 - - [24/Jul/2025 16:02:07] "GET /placements/export HTTP/1.1" 200 -
2025-07-24 16:03:37,964 - INFO - 127.0.0.1 - - [24/Jul/2025 16:03:37] "GET /placement/new HTTP/1.1" 200 -
2025-07-24 16:04:21,427 - INFO - 127.0.0.1 - - [24/Jul/2025 16:04:21] "[32mPOST /placement/new HTTP/1.1[0m" 302 -
2025-07-24 16:04:21,435 - INFO - 127.0.0.1 - - [24/Jul/2025 16:04:21] "GET /placement/12 HTTP/1.1" 200 -
2025-07-24 16:04:25,076 - INFO - 127.0.0.1 - - [24/Jul/2025 16:04:25] "GET /placement/12/schedule HTTP/1.1" 200 -
2025-07-24 16:04:45,235 - INFO - 127.0.0.1 - - [24/Jul/2025 16:04:45] "GET /placements HTTP/1.1" 200 -
2025-07-24 16:05:19,831 - INFO - 127.0.0.1 - - [24/Jul/2025 16:05:19] "GET /placement/12 HTTP/1.1" 200 -
2025-07-24 16:05:25,574 - INFO - 127.0.0.1 - - [24/Jul/2025 16:05:25] "GET /placement/12/update HTTP/1.1" 200 -
2025-07-24 16:05:58,709 - INFO - 127.0.0.1 - - [24/Jul/2025 16:05:58] "[32mPOST /placement/12/update HTTP/1.1[0m" 302 -
2025-07-24 16:05:59,013 - INFO - 127.0.0.1 - - [24/Jul/2025 16:05:59] "GET /placement/12 HTTP/1.1" 200 -
2025-07-24 16:06:07,483 - INFO - 127.0.0.1 - - [24/Jul/2025 16:06:07] "GET /placement/12/schedule HTTP/1.1" 200 -
2025-07-24 16:08:40,165 - INFO - 127.0.0.1 - - [24/Jul/2025 16:08:40] "GET /placement/12 HTTP/1.1" 200 -
2025-07-24 16:09:05,560 - INFO - 127.0.0.1 - - [24/Jul/2025 16:09:05] "GET / HTTP/1.1" 200 -
2025-07-24 16:38:42,503 - INFO - 127.0.0.1 - - [24/Jul/2025 16:38:42] "GET /register HTTP/1.1" 200 -
2025-07-24 16:38:43,828 - INFO - 127.0.0.1 - - [24/Jul/2025 16:38:43] "GET /approve_customers HTTP/1.1" 200 -
2025-07-24 16:38:44,716 - INFO - 127.0.0.1 - - [24/Jul/2025 16:38:44] "GET /customers HTTP/1.1" 200 -
2025-07-24 16:38:45,796 - INFO - 127.0.0.1 - - [24/Jul/2025 16:38:45] "GET /loans HTTP/1.1" 200 -
2025-07-24 16:38:46,737 - INFO - 127.0.0.1 - - [24/Jul/2025 16:38:46] "GET /disbursements HTTP/1.1" 200 -
2025-07-24 16:38:47,771 - INFO - 127.0.0.1 - - [24/Jul/2025 16:38:47] "GET /payments HTTP/1.1" 200 -
2025-07-24 16:38:49,328 - INFO - 127.0.0.1 - - [24/Jul/2025 16:38:49] "GET /placements HTTP/1.1" 200 -
2025-07-24 16:39:00,528 - INFO - 127.0.0.1 - - [24/Jul/2025 16:39:00] "GET /loanbook HTTP/1.1" 200 -
2025-07-24 16:39:05,390 - INFO - 127.0.0.1 - - [24/Jul/2025 16:39:05] "GET /income_report HTTP/1.1" 200 -
2025-07-24 16:39:06,902 - INFO - 127.0.0.1 - - [24/Jul/2025 16:39:06] "GET /admin/dashboard HTTP/1.1" 200 -
2025-07-24 17:18:31,075 - INFO - 127.0.0.1 - - [24/Jul/2025 17:18:31] "GET / HTTP/1.1" 200 -
2025-07-25 08:43:41,654 - INFO - Scheduler has been shut down
[2025-07-25 08:44:15,016] INFO in app: ==================================================
[2025-07-25 08:44:15,086] INFO in app: Application logging initialized successfully
[2025-07-25 08:44:15,088] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 08:44:15,089] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 08:44:15,092] INFO in app: System encoding: utf-8
[2025-07-25 08:44:15,094] INFO in app: ==================================================
2025-07-25 08:44:15,389 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 08:44:15,390 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 08:44:15,390 - INFO - Scheduler started
[2025-07-25 08:44:25,380] INFO in app: ==================================================
[2025-07-25 08:44:25,389] INFO in app: Application logging initialized successfully
[2025-07-25 08:44:25,391] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 08:44:25,393] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 08:44:25,395] INFO in app: System encoding: utf-8
[2025-07-25 08:44:25,399] INFO in app: ==================================================
2025-07-25 08:44:25,605 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 08:44:25,606 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 08:44:25,606 - INFO - Scheduler started
[2025-07-25 09:02:57,889] INFO in app: ==================================================
[2025-07-25 09:02:57,897] INFO in app: Application logging initialized successfully
[2025-07-25 09:02:57,899] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 09:02:57,900] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 09:02:57,904] INFO in app: System encoding: utf-8
[2025-07-25 09:02:57,906] INFO in app: ==================================================
2025-07-25 09:02:58,110 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 09:02:58,112 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 09:02:58,112 - INFO - Scheduler started
[2025-07-25 09:05:13,218] INFO in app: ==================================================
[2025-07-25 09:05:13,224] INFO in app: Application logging initialized successfully
[2025-07-25 09:05:13,226] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 09:05:13,228] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 09:05:13,230] INFO in app: System encoding: utf-8
[2025-07-25 09:05:13,234] INFO in app: ==================================================
2025-07-25 09:05:13,439 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 09:05:13,441 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 09:05:13,441 - INFO - Scheduler started
[2025-07-25 09:05:19,357] INFO in app: ==================================================
[2025-07-25 09:05:19,363] INFO in app: Application logging initialized successfully
[2025-07-25 09:05:19,366] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 09:05:19,368] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 09:05:19,369] INFO in app: System encoding: utf-8
[2025-07-25 09:05:19,373] INFO in app: ==================================================
2025-07-25 09:05:19,749 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 09:05:19,754 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 09:05:19,754 - INFO - Scheduler started
[2025-07-25 09:05:24,435] INFO in app: ==================================================
[2025-07-25 09:05:24,441] INFO in app: Application logging initialized successfully
[2025-07-25 09:05:24,443] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 09:05:24,447] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 09:05:24,449] INFO in app: System encoding: utf-8
[2025-07-25 09:05:24,452] INFO in app: ==================================================
2025-07-25 09:05:24,682 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 09:05:24,683 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 09:05:24,683 - INFO - Scheduler started
2025-07-25 09:05:24,720 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-25 09:05:24,721 - INFO - [33mPress CTRL+C to quit[0m
2025-07-25 09:05:36,912 - INFO - 127.0.0.1 - - [25/Jul/2025 09:05:36] "GET / HTTP/1.1" 200 -
2025-07-25 09:05:38,813 - INFO - 127.0.0.1 - - [25/Jul/2025 09:05:38] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-25 09:05:45,665] ERROR in app: Exception on /sales-dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such column: loan_applications.agent_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7148, in sales_dashboard
    ).group_by(Agent.id).all()
                         ~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2858, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: loan_applications.agent_id
[SQL: SELECT agents.name AS agents_name, agents.region AS agents_region, agents.district AS agents_district, count(loan_applications.id) AS applications, sum(loan_applications.loan_amount) AS total_loan_amount 
FROM agents JOIN loan_applications ON agents.id = loan_applications.agent_id 
WHERE loan_applications.created_at >= ? AND loan_applications.status = ? GROUP BY agents.id]
[parameters: ('2025-07-01', 'approved')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-25 09:05:45,665 - ERROR - Exception on /sales-dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such column: loan_applications.agent_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7148, in sales_dashboard
    ).group_by(Agent.id).all()
                         ~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2858, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: loan_applications.agent_id
[SQL: SELECT agents.name AS agents_name, agents.region AS agents_region, agents.district AS agents_district, count(loan_applications.id) AS applications, sum(loan_applications.loan_amount) AS total_loan_amount 
FROM agents JOIN loan_applications ON agents.id = loan_applications.agent_id 
WHERE loan_applications.created_at >= ? AND loan_applications.status = ? GROUP BY agents.id]
[parameters: ('2025-07-01', 'approved')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-25 09:05:45,751 - INFO - 127.0.0.1 - - [25/Jul/2025 09:05:45] "[35m[1mGET /sales-dashboard HTTP/1.1[0m" 500 -
2025-07-25 10:07:54,321 - INFO - Scheduler has been shut down
[2025-07-25 10:08:12,920] INFO in app: ==================================================
[2025-07-25 10:08:12,928] INFO in app: Application logging initialized successfully
[2025-07-25 10:08:12,930] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 10:08:12,932] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 10:08:12,934] INFO in app: System encoding: utf-8
[2025-07-25 10:08:12,942] INFO in app: ==================================================
2025-07-25 10:08:13,184 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 10:08:13,186 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 10:08:13,186 - INFO - Scheduler started
[2025-07-25 10:08:21,111] INFO in app: ==================================================
[2025-07-25 10:08:21,122] INFO in app: Application logging initialized successfully
[2025-07-25 10:08:21,124] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 10:08:21,126] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 10:08:21,128] INFO in app: System encoding: utf-8
[2025-07-25 10:08:21,130] INFO in app: ==================================================
2025-07-25 10:08:21,563 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 10:08:21,580 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 10:08:21,580 - INFO - Scheduler started
[2025-07-25 10:18:39,323] INFO in app: ==================================================
[2025-07-25 10:18:39,330] INFO in app: Application logging initialized successfully
[2025-07-25 10:18:39,332] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 10:18:39,334] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 10:18:39,336] INFO in app: System encoding: utf-8
[2025-07-25 10:18:39,338] INFO in app: ==================================================
2025-07-25 10:18:39,538 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 10:18:39,539 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 10:18:39,539 - INFO - Scheduler started
[2025-07-25 10:18:45,289] INFO in app: ==================================================
[2025-07-25 10:18:45,295] INFO in app: Application logging initialized successfully
[2025-07-25 10:18:45,297] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 10:18:45,298] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 10:18:45,300] INFO in app: System encoding: utf-8
[2025-07-25 10:18:45,304] INFO in app: ==================================================
2025-07-25 10:18:45,501 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 10:18:45,502 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 10:18:45,502 - INFO - Scheduler started
2025-07-25 10:18:45,523 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-25 10:18:45,523 - INFO - [33mPress CTRL+C to quit[0m
2025-07-25 10:18:50,364 - INFO - 127.0.0.1 - - [25/Jul/2025 10:18:50] "GET /sales-dashboard HTTP/1.1" 200 -
2025-07-25 10:18:50,414 - INFO - 127.0.0.1 - - [25/Jul/2025 10:18:50] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-25 10:18:55,633 - INFO - 127.0.0.1 - - [25/Jul/2025 10:18:55] "GET /sales-dashboard HTTP/1.1" 200 -
2025-07-25 10:21:16,262 - INFO - Scheduler has been shut down
[2025-07-25 10:21:19,650] INFO in app: ==================================================
[2025-07-25 10:21:19,660] INFO in app: Application logging initialized successfully
[2025-07-25 10:21:19,662] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 10:21:19,666] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 10:21:19,669] INFO in app: System encoding: utf-8
[2025-07-25 10:21:19,674] INFO in app: ==================================================
2025-07-25 10:21:19,916 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 10:21:19,918 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 10:21:19,918 - INFO - Scheduler started
2025-07-25 10:21:19,939 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-25 10:21:19,939 - INFO - [33mPress CTRL+C to quit[0m
2025-07-25 10:21:24,326 - INFO - 127.0.0.1 - - [25/Jul/2025 10:21:24] "GET /sales-dashboard HTTP/1.1" 200 -
2025-07-25 10:21:24,366 - INFO - 127.0.0.1 - - [25/Jul/2025 10:21:24] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-25 10:21:26,209 - INFO - 127.0.0.1 - - [25/Jul/2025 10:21:26] "GET /sales-dashboard HTTP/1.1" 200 -
2025-07-25 10:21:27,927 - INFO - 127.0.0.1 - - [25/Jul/2025 10:21:27] "GET /sales-dashboard HTTP/1.1" 200 -
2025-07-25 10:21:28,190 - INFO - 127.0.0.1 - - [25/Jul/2025 10:21:28] "GET /sales-dashboard HTTP/1.1" 200 -
2025-07-25 10:21:28,495 - INFO - 127.0.0.1 - - [25/Jul/2025 10:21:28] "GET /sales-dashboard HTTP/1.1" 200 -
2025-07-25 10:21:33,279 - INFO - Scheduler has been shut down
[2025-07-25 10:21:36,039] INFO in app: ==================================================
[2025-07-25 10:21:36,045] INFO in app: Application logging initialized successfully
[2025-07-25 10:21:36,046] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 10:21:36,049] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 10:21:36,051] INFO in app: System encoding: utf-8
[2025-07-25 10:21:36,054] INFO in app: ==================================================
2025-07-25 10:21:36,257 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 10:21:36,259 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 10:21:36,259 - INFO - Scheduler started
2025-07-25 10:21:36,280 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-25 10:21:36,281 - INFO - [33mPress CTRL+C to quit[0m
2025-07-25 10:21:40,042 - INFO - 127.0.0.1 - - [25/Jul/2025 10:21:40] "GET / HTTP/1.1" 200 -
2025-07-25 10:21:48,172 - INFO - 127.0.0.1 - - [25/Jul/2025 10:21:48] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-25 10:21:49,352 - INFO - 127.0.0.1 - - [25/Jul/2025 10:21:49] "GET /sales-dashboard HTTP/1.1" 200 -
2025-07-25 10:22:21,516 - INFO - Scheduler has been shut down
[2025-07-25 10:22:25,607] INFO in app: ==================================================
[2025-07-25 10:22:25,614] INFO in app: Application logging initialized successfully
[2025-07-25 10:22:25,620] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 10:22:25,622] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 10:22:25,626] INFO in app: System encoding: utf-8
[2025-07-25 10:22:25,628] INFO in app: ==================================================
2025-07-25 10:22:26,256 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 10:22:26,258 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 10:22:26,258 - INFO - Scheduler started
2025-07-25 10:22:26,287 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-25 10:22:26,288 - INFO - [33mPress CTRL+C to quit[0m
2025-07-25 10:22:30,927 - INFO - 127.0.0.1 - - [25/Jul/2025 10:22:30] "GET /sales-dashboard HTTP/1.1" 200 -
2025-07-25 10:22:37,455 - INFO - 127.0.0.1 - - [25/Jul/2025 10:22:37] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-25 10:59:11,994 - INFO - Scheduler has been shut down
[2025-07-25 10:59:35,951] INFO in app: ==================================================
[2025-07-25 10:59:35,956] INFO in app: Application logging initialized successfully
[2025-07-25 10:59:35,959] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 10:59:35,962] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 10:59:35,964] INFO in app: System encoding: utf-8
[2025-07-25 10:59:35,966] INFO in app: ==================================================
[2025-07-25 11:02:52,052] INFO in app: ==================================================
[2025-07-25 11:02:52,059] INFO in app: Application logging initialized successfully
[2025-07-25 11:02:52,062] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 11:02:52,064] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 11:02:52,068] INFO in app: System encoding: utf-8
[2025-07-25 11:02:52,070] INFO in app: ==================================================
[2025-07-25 11:04:48,468] INFO in app: ==================================================
[2025-07-25 11:04:48,475] INFO in app: Application logging initialized successfully
[2025-07-25 11:04:48,477] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 11:04:48,478] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 11:04:48,480] INFO in app: System encoding: utf-8
[2025-07-25 11:04:48,484] INFO in app: ==================================================
[2025-07-25 11:05:19,542] INFO in app: ==================================================
[2025-07-25 11:05:19,548] INFO in app: Application logging initialized successfully
[2025-07-25 11:05:19,550] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 11:05:19,552] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 11:05:19,554] INFO in app: System encoding: utf-8
[2025-07-25 11:05:19,556] INFO in app: ==================================================
2025-07-25 11:05:19,764 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 11:05:19,765 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 11:05:19,765 - INFO - Scheduler started
2025-07-25 11:05:19,785 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-25 11:05:19,785 - INFO - [33mPress CTRL+C to quit[0m
2025-07-25 11:05:30,327 - INFO - 127.0.0.1 - - [25/Jul/2025 11:05:30] "GET /sales-dashboard HTTP/1.1" 200 -
2025-07-25 11:06:27,890 - INFO - 127.0.0.1 - - [25/Jul/2025 11:06:27] "GET / HTTP/1.1" 200 -
2025-07-25 11:06:27,952 - INFO - 127.0.0.1 - - [25/Jul/2025 11:06:27] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-25 11:06:29,131] ERROR in app: Exception on /register [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 2181, in _entity_namespace_key
    return getattr(ns, key)  # type: ignore
AttributeError: type object 'Agent' has no attribute 'is_active'. Did you mean: 'active'?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 504, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 3717, in register_customer_debug
    agents = Agent.query.filter_by(is_active=True).order_by(Agent.name).all()
             ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 1992, in filter_by
    _entity_namespace_key(from_entity, key) == value
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 2183, in _entity_namespace_key
    raise exc.InvalidRequestError(
        'Entity namespace for "%s" has no property "%s"' % (entity, key)
    ) from err
sqlalchemy.exc.InvalidRequestError: Entity namespace for "agents" has no property "is_active"
2025-07-25 11:06:29,131 - ERROR - Exception on /register [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 2181, in _entity_namespace_key
    return getattr(ns, key)  # type: ignore
AttributeError: type object 'Agent' has no attribute 'is_active'. Did you mean: 'active'?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 504, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 3717, in register_customer_debug
    agents = Agent.query.filter_by(is_active=True).order_by(Agent.name).all()
             ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 1992, in filter_by
    _entity_namespace_key(from_entity, key) == value
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 2183, in _entity_namespace_key
    raise exc.InvalidRequestError(
        'Entity namespace for "%s" has no property "%s"' % (entity, key)
    ) from err
sqlalchemy.exc.InvalidRequestError: Entity namespace for "agents" has no property "is_active"
2025-07-25 11:06:29,199 - INFO - 127.0.0.1 - - [25/Jul/2025 11:06:29] "[35m[1mGET /register HTTP/1.1[0m" 500 -
[2025-07-25 11:23:32,265] ERROR in app: Exception on /register [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 2181, in _entity_namespace_key
    return getattr(ns, key)  # type: ignore
AttributeError: type object 'Agent' has no attribute 'is_active'. Did you mean: 'active'?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 504, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 3717, in register_customer_debug
    agents = Agent.query.filter_by(is_active=True).order_by(Agent.name).all()
             ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 1992, in filter_by
    _entity_namespace_key(from_entity, key) == value
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 2183, in _entity_namespace_key
    raise exc.InvalidRequestError(
        'Entity namespace for "%s" has no property "%s"' % (entity, key)
    ) from err
sqlalchemy.exc.InvalidRequestError: Entity namespace for "agents" has no property "is_active"
2025-07-25 11:23:32,265 - ERROR - Exception on /register [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 2181, in _entity_namespace_key
    return getattr(ns, key)  # type: ignore
AttributeError: type object 'Agent' has no attribute 'is_active'. Did you mean: 'active'?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 504, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 3717, in register_customer_debug
    agents = Agent.query.filter_by(is_active=True).order_by(Agent.name).all()
             ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 1992, in filter_by
    _entity_namespace_key(from_entity, key) == value
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 2183, in _entity_namespace_key
    raise exc.InvalidRequestError(
        'Entity namespace for "%s" has no property "%s"' % (entity, key)
    ) from err
sqlalchemy.exc.InvalidRequestError: Entity namespace for "agents" has no property "is_active"
2025-07-25 11:23:32,297 - INFO - 127.0.0.1 - - [25/Jul/2025 11:23:32] "[35m[1mGET /register HTTP/1.1[0m" 500 -
2025-07-25 11:23:47,737 - INFO - Scheduler has been shut down
[2025-07-25 11:32:46,645] INFO in app: ==================================================
[2025-07-25 11:32:46,651] INFO in app: Application logging initialized successfully
[2025-07-25 11:32:46,654] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 11:32:46,655] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 11:32:46,657] INFO in app: System encoding: utf-8
[2025-07-25 11:32:46,659] INFO in app: ==================================================
2025-07-25 11:32:46,859 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 11:32:46,861 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 11:32:46,861 - INFO - Scheduler started
2025-07-25 11:32:46,884 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-25 11:32:46,884 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-25 11:32:52,573] ERROR in app: Exception on /register [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 2181, in _entity_namespace_key
    return getattr(ns, key)  # type: ignore
AttributeError: type object 'Agent' has no attribute 'is_active'. Did you mean: 'active'?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 504, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 3717, in register_customer_debug
    agents = Agent.query.filter_by(is_active=True).order_by(Agent.name).all()
             ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 1992, in filter_by
    _entity_namespace_key(from_entity, key) == value
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 2183, in _entity_namespace_key
    raise exc.InvalidRequestError(
        'Entity namespace for "%s" has no property "%s"' % (entity, key)
    ) from err
sqlalchemy.exc.InvalidRequestError: Entity namespace for "agents" has no property "is_active"
2025-07-25 11:32:52,573 - ERROR - Exception on /register [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 2181, in _entity_namespace_key
    return getattr(ns, key)  # type: ignore
AttributeError: type object 'Agent' has no attribute 'is_active'. Did you mean: 'active'?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 504, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 3717, in register_customer_debug
    agents = Agent.query.filter_by(is_active=True).order_by(Agent.name).all()
             ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 1992, in filter_by
    _entity_namespace_key(from_entity, key) == value
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 2183, in _entity_namespace_key
    raise exc.InvalidRequestError(
        'Entity namespace for "%s" has no property "%s"' % (entity, key)
    ) from err
sqlalchemy.exc.InvalidRequestError: Entity namespace for "agents" has no property "is_active"
2025-07-25 11:32:52,595 - INFO - 127.0.0.1 - - [25/Jul/2025 11:32:52] "[35m[1mGET /register HTTP/1.1[0m" 500 -
2025-07-25 11:32:52,648 - INFO - 127.0.0.1 - - [25/Jul/2025 11:32:52] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-25 11:33:19,303 - INFO - Scheduler has been shut down
[2025-07-25 11:33:22,550] INFO in app: ==================================================
[2025-07-25 11:33:22,557] INFO in app: Application logging initialized successfully
[2025-07-25 11:33:22,559] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 11:33:22,560] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 11:33:22,562] INFO in app: System encoding: utf-8
[2025-07-25 11:33:22,564] INFO in app: ==================================================
2025-07-25 11:33:22,764 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 11:33:22,766 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 11:33:22,766 - INFO - Scheduler started
[2025-07-25 11:35:41,370] INFO in app: ==================================================
[2025-07-25 11:35:41,376] INFO in app: Application logging initialized successfully
[2025-07-25 11:35:41,377] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 11:35:41,379] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 11:35:41,381] INFO in app: System encoding: utf-8
[2025-07-25 11:35:41,383] INFO in app: ==================================================
2025-07-25 11:35:41,577 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 11:35:41,579 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 11:35:41,579 - INFO - Scheduler started
[2025-07-25 11:41:40,342] INFO in app: ==================================================
[2025-07-25 11:41:40,348] INFO in app: Application logging initialized successfully
[2025-07-25 11:41:40,351] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 11:41:40,355] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 11:41:40,360] INFO in app: System encoding: utf-8
[2025-07-25 11:41:40,362] INFO in app: ==================================================
2025-07-25 11:41:40,714 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 11:41:40,715 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 11:41:40,715 - INFO - Scheduler started
2025-07-25 11:41:40,733 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-25 11:41:40,733 - INFO - [33mPress CTRL+C to quit[0m
2025-07-25 11:41:45,153 - INFO - 127.0.0.1 - - [25/Jul/2025 11:41:45] "GET /register HTTP/1.1" 200 -
2025-07-25 11:41:57,745 - INFO - 127.0.0.1 - - [25/Jul/2025 11:41:57] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-25 11:45:36,987 - INFO - 127.0.0.1 - - [25/Jul/2025 11:45:36] "GET / HTTP/1.1" 200 -
2025-07-25 11:49:40,760 - INFO - Scheduler has been shut down
[2025-07-25 11:49:44,004] INFO in app: ==================================================
[2025-07-25 11:49:44,037] INFO in app: Application logging initialized successfully
[2025-07-25 11:49:44,041] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 11:49:44,048] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 11:49:44,065] INFO in app: System encoding: utf-8
[2025-07-25 11:49:44,073] INFO in app: ==================================================
2025-07-25 11:49:44,340 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 11:49:44,342 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 11:49:44,342 - INFO - Scheduler started
2025-07-25 11:49:44,360 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-25 11:49:44,360 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-25 11:49:52,793] ERROR in app: Exception on / [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 3704, in home
    return render_template('home.html')
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\home.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\home.html", line 77, in block 'content'
    <a href="{{ url_for('create_agent') }}" class="btn btn-primary btn-sm">Add Agent</a>
    ^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'create_agent'. Did you mean 'create_loan' instead?
2025-07-25 11:49:52,793 - ERROR - Exception on / [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 3704, in home
    return render_template('home.html')
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\home.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\home.html", line 77, in block 'content'
    <a href="{{ url_for('create_agent') }}" class="btn btn-primary btn-sm">Add Agent</a>
    ^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'create_agent'. Did you mean 'create_loan' instead?
2025-07-25 11:49:52,811 - INFO - 127.0.0.1 - - [25/Jul/2025 11:49:52] "[35m[1mGET / HTTP/1.1[0m" 500 -
2025-07-25 11:49:52,869 - INFO - 127.0.0.1 - - [25/Jul/2025 11:49:52] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-25 11:50:46,919 - INFO - Scheduler has been shut down
[2025-07-25 11:50:49,606] INFO in app: ==================================================
[2025-07-25 11:50:49,611] INFO in app: Application logging initialized successfully
[2025-07-25 11:50:49,613] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 11:50:49,615] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 11:50:49,617] INFO in app: System encoding: utf-8
[2025-07-25 11:50:49,619] INFO in app: ==================================================
2025-07-25 11:50:49,816 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 11:50:49,817 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 11:50:49,818 - INFO - Scheduler started
2025-07-25 11:50:49,839 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-25 11:50:49,839 - INFO - [33mPress CTRL+C to quit[0m
2025-07-25 11:50:51,928 - INFO - 127.0.0.1 - - [25/Jul/2025 11:50:51] "GET / HTTP/1.1" 200 -
2025-07-25 11:50:55,164 - INFO - 127.0.0.1 - - [25/Jul/2025 11:50:55] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-25 11:51:03,471] ERROR in app: Exception on /agents/add [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7183, in add_agent
    return render_template('agents/add_agent.html')
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: agents/add_agent.html
2025-07-25 11:51:03,471 - ERROR - Exception on /agents/add [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7183, in add_agent
    return render_template('agents/add_agent.html')
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: agents/add_agent.html
2025-07-25 11:51:03,519 - INFO - 127.0.0.1 - - [25/Jul/2025 11:51:03] "[35m[1mGET /agents/add HTTP/1.1[0m" 500 -
2025-07-25 11:51:59,677 - INFO - Scheduler has been shut down
[2025-07-25 11:52:02,632] INFO in app: ==================================================
[2025-07-25 11:52:02,637] INFO in app: Application logging initialized successfully
[2025-07-25 11:52:02,640] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 11:52:02,641] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 11:52:02,643] INFO in app: System encoding: utf-8
[2025-07-25 11:52:02,645] INFO in app: ==================================================
2025-07-25 11:52:02,833 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 11:52:02,834 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 11:52:02,834 - INFO - Scheduler started
2025-07-25 11:52:02,852 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-25 11:52:02,852 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-25 11:52:05,463] ERROR in app: Exception on /agents/add [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7183, in add_agent
    return render_template('agents/add_agent.html')
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: agents/add_agent.html
2025-07-25 11:52:05,463 - ERROR - Exception on /agents/add [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7183, in add_agent
    return render_template('agents/add_agent.html')
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: agents/add_agent.html
2025-07-25 11:52:05,492 - INFO - 127.0.0.1 - - [25/Jul/2025 11:52:05] "[35m[1mGET /agents/add HTTP/1.1[0m" 500 -
2025-07-25 11:52:05,536 - INFO - 127.0.0.1 - - [25/Jul/2025 11:52:05] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-25 13:11:34,362 - INFO - Scheduler has been shut down
[2025-07-25 13:11:38,827] INFO in app: ==================================================
[2025-07-25 13:11:38,833] INFO in app: Application logging initialized successfully
[2025-07-25 13:11:38,837] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 13:11:38,840] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 13:11:38,842] INFO in app: System encoding: utf-8
[2025-07-25 13:11:38,844] INFO in app: ==================================================
2025-07-25 13:11:39,066 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 13:11:39,068 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 13:11:39,068 - INFO - Scheduler started
2025-07-25 13:11:39,092 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-25 13:11:39,092 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-25 13:12:16,420] ERROR in app: Exception on /agents/add [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7183, in add_agent
    return render_template('agents/add_agent.html')
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: agents/add_agent.html
2025-07-25 13:12:16,420 - ERROR - Exception on /agents/add [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7183, in add_agent
    return render_template('agents/add_agent.html')
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: agents/add_agent.html
2025-07-25 13:12:16,472 - INFO - 127.0.0.1 - - [25/Jul/2025 13:12:16] "[35m[1mGET /agents/add HTTP/1.1[0m" 500 -
2025-07-25 13:12:16,590 - INFO - 127.0.0.1 - - [25/Jul/2025 13:12:16] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-25 13:12:27,820 - INFO - Scheduler has been shut down
[2025-07-25 13:12:32,586] INFO in app: ==================================================
[2025-07-25 13:12:32,593] INFO in app: Application logging initialized successfully
[2025-07-25 13:12:32,596] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 13:12:32,598] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 13:12:32,601] INFO in app: System encoding: utf-8
[2025-07-25 13:12:32,605] INFO in app: ==================================================
2025-07-25 13:12:32,849 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 13:12:32,850 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 13:12:32,850 - INFO - Scheduler started
2025-07-25 13:12:32,870 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-25 13:12:32,870 - INFO - [33mPress CTRL+C to quit[0m
2025-07-25 13:12:36,929 - INFO - 127.0.0.1 - - [25/Jul/2025 13:12:36] "GET / HTTP/1.1" 200 -
2025-07-25 13:12:38,935 - INFO - 127.0.0.1 - - [25/Jul/2025 13:12:38] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-25 13:12:41,860] ERROR in app: Exception on /agents/add [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7183, in add_agent
    return render_template('agents/add_agent.html')
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: agents/add_agent.html
2025-07-25 13:12:41,860 - ERROR - Exception on /agents/add [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7183, in add_agent
    return render_template('agents/add_agent.html')
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: agents/add_agent.html
2025-07-25 13:12:41,932 - INFO - 127.0.0.1 - - [25/Jul/2025 13:12:41] "[35m[1mGET /agents/add HTTP/1.1[0m" 500 -
2025-07-25 13:48:56,477 - INFO - Scheduler has been shut down
[2025-07-25 13:49:00,753] INFO in app: ==================================================
[2025-07-25 13:49:00,759] INFO in app: Application logging initialized successfully
[2025-07-25 13:49:00,761] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 13:49:00,763] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 13:49:00,765] INFO in app: System encoding: utf-8
[2025-07-25 13:49:00,766] INFO in app: ==================================================
2025-07-25 13:49:00,973 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 13:49:00,975 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 13:49:00,975 - INFO - Scheduler started
2025-07-25 13:49:00,996 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-25 13:49:00,996 - INFO - [33mPress CTRL+C to quit[0m
2025-07-25 13:49:09,933 - INFO - 127.0.0.1 - - [25/Jul/2025 13:49:09] "GET / HTTP/1.1" 200 -
2025-07-25 13:49:12,513 - INFO - 127.0.0.1 - - [25/Jul/2025 13:49:12] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-25 13:49:13,227 - INFO - 127.0.0.1 - - [25/Jul/2025 13:49:13] "GET /agents/add HTTP/1.1" 200 -
2025-07-25 14:18:44,502 - INFO - Scheduler has been shut down
[2025-07-25 14:18:48,117] INFO in app: ==================================================
[2025-07-25 14:18:48,123] INFO in app: Application logging initialized successfully
[2025-07-25 14:18:48,125] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 14:18:48,126] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 14:18:48,128] INFO in app: System encoding: utf-8
[2025-07-25 14:18:48,130] INFO in app: ==================================================
2025-07-25 14:18:48,400 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 14:18:48,402 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 14:18:48,402 - INFO - Scheduler started
2025-07-25 14:18:48,443 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-25 14:18:48,444 - INFO - [33mPress CTRL+C to quit[0m
2025-07-25 14:18:56,374 - INFO - 127.0.0.1 - - [25/Jul/2025 14:18:56] "GET /agents/add HTTP/1.1" 200 -
2025-07-25 14:18:57,762 - INFO - 127.0.0.1 - - [25/Jul/2025 14:18:57] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-25 14:19:14,622] ERROR in app: Exception on /agents/add [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7177, in add_agent
    new_agent = Agent(name=name, phone=phone, email=email, district=district, region=region)
  File "<string>", line 4, in __init__
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
        "%r is an invalid keyword argument for %s" % (k, cls_.__name__)
    )
TypeError: 'phone' is an invalid keyword argument for Agent
2025-07-25 14:19:14,622 - ERROR - Exception on /agents/add [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7177, in add_agent
    new_agent = Agent(name=name, phone=phone, email=email, district=district, region=region)
  File "<string>", line 4, in __init__
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
        "%r is an invalid keyword argument for %s" % (k, cls_.__name__)
    )
TypeError: 'phone' is an invalid keyword argument for Agent
2025-07-25 14:19:14,677 - INFO - 127.0.0.1 - - [25/Jul/2025 14:19:14] "[35m[1mPOST /agents/add HTTP/1.1[0m" 500 -
2025-07-25 14:21:28,716 - INFO - Scheduler has been shut down
[2025-07-25 14:21:32,968] INFO in app: ==================================================
[2025-07-25 14:21:32,974] INFO in app: Application logging initialized successfully
[2025-07-25 14:21:32,976] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 14:21:32,978] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 14:21:32,980] INFO in app: System encoding: utf-8
[2025-07-25 14:21:32,982] INFO in app: ==================================================
2025-07-25 14:21:33,206 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 14:21:33,207 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 14:21:33,208 - INFO - Scheduler started
2025-07-25 14:21:33,229 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-25 14:21:33,229 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-25 14:21:37,932] ERROR in app: Exception on /agents/add [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7177, in add_agent
    new_agent = Agent(name=name, phone=phone, email=email, district=district, region=region)
  File "<string>", line 4, in __init__
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
        "%r is an invalid keyword argument for %s" % (k, cls_.__name__)
    )
TypeError: 'phone' is an invalid keyword argument for Agent
2025-07-25 14:21:37,932 - ERROR - Exception on /agents/add [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7177, in add_agent
    new_agent = Agent(name=name, phone=phone, email=email, district=district, region=region)
  File "<string>", line 4, in __init__
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
        "%r is an invalid keyword argument for %s" % (k, cls_.__name__)
    )
TypeError: 'phone' is an invalid keyword argument for Agent
2025-07-25 14:21:37,991 - INFO - 127.0.0.1 - - [25/Jul/2025 14:21:37] "[35m[1mPOST /agents/add HTTP/1.1[0m" 500 -
[2025-07-25 14:21:47,372] ERROR in app: Exception on /agents/add [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7177, in add_agent
    new_agent = Agent(name=name, phone=phone, email=email, district=district, region=region)
  File "<string>", line 4, in __init__
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
        "%r is an invalid keyword argument for %s" % (k, cls_.__name__)
    )
TypeError: 'phone' is an invalid keyword argument for Agent
2025-07-25 14:21:47,372 - ERROR - Exception on /agents/add [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7177, in add_agent
    new_agent = Agent(name=name, phone=phone, email=email, district=district, region=region)
  File "<string>", line 4, in __init__
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
        "%r is an invalid keyword argument for %s" % (k, cls_.__name__)
    )
TypeError: 'phone' is an invalid keyword argument for Agent
2025-07-25 14:21:47,389 - INFO - 127.0.0.1 - - [25/Jul/2025 14:21:47] "[35m[1mPOST /agents/add HTTP/1.1[0m" 500 -
2025-07-25 14:21:47,689 - INFO - 127.0.0.1 - - [25/Jul/2025 14:21:47] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-25 14:21:50,859 - INFO - 127.0.0.1 - - [25/Jul/2025 14:21:50] "GET /agents/add HTTP/1.1" 200 -
2025-07-25 14:21:52,522 - INFO - 127.0.0.1 - - [25/Jul/2025 14:21:52] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-25 14:21:59,501] ERROR in app: Exception on /agents/add [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7177, in add_agent
    new_agent = Agent(name=name, phone=phone, email=email, district=district, region=region)
  File "<string>", line 4, in __init__
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
        "%r is an invalid keyword argument for %s" % (k, cls_.__name__)
    )
TypeError: 'phone' is an invalid keyword argument for Agent
2025-07-25 14:21:59,501 - ERROR - Exception on /agents/add [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7177, in add_agent
    new_agent = Agent(name=name, phone=phone, email=email, district=district, region=region)
  File "<string>", line 4, in __init__
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
        "%r is an invalid keyword argument for %s" % (k, cls_.__name__)
    )
TypeError: 'phone' is an invalid keyword argument for Agent
2025-07-25 14:21:59,512 - INFO - 127.0.0.1 - - [25/Jul/2025 14:21:59] "[35m[1mPOST /agents/add HTTP/1.1[0m" 500 -
2025-07-25 14:22:24,697 - INFO - Scheduler has been shut down
[2025-07-25 14:22:28,172] INFO in app: ==================================================
[2025-07-25 14:22:28,178] INFO in app: Application logging initialized successfully
[2025-07-25 14:22:28,180] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 14:22:28,181] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 14:22:28,183] INFO in app: System encoding: utf-8
[2025-07-25 14:22:28,184] INFO in app: ==================================================
2025-07-25 14:22:28,413 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 14:22:28,414 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 14:22:28,414 - INFO - Scheduler started
2025-07-25 14:22:28,438 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-25 14:22:28,438 - INFO - [33mPress CTRL+C to quit[0m
2025-07-25 14:22:31,761 - INFO - 127.0.0.1 - - [25/Jul/2025 14:22:31] "GET /agents/add HTTP/1.1" 200 -
2025-07-25 14:22:33,042 - INFO - 127.0.0.1 - - [25/Jul/2025 14:22:33] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-25 14:22:37,789] ERROR in app: Exception on /agents/add [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7177, in add_agent
    new_agent = Agent(name=name, phone=phone, email=email, district=district, region=region)
  File "<string>", line 4, in __init__
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
        "%r is an invalid keyword argument for %s" % (k, cls_.__name__)
    )
TypeError: 'phone' is an invalid keyword argument for Agent
2025-07-25 14:22:37,789 - ERROR - Exception on /agents/add [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7177, in add_agent
    new_agent = Agent(name=name, phone=phone, email=email, district=district, region=region)
  File "<string>", line 4, in __init__
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
        "%r is an invalid keyword argument for %s" % (k, cls_.__name__)
    )
TypeError: 'phone' is an invalid keyword argument for Agent
2025-07-25 14:22:37,805 - INFO - 127.0.0.1 - - [25/Jul/2025 14:22:37] "[35m[1mPOST /agents/add HTTP/1.1[0m" 500 -
2025-07-25 14:22:46,750 - INFO - Scheduler has been shut down
[2025-07-25 14:22:50,264] INFO in app: ==================================================
[2025-07-25 14:22:50,270] INFO in app: Application logging initialized successfully
[2025-07-25 14:22:50,272] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 14:22:50,274] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 14:22:50,275] INFO in app: System encoding: utf-8
[2025-07-25 14:22:50,277] INFO in app: ==================================================
2025-07-25 14:22:50,481 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 14:22:50,482 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 14:22:50,482 - INFO - Scheduler started
2025-07-25 14:22:50,503 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-25 14:22:50,503 - INFO - [33mPress CTRL+C to quit[0m
2025-07-25 14:23:04,792 - INFO - 127.0.0.1 - - [25/Jul/2025 14:23:04] "GET /agents/add HTTP/1.1" 200 -
2025-07-25 14:23:05,902 - INFO - 127.0.0.1 - - [25/Jul/2025 14:23:05] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-25 14:23:13,073] ERROR in app: Exception on /agents/add [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7177, in add_agent
    new_agent = Agent(name=name, phone=phone, email=email, district=district, region=region)
  File "<string>", line 4, in __init__
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
        "%r is an invalid keyword argument for %s" % (k, cls_.__name__)
    )
TypeError: 'phone' is an invalid keyword argument for Agent
2025-07-25 14:23:13,073 - ERROR - Exception on /agents/add [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7177, in add_agent
    new_agent = Agent(name=name, phone=phone, email=email, district=district, region=region)
  File "<string>", line 4, in __init__
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
        "%r is an invalid keyword argument for %s" % (k, cls_.__name__)
    )
TypeError: 'phone' is an invalid keyword argument for Agent
2025-07-25 14:23:13,114 - INFO - 127.0.0.1 - - [25/Jul/2025 14:23:13] "[35m[1mPOST /agents/add HTTP/1.1[0m" 500 -
2025-07-25 14:25:23,958 - INFO - Scheduler has been shut down
[2025-07-25 14:25:27,247] INFO in app: ==================================================
[2025-07-25 14:25:27,253] INFO in app: Application logging initialized successfully
[2025-07-25 14:25:27,256] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 14:25:27,258] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 14:25:27,260] INFO in app: System encoding: utf-8
[2025-07-25 14:25:27,264] INFO in app: ==================================================
2025-07-25 14:25:27,533 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 14:25:27,534 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 14:25:27,534 - INFO - Scheduler started
2025-07-25 14:25:27,556 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-25 14:25:27,557 - INFO - [33mPress CTRL+C to quit[0m
2025-07-25 14:26:12,211 - INFO - 127.0.0.1 - - [25/Jul/2025 14:26:12] "GET /agents/add HTTP/1.1" 200 -
2025-07-25 14:26:13,411 - INFO - 127.0.0.1 - - [25/Jul/2025 14:26:13] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-25 14:26:18,206 - INFO - 127.0.0.1 - - [25/Jul/2025 14:26:18] "[32mPOST /agents/add HTTP/1.1[0m" 302 -
2025-07-25 14:26:18,239 - INFO - 127.0.0.1 - - [25/Jul/2025 14:26:18] "GET /agents HTTP/1.1" 200 -
2025-07-25 14:26:39,511 - INFO - 127.0.0.1 - - [25/Jul/2025 14:26:39] "GET /register HTTP/1.1" 200 -
2025-07-25 14:28:18,042 - INFO - 127.0.0.1 - - [25/Jul/2025 14:28:18] "[32mPOST /register HTTP/1.1[0m" 302 -
2025-07-25 14:28:18,051 - INFO - 127.0.0.1 - - [25/Jul/2025 14:28:18] "GET /register HTTP/1.1" 200 -
2025-07-25 14:28:20,101 - INFO - 127.0.0.1 - - [25/Jul/2025 14:28:20] "GET /approve_customers HTTP/1.1" 200 -
2025-07-25 14:28:30,554 - INFO - 127.0.0.1 - - [25/Jul/2025 14:28:30] "GET /admin/dashboard HTTP/1.1" 200 -
2025-07-25 14:28:33,320 - INFO - 127.0.0.1 - - [25/Jul/2025 14:28:33] "GET /admin/dashboard/votes HTTP/1.1" 200 -
2025-07-25 14:28:41,189 - INFO - 127.0.0.1 - - [25/Jul/2025 14:28:41] "[32mPOST /admin/dashboard/votes HTTP/1.1[0m" 302 -
2025-07-25 14:28:41,201 - INFO - 127.0.0.1 - - [25/Jul/2025 14:28:41] "GET /admin/dashboard/votes HTTP/1.1" 200 -
2025-07-25 14:28:45,992 - INFO - 127.0.0.1 - - [25/Jul/2025 14:28:45] "GET /approve_customers HTTP/1.1" 200 -
2025-07-25 14:28:50,833 - INFO - 127.0.0.1 - - [25/Jul/2025 14:28:50] "[32mPOST /approve_customers HTTP/1.1[0m" 302 -
2025-07-25 14:28:50,844 - INFO - 127.0.0.1 - - [25/Jul/2025 14:28:50] "GET /approve_customers HTTP/1.1" 200 -
2025-07-25 14:28:53,900 - INFO - 127.0.0.1 - - [25/Jul/2025 14:28:53] "GET /customers HTTP/1.1" 200 -
2025-07-25 14:28:55,192 - INFO - 127.0.0.1 - - [25/Jul/2025 14:28:55] "GET /loans HTTP/1.1" 200 -
2025-07-25 14:29:08,399 - INFO - 127.0.0.1 - - [25/Jul/2025 14:29:08] "GET /customers HTTP/1.1" 200 -
2025-07-25 14:29:13,019 - INFO - 127.0.0.1 - - [25/Jul/2025 14:29:13] "GET /approve_customers HTTP/1.1" 200 -
2025-07-25 14:30:26,804 - INFO - 127.0.0.1 - - [25/Jul/2025 14:30:26] "GET /loans HTTP/1.1" 200 -
2025-07-25 14:32:12,052 - INFO - 127.0.0.1 - - [25/Jul/2025 14:32:12] "[32mPOST /process_loan/1/approve HTTP/1.1[0m" 302 -
2025-07-25 14:32:12,060 - INFO - 127.0.0.1 - - [25/Jul/2025 14:32:12] "GET /loans HTTP/1.1" 200 -
2025-07-25 15:41:05,691 - INFO - Scheduler has been shut down
[2025-07-25 15:41:09,811] INFO in app: ==================================================
[2025-07-25 15:41:09,819] INFO in app: Application logging initialized successfully
[2025-07-25 15:41:09,821] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 15:41:09,822] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 15:41:09,825] INFO in app: System encoding: utf-8
[2025-07-25 15:41:09,828] INFO in app: ==================================================
[2025-07-25 15:41:56,298] INFO in app: ==================================================
[2025-07-25 15:41:56,309] INFO in app: Application logging initialized successfully
[2025-07-25 15:41:56,312] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 15:41:56,314] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 15:41:56,320] INFO in app: System encoding: utf-8
[2025-07-25 15:41:56,321] INFO in app: ==================================================
[2025-07-25 15:43:22,686] INFO in app: ==================================================
[2025-07-25 15:43:22,692] INFO in app: Application logging initialized successfully
[2025-07-25 15:43:22,694] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 15:43:22,696] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 15:43:22,698] INFO in app: System encoding: utf-8
[2025-07-25 15:43:22,701] INFO in app: ==================================================
[2025-07-25 15:43:36,299] INFO in app: ==================================================
[2025-07-25 15:43:36,307] INFO in app: Application logging initialized successfully
[2025-07-25 15:43:36,309] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 15:43:36,311] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 15:43:36,313] INFO in app: System encoding: utf-8
[2025-07-25 15:43:36,318] INFO in app: ==================================================
2025-07-25 15:43:36,541 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 15:43:36,542 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 15:43:36,542 - INFO - Scheduler started
2025-07-25 15:43:36,564 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-25 15:43:36,564 - INFO - [33mPress CTRL+C to quit[0m
2025-07-25 15:44:21,442 - INFO - 127.0.0.1 - - [25/Jul/2025 15:44:21] "GET /loans HTTP/1.1" 200 -
2025-07-25 15:44:22,230 - INFO - 127.0.0.1 - - [25/Jul/2025 15:44:22] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-25 15:44:37,255 - INFO - 127.0.0.1 - - [25/Jul/2025 15:44:37] "GET /loanbook HTTP/1.1" 200 -
2025-07-25 15:44:38,973 - INFO - 127.0.0.1 - - [25/Jul/2025 15:44:38] "GET /loan/124000001/statement HTTP/1.1" 200 -
2025-07-25 15:44:50,317 - INFO - 127.0.0.1 - - [25/Jul/2025 15:44:50] "GET /loanbook HTTP/1.1" 200 -
[2025-07-25 15:44:51,483] INFO in app: Found 1 loans for customer 202507000001
2025-07-25 15:44:51,483 - INFO - Found 1 loans for customer 202507000001
[2025-07-25 15:44:51,488] INFO in app: Customer ID: 1
2025-07-25 15:44:51,488 - INFO - Customer ID: 1
[2025-07-25 15:44:51,492] INFO in app: Found Loans: [('124000001', 'active')]
2025-07-25 15:44:51,492 - INFO - Found Loans: [('124000001', 'active')]
2025-07-25 15:44:51,539 - INFO - 127.0.0.1 - - [25/Jul/2025 15:44:51] "GET /customer/202507000001/account HTTP/1.1" 200 -
[2025-07-25 15:44:52,947] INFO in app: Found 1 loans for customer 202507000001
2025-07-25 15:44:52,947 - INFO - Found 1 loans for customer 202507000001
[2025-07-25 15:44:52,959] INFO in app: Customer ID: 1
2025-07-25 15:44:52,959 - INFO - Customer ID: 1
[2025-07-25 15:44:52,963] INFO in app: Found Loans: [('124000001', 'active')]
2025-07-25 15:44:52,963 - INFO - Found Loans: [('124000001', 'active')]
2025-07-25 15:44:52,970 - INFO - 127.0.0.1 - - [25/Jul/2025 15:44:52] "GET /customer/202507000001/account?section=additional HTTP/1.1" 200 -
2025-07-25 15:45:11,625 - INFO - 127.0.0.1 - - [25/Jul/2025 15:45:11] "[32mPOST /apply_additional/1 HTTP/1.1[0m" 302 -
[2025-07-25 15:45:11,886] INFO in app: Found 2 loans for customer 202507000001
2025-07-25 15:45:11,886 - INFO - Found 2 loans for customer 202507000001
[2025-07-25 15:45:11,888] INFO in app: Customer ID: 1
2025-07-25 15:45:11,888 - INFO - Customer ID: 1
[2025-07-25 15:45:11,890] INFO in app: Found Loans: [('124000001', 'active'), ('103000002', 'active')]
2025-07-25 15:45:11,890 - INFO - Found Loans: [('124000001', 'active'), ('103000002', 'active')]
2025-07-25 15:45:11,898 - INFO - 127.0.0.1 - - [25/Jul/2025 15:45:11] "GET /customer/202507000001/account?section=statement HTTP/1.1" 200 -
2025-07-25 15:45:14,168 - INFO - 127.0.0.1 - - [25/Jul/2025 15:45:14] "GET /loans HTTP/1.1" 200 -
2025-07-25 15:45:21,453 - INFO - 127.0.0.1 - - [25/Jul/2025 15:45:21] "GET /document/1 HTTP/1.1" 200 -
2025-07-25 15:45:59,124 - INFO - 127.0.0.1 - - [25/Jul/2025 15:45:59] "[36mGET /document/1 HTTP/1.1[0m" 304 -
2025-07-25 15:46:06,453 - INFO - 127.0.0.1 - - [25/Jul/2025 15:46:06] "GET /document/2 HTTP/1.1" 200 -
2025-07-25 15:46:16,025 - INFO - 127.0.0.1 - - [25/Jul/2025 15:46:16] "GET /document/3 HTTP/1.1" 200 -
2025-07-25 15:46:22,676 - INFO - 127.0.0.1 - - [25/Jul/2025 15:46:22] "[32mPOST /process_loan/2/approve HTTP/1.1[0m" 302 -
2025-07-25 15:46:22,692 - INFO - 127.0.0.1 - - [25/Jul/2025 15:46:22] "GET /loans HTTP/1.1" 200 -
2025-07-25 15:46:37,635 - INFO - 127.0.0.1 - - [25/Jul/2025 15:46:37] "GET /register HTTP/1.1" 200 -
2025-07-25 15:48:18,318 - INFO - 127.0.0.1 - - [25/Jul/2025 15:48:18] "[32mPOST /register HTTP/1.1[0m" 302 -
2025-07-25 15:48:18,327 - INFO - 127.0.0.1 - - [25/Jul/2025 15:48:18] "GET /register HTTP/1.1" 200 -
2025-07-25 15:50:12,532 - INFO - 127.0.0.1 - - [25/Jul/2025 15:50:12] "[32mPOST /register HTTP/1.1[0m" 302 -
2025-07-25 15:50:12,540 - INFO - 127.0.0.1 - - [25/Jul/2025 15:50:12] "GET /register HTTP/1.1" 200 -
2025-07-25 15:50:14,334 - INFO - 127.0.0.1 - - [25/Jul/2025 15:50:14] "GET /approve_customers HTTP/1.1" 200 -
2025-07-25 16:02:47,007 - INFO - Scheduler has been shut down
[2025-07-25 16:02:50,965] INFO in app: ==================================================
[2025-07-25 16:02:50,970] INFO in app: Application logging initialized successfully
[2025-07-25 16:02:50,972] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 16:02:50,975] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 16:02:50,977] INFO in app: System encoding: utf-8
[2025-07-25 16:02:50,979] INFO in app: ==================================================
2025-07-25 16:02:51,197 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 16:02:51,199 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 16:02:51,199 - INFO - Scheduler started
2025-07-25 16:02:51,221 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-25 16:02:51,221 - INFO - [33mPress CTRL+C to quit[0m
2025-07-25 16:02:58,786 - INFO - 127.0.0.1 - - [25/Jul/2025 16:02:58] "GET /approve_customers HTTP/1.1" 200 -
2025-07-25 16:03:00,314 - INFO - 127.0.0.1 - - [25/Jul/2025 16:03:00] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-25 16:03:05,848 - INFO - 127.0.0.1 - - [25/Jul/2025 16:03:05] "GET /approve_customers HTTP/1.1" 200 -
2025-07-25 16:03:06,559 - INFO - 127.0.0.1 - - [25/Jul/2025 16:03:06] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-25 16:03:20,659 - INFO - 127.0.0.1 - - [25/Jul/2025 16:03:20] "GET /approve_customers HTTP/1.1" 200 -
2025-07-25 16:03:21,558 - INFO - 127.0.0.1 - - [25/Jul/2025 16:03:21] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-25 16:03:28,561 - INFO - 127.0.0.1 - - [25/Jul/2025 16:03:28] "[32mPOST /approve_customers HTTP/1.1[0m" 302 -
2025-07-25 16:03:28,846 - INFO - 127.0.0.1 - - [25/Jul/2025 16:03:28] "GET /approve_customers HTTP/1.1" 200 -
2025-07-25 16:03:31,518 - INFO - 127.0.0.1 - - [25/Jul/2025 16:03:31] "GET /register HTTP/1.1" 200 -
2025-07-25 16:03:36,229 - INFO - 127.0.0.1 - - [25/Jul/2025 16:03:36] "GET / HTTP/1.1" 200 -
2025-07-25 16:03:39,262 - INFO - 127.0.0.1 - - [25/Jul/2025 16:03:39] "GET /sales-dashboard HTTP/1.1" 200 -
2025-07-25 16:03:52,895 - INFO - 127.0.0.1 - - [25/Jul/2025 16:03:52] "GET /register HTTP/1.1" 200 -
2025-07-25 16:06:25,271 - INFO - 127.0.0.1 - - [25/Jul/2025 16:06:25] "[32mPOST /register HTTP/1.1[0m" 302 -
2025-07-25 16:06:25,278 - INFO - 127.0.0.1 - - [25/Jul/2025 16:06:25] "GET /register HTTP/1.1" 200 -
2025-07-25 16:06:30,935 - INFO - 127.0.0.1 - - [25/Jul/2025 16:06:30] "GET /approve_customers HTTP/1.1" 200 -
2025-07-25 16:09:13,196 - INFO - Scheduler has been shut down
[2025-07-25 16:09:18,143] INFO in app: ==================================================
[2025-07-25 16:09:18,151] INFO in app: Application logging initialized successfully
[2025-07-25 16:09:18,153] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 16:09:18,154] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 16:09:18,155] INFO in app: System encoding: utf-8
[2025-07-25 16:09:18,156] INFO in app: ==================================================
2025-07-25 16:09:18,382 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 16:09:18,383 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 16:09:18,384 - INFO - Scheduler started
2025-07-25 16:14:01,891 - INFO - Scheduler has been shut down
[2025-07-25 16:14:05,775] INFO in app: ==================================================
[2025-07-25 16:14:05,783] INFO in app: Application logging initialized successfully
[2025-07-25 16:14:05,785] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 16:14:05,787] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 16:14:05,790] INFO in app: System encoding: utf-8
[2025-07-25 16:14:05,794] INFO in app: ==================================================
2025-07-25 16:14:06,068 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 16:14:06,070 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 16:14:06,070 - INFO - Scheduler started
2025-07-25 16:14:06,094 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-25 16:14:06,094 - INFO - [33mPress CTRL+C to quit[0m
2025-07-25 16:14:18,510 - INFO - 127.0.0.1 - - [25/Jul/2025 16:14:18] "GET /approve_customers HTTP/1.1" 200 -
2025-07-25 16:14:19,542 - INFO - 127.0.0.1 - - [25/Jul/2025 16:14:19] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-25 16:14:20,689 - INFO - 127.0.0.1 - - [25/Jul/2025 16:14:20] "GET /approve_customers HTTP/1.1" 200 -
2025-07-25 16:14:21,448 - INFO - 127.0.0.1 - - [25/Jul/2025 16:14:21] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-25 16:14:29,485 - INFO - 127.0.0.1 - - [25/Jul/2025 16:14:29] "[32mPOST /approve_customers HTTP/1.1[0m" 302 -
2025-07-25 16:14:29,493 - INFO - 127.0.0.1 - - [25/Jul/2025 16:14:29] "GET /approve_customers HTTP/1.1" 200 -
2025-07-25 16:14:33,052 - INFO - 127.0.0.1 - - [25/Jul/2025 16:14:33] "GET /register HTTP/1.1" 200 -
2025-07-25 16:16:16,675 - INFO - 127.0.0.1 - - [25/Jul/2025 16:16:16] "[32mPOST /register HTTP/1.1[0m" 302 -
2025-07-25 16:16:16,682 - INFO - 127.0.0.1 - - [25/Jul/2025 16:16:16] "GET /register HTTP/1.1" 200 -
2025-07-25 16:16:18,158 - INFO - 127.0.0.1 - - [25/Jul/2025 16:16:18] "GET /approve_customers HTTP/1.1" 200 -
2025-07-25 16:22:13,815 - INFO - Scheduler has been shut down
[2025-07-25 16:22:16,866] INFO in app: ==================================================
[2025-07-25 16:22:16,874] INFO in app: Application logging initialized successfully
[2025-07-25 16:22:16,877] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 16:22:16,879] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 16:22:16,882] INFO in app: System encoding: utf-8
[2025-07-25 16:22:16,886] INFO in app: ==================================================
2025-07-25 16:22:17,111 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 16:22:17,113 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 16:22:17,113 - INFO - Scheduler started
2025-07-25 16:22:17,131 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-25 16:22:17,131 - INFO - [33mPress CTRL+C to quit[0m
2025-07-25 16:22:29,910 - INFO - 127.0.0.1 - - [25/Jul/2025 16:22:29] "GET /approve_customers HTTP/1.1" 200 -
2025-07-25 16:22:30,803 - INFO - 127.0.0.1 - - [25/Jul/2025 16:22:30] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-25 16:22:35,810 - INFO - 127.0.0.1 - - [25/Jul/2025 16:22:35] "GET /approve_customers HTTP/1.1" 200 -
2025-07-25 16:22:36,378 - INFO - 127.0.0.1 - - [25/Jul/2025 16:22:36] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-25 16:22:47,785 - INFO - Scheduler has been shut down
[2025-07-25 16:22:51,069] INFO in app: ==================================================
[2025-07-25 16:22:51,075] INFO in app: Application logging initialized successfully
[2025-07-25 16:22:51,078] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 16:22:51,080] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 16:22:51,082] INFO in app: System encoding: utf-8
[2025-07-25 16:22:51,086] INFO in app: ==================================================
2025-07-25 16:22:51,300 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 16:22:51,301 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 16:22:51,301 - INFO - Scheduler started
2025-07-25 16:22:51,322 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-25 16:22:51,322 - INFO - [33mPress CTRL+C to quit[0m
2025-07-25 16:22:55,256 - INFO - 127.0.0.1 - - [25/Jul/2025 16:22:55] "GET /approve_customers HTTP/1.1" 200 -
2025-07-25 16:22:55,957 - INFO - 127.0.0.1 - - [25/Jul/2025 16:22:55] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-25 16:22:56,433 - INFO - 127.0.0.1 - - [25/Jul/2025 16:22:56] "GET /approve_customers HTTP/1.1" 200 -
2025-07-25 16:22:56,993 - INFO - 127.0.0.1 - - [25/Jul/2025 16:22:56] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-25 16:23:08,041 - INFO - 127.0.0.1 - - [25/Jul/2025 16:23:08] "[32mPOST /approve_customers HTTP/1.1[0m" 302 -
2025-07-25 16:23:08,049 - INFO - 127.0.0.1 - - [25/Jul/2025 16:23:08] "GET /approve_customers HTTP/1.1" 200 -
2025-07-25 16:23:11,746 - INFO - 127.0.0.1 - - [25/Jul/2025 16:23:11] "GET /customers HTTP/1.1" 200 -
2025-07-25 16:23:16,571 - INFO - 127.0.0.1 - - [25/Jul/2025 16:23:16] "GET /loans HTTP/1.1" 200 -
2025-07-25 16:33:17,443 - INFO - Scheduler has been shut down
[2025-07-25 16:33:27,402] INFO in app: ==================================================
[2025-07-25 16:33:27,408] INFO in app: Application logging initialized successfully
[2025-07-25 16:33:27,410] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 16:33:27,412] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 16:33:27,414] INFO in app: System encoding: utf-8
[2025-07-25 16:33:27,419] INFO in app: ==================================================
2025-07-25 16:33:27,643 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 16:33:27,644 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 16:33:27,644 - INFO - Scheduler started
2025-07-25 16:33:27,663 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-25 16:33:27,663 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-25 16:33:36,748] ERROR in app: Exception on /loans [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 4060, in view_loans
    return render_template("view_loans.html", loans=processed_loans)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\view_loans.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\view_loans.html", line 122, in block 'content'
    {% set all_docs = (entry.customer.documents + entry.loan.documents)|list %}
    ^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'app.Customer object' has no attribute 'documents'
2025-07-25 16:33:36,748 - ERROR - Exception on /loans [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 4060, in view_loans
    return render_template("view_loans.html", loans=processed_loans)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\view_loans.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\view_loans.html", line 122, in block 'content'
    {% set all_docs = (entry.customer.documents + entry.loan.documents)|list %}
    ^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'app.Customer object' has no attribute 'documents'
2025-07-25 16:33:36,774 - INFO - 127.0.0.1 - - [25/Jul/2025 16:33:36] "[35m[1mGET /loans HTTP/1.1[0m" 500 -
2025-07-25 16:33:36,829 - INFO - 127.0.0.1 - - [25/Jul/2025 16:33:36] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-25 16:36:01,691 - INFO - Scheduler has been shut down
[2025-07-25 16:36:05,203] INFO in app: ==================================================
[2025-07-25 16:36:05,209] INFO in app: Application logging initialized successfully
[2025-07-25 16:36:05,212] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 16:36:05,213] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 16:36:05,215] INFO in app: System encoding: utf-8
[2025-07-25 16:36:05,218] INFO in app: ==================================================
2025-07-25 16:36:05,433 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 16:36:05,434 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 16:36:05,434 - INFO - Scheduler started
2025-07-25 16:36:05,453 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-25 16:36:05,453 - INFO - [33mPress CTRL+C to quit[0m
2025-07-25 16:36:22,166 - INFO - 127.0.0.1 - - [25/Jul/2025 16:36:22] "GET /customers HTTP/1.1" 200 -
2025-07-25 16:36:23,186 - INFO - 127.0.0.1 - - [25/Jul/2025 16:36:23] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-25 16:36:25,462] ERROR in app: Exception on /approve_customers [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 3993, in approve_customers
    joinedload(Customer.documents)
               ^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Customer' has no attribute 'documents'
2025-07-25 16:36:25,462 - ERROR - Exception on /approve_customers [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 3993, in approve_customers
    joinedload(Customer.documents)
               ^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Customer' has no attribute 'documents'
2025-07-25 16:36:25,478 - INFO - 127.0.0.1 - - [25/Jul/2025 16:36:25] "[35m[1mGET /approve_customers HTTP/1.1[0m" 500 -
2025-07-25 16:36:42,852 - INFO - 127.0.0.1 - - [25/Jul/2025 16:36:42] "GET /loans HTTP/1.1" 200 -
2025-07-25 16:38:29,272 - INFO - Scheduler has been shut down
[2025-07-25 16:38:36,373] INFO in app: ==================================================
[2025-07-25 16:38:36,380] INFO in app: Application logging initialized successfully
[2025-07-25 16:38:36,385] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 16:38:36,387] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 16:38:36,389] INFO in app: System encoding: utf-8
[2025-07-25 16:38:36,391] INFO in app: ==================================================
2025-07-25 16:38:36,670 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 16:38:36,671 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 16:38:36,671 - INFO - Scheduler started
2025-07-25 16:38:36,696 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-25 16:38:36,696 - INFO - [33mPress CTRL+C to quit[0m
2025-07-25 16:38:43,104 - INFO - 127.0.0.1 - - [25/Jul/2025 16:38:43] "GET /loans HTTP/1.1" 200 -
2025-07-25 16:38:43,838 - INFO - 127.0.0.1 - - [25/Jul/2025 16:38:43] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-25 16:38:48,959 - INFO - 127.0.0.1 - - [25/Jul/2025 16:38:48] "GET /customers HTTP/1.1" 200 -
2025-07-25 16:38:51,841 - INFO - 127.0.0.1 - - [25/Jul/2025 16:38:51] "GET /approve_customers HTTP/1.1" 200 -
2025-07-25 16:38:57,385 - INFO - 127.0.0.1 - - [25/Jul/2025 16:38:57] "GET /loans HTTP/1.1" 200 -
2025-07-25 16:39:10,774 - INFO - 127.0.0.1 - - [25/Jul/2025 16:39:10] "[32mPOST /process_loan/3/approve HTTP/1.1[0m" 302 -
2025-07-25 16:39:11,087 - INFO - 127.0.0.1 - - [25/Jul/2025 16:39:11] "GET /loans HTTP/1.1" 200 -
2025-07-25 16:39:13,858 - INFO - 127.0.0.1 - - [25/Jul/2025 16:39:13] "[32mPOST /process_loan/4/approve HTTP/1.1[0m" 302 -
2025-07-25 16:39:13,872 - INFO - 127.0.0.1 - - [25/Jul/2025 16:39:13] "GET /loans HTTP/1.1" 200 -
2025-07-25 16:39:15,661 - INFO - 127.0.0.1 - - [25/Jul/2025 16:39:15] "[32mPOST /process_loan/5/approve HTTP/1.1[0m" 302 -
2025-07-25 16:39:15,967 - INFO - 127.0.0.1 - - [25/Jul/2025 16:39:15] "GET /loans HTTP/1.1" 200 -
2025-07-25 16:39:17,961 - INFO - 127.0.0.1 - - [25/Jul/2025 16:39:17] "GET /register HTTP/1.1" 200 -
2025-07-25 16:40:47,696 - INFO - 127.0.0.1 - - [25/Jul/2025 16:40:47] "[32mPOST /register HTTP/1.1[0m" 302 -
2025-07-25 16:40:47,703 - INFO - 127.0.0.1 - - [25/Jul/2025 16:40:47] "GET /register HTTP/1.1" 200 -
2025-07-25 16:40:50,901 - INFO - 127.0.0.1 - - [25/Jul/2025 16:40:50] "GET /approve_customers HTTP/1.1" 200 -
2025-07-25 16:40:55,961 - INFO - 127.0.0.1 - - [25/Jul/2025 16:40:55] "GET /loans HTTP/1.1" 200 -
2025-07-25 16:41:06,403 - INFO - 127.0.0.1 - - [25/Jul/2025 16:41:06] "GET /approve_customers HTTP/1.1" 200 -
2025-07-25 16:56:57,452 - INFO - Scheduler has been shut down
[2025-07-25 16:57:01,344] INFO in app: ==================================================
[2025-07-25 16:57:01,350] INFO in app: Application logging initialized successfully
[2025-07-25 16:57:01,354] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 16:57:01,356] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 16:57:01,363] INFO in app: System encoding: utf-8
[2025-07-25 16:57:01,365] INFO in app: ==================================================
2025-07-25 16:57:01,634 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 16:57:01,635 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 16:57:01,636 - INFO - Scheduler started
2025-07-25 16:57:01,663 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-25 16:57:01,663 - INFO - [33mPress CTRL+C to quit[0m
2025-07-25 16:57:09,453 - INFO - 127.0.0.1 - - [25/Jul/2025 16:57:09] "GET /approve_customers HTTP/1.1" 200 -
2025-07-25 16:57:10,142 - INFO - 127.0.0.1 - - [25/Jul/2025 16:57:10] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-25 16:57:19,547 - INFO - 127.0.0.1 - - [25/Jul/2025 16:57:19] "[32mPOST /approve_customers HTTP/1.1[0m" 302 -
2025-07-25 16:57:19,829 - INFO - 127.0.0.1 - - [25/Jul/2025 16:57:19] "GET /approve_customers HTTP/1.1" 200 -
2025-07-25 16:57:27,826 - INFO - 127.0.0.1 - - [25/Jul/2025 16:57:27] "GET /loans HTTP/1.1" 200 -
2025-07-25 16:57:35,558 - INFO - 127.0.0.1 - - [25/Jul/2025 16:57:35] "[32mPOST /process_loan/6/approve HTTP/1.1[0m" 302 -
2025-07-25 16:57:35,578 - INFO - 127.0.0.1 - - [25/Jul/2025 16:57:35] "GET /loans HTTP/1.1" 200 -
2025-07-25 16:57:39,123 - INFO - 127.0.0.1 - - [25/Jul/2025 16:57:39] "GET /register HTTP/1.1" 200 -
2025-07-25 16:57:40,712 - INFO - 127.0.0.1 - - [25/Jul/2025 16:57:40] "GET /register HTTP/1.1" 200 -
2025-07-25 16:57:41,640 - INFO - 127.0.0.1 - - [25/Jul/2025 16:57:41] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-25 16:59:25,477 - INFO - 127.0.0.1 - - [25/Jul/2025 16:59:25] "[32mPOST /register HTTP/1.1[0m" 302 -
2025-07-25 16:59:25,486 - INFO - 127.0.0.1 - - [25/Jul/2025 16:59:25] "GET /register HTTP/1.1" 200 -
2025-07-25 16:59:28,374 - INFO - 127.0.0.1 - - [25/Jul/2025 16:59:28] "GET /approve_customers HTTP/1.1" 200 -
2025-07-25 17:59:50,424 - INFO - Scheduler has been shut down
[2025-07-25 17:59:55,613] INFO in app: ==================================================
[2025-07-25 17:59:55,691] INFO in app: Application logging initialized successfully
[2025-07-25 17:59:55,693] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 17:59:55,695] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 17:59:55,696] INFO in app: System encoding: utf-8
[2025-07-25 17:59:55,701] INFO in app: ==================================================
[2025-07-25 18:09:14,104] INFO in app: ==================================================
[2025-07-25 18:09:14,112] INFO in app: Application logging initialized successfully
[2025-07-25 18:09:14,114] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 18:09:14,116] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 18:09:14,118] INFO in app: System encoding: utf-8
[2025-07-25 18:09:14,123] INFO in app: ==================================================
2025-07-25 18:09:14,331 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 18:09:14,333 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 18:09:14,333 - INFO - Scheduler started
2025-07-25 18:09:14,353 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-25 18:09:14,353 - INFO - [33mPress CTRL+C to quit[0m
2025-07-25 18:09:23,489 - INFO - 127.0.0.1 - - [25/Jul/2025 18:09:23] "GET /approve_customers HTTP/1.1" 200 -
2025-07-25 18:09:24,372 - INFO - 127.0.0.1 - - [25/Jul/2025 18:09:24] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-25 18:09:30,884] ERROR in app: Exception on /loans [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 4077, in view_loans
    return render_template("view_loans.html", loans=processed_loans)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\loaders.py", line 138, in load
    code = environment.compile(source, name, filename)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 771, in compile
    self.handle_exception(source=source_hint)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\view_loans.html", line 119, in template
    {% do seen.append(doc.filename) %}
    ^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.TemplateSyntaxError: Encountered unknown tag 'do'. Jinja was looking for the following tags: 'elif' or 'else' or 'endif'. The innermost block that needs to be closed is 'if'.
2025-07-25 18:09:30,884 - ERROR - Exception on /loans [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 4077, in view_loans
    return render_template("view_loans.html", loans=processed_loans)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\loaders.py", line 138, in load
    code = environment.compile(source, name, filename)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 771, in compile
    self.handle_exception(source=source_hint)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\view_loans.html", line 119, in template
    {% do seen.append(doc.filename) %}
    ^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.TemplateSyntaxError: Encountered unknown tag 'do'. Jinja was looking for the following tags: 'elif' or 'else' or 'endif'. The innermost block that needs to be closed is 'if'.
2025-07-25 18:09:30,973 - INFO - 127.0.0.1 - - [25/Jul/2025 18:09:30] "[35m[1mGET /loans HTTP/1.1[0m" 500 -
2025-07-25 18:10:04,456 - INFO - 127.0.0.1 - - [25/Jul/2025 18:10:04] "GET /register HTTP/1.1" 200 -
2025-07-25 18:11:45,896 - INFO - 127.0.0.1 - - [25/Jul/2025 18:11:45] "[32mPOST /register HTTP/1.1[0m" 302 -
2025-07-25 18:11:45,905 - INFO - 127.0.0.1 - - [25/Jul/2025 18:11:45] "GET /register HTTP/1.1" 200 -
2025-07-25 18:11:47,865 - INFO - 127.0.0.1 - - [25/Jul/2025 18:11:47] "GET /approve_customers HTTP/1.1" 200 -
2025-07-25 18:21:35,909 - INFO - Scheduler has been shut down
[2025-07-25 18:21:45,193] INFO in app: ==================================================
[2025-07-25 18:21:45,199] INFO in app: Application logging initialized successfully
[2025-07-25 18:21:45,201] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 18:21:45,203] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 18:21:45,205] INFO in app: System encoding: utf-8
[2025-07-25 18:21:45,209] INFO in app: ==================================================
2025-07-25 18:21:45,409 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 18:21:45,411 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 18:21:45,411 - INFO - Scheduler started
2025-07-25 18:21:45,428 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-25 18:21:45,429 - INFO - [33mPress CTRL+C to quit[0m
2025-07-25 18:22:01,462 - INFO - 127.0.0.1 - - [25/Jul/2025 18:22:01] "GET /approve_customers HTTP/1.1" 200 -
2025-07-25 18:22:02,265 - INFO - 127.0.0.1 - - [25/Jul/2025 18:22:02] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-25 18:22:09,093 - INFO - 127.0.0.1 - - [25/Jul/2025 18:22:09] "GET /loans HTTP/1.1" 200 -
2025-07-25 18:22:15,087 - INFO - 127.0.0.1 - - [25/Jul/2025 18:22:15] "GET /customers HTTP/1.1" 200 -
2025-07-25 18:22:17,002 - INFO - 127.0.0.1 - - [25/Jul/2025 18:22:17] "GET /approve_customers HTTP/1.1" 200 -
2025-07-25 18:22:42,514 - INFO - 127.0.0.1 - - [25/Jul/2025 18:22:42] "[32mPOST /approve_customers HTTP/1.1[0m" 302 -
2025-07-25 18:22:42,821 - INFO - 127.0.0.1 - - [25/Jul/2025 18:22:42] "GET /approve_customers HTTP/1.1" 200 -
2025-07-25 18:22:52,240 - INFO - 127.0.0.1 - - [25/Jul/2025 18:22:52] "GET /loans HTTP/1.1" 200 -
2025-07-25 18:23:40,033 - INFO - 127.0.0.1 - - [25/Jul/2025 18:23:40] "GET /customers HTTP/1.1" 200 -
2025-07-25 18:23:41,594 - INFO - 127.0.0.1 - - [25/Jul/2025 18:23:41] "GET /approve_customers HTTP/1.1" 200 -
2025-07-25 18:25:25,597 - INFO - Scheduler has been shut down
[2025-07-25 18:25:29,225] INFO in app: ==================================================
[2025-07-25 18:25:29,233] INFO in app: Application logging initialized successfully
[2025-07-25 18:25:29,236] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 18:25:29,239] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 18:25:29,243] INFO in app: System encoding: utf-8
[2025-07-25 18:25:29,247] INFO in app: ==================================================
2025-07-25 18:25:29,456 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 18:25:29,458 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 18:25:29,458 - INFO - Scheduler started
2025-07-25 18:25:29,475 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-25 18:25:29,475 - INFO - [33mPress CTRL+C to quit[0m
2025-07-25 18:25:37,823 - INFO - 127.0.0.1 - - [25/Jul/2025 18:25:37] "GET /approve_customers HTTP/1.1" 200 -
2025-07-25 18:25:38,576 - INFO - 127.0.0.1 - - [25/Jul/2025 18:25:38] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-25 18:25:44,762 - INFO - 127.0.0.1 - - [25/Jul/2025 18:25:44] "GET /loans HTTP/1.1" 200 -
2025-07-25 18:46:37,733 - INFO - Scheduler has been shut down
[2025-07-25 18:46:40,983] INFO in app: ==================================================
[2025-07-25 18:46:40,990] INFO in app: Application logging initialized successfully
[2025-07-25 18:46:40,993] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 18:46:40,995] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 18:46:40,997] INFO in app: System encoding: utf-8
[2025-07-25 18:46:41,001] INFO in app: ==================================================
2025-07-25 18:46:41,251 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 18:46:41,253 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 18:46:41,253 - INFO - Scheduler started
2025-07-25 18:46:41,272 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-25 18:46:41,272 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-25 18:46:48,626] ERROR in app: Exception on /loans [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 4103, in view_loans
    return render_template('view_loans.html', loans=processed_loans)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\loaders.py", line 138, in load
    code = environment.compile(source, name, filename)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 771, in compile
    self.handle_exception(source=source_hint)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\view_loans.html", line 132, in template
    {% endfor %}
jinja2.exceptions.TemplateSyntaxError: Encountered unknown tag 'endfor'. Jinja was looking for the following tags: 'endblock'. The innermost block that needs to be closed is 'block'.
2025-07-25 18:46:48,626 - ERROR - Exception on /loans [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 4103, in view_loans
    return render_template('view_loans.html', loans=processed_loans)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\loaders.py", line 138, in load
    code = environment.compile(source, name, filename)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 771, in compile
    self.handle_exception(source=source_hint)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\view_loans.html", line 132, in template
    {% endfor %}
jinja2.exceptions.TemplateSyntaxError: Encountered unknown tag 'endfor'. Jinja was looking for the following tags: 'endblock'. The innermost block that needs to be closed is 'block'.
2025-07-25 18:46:48,659 - INFO - 127.0.0.1 - - [25/Jul/2025 18:46:48] "[35m[1mGET /loans HTTP/1.1[0m" 500 -
2025-07-25 18:46:48,719 - INFO - 127.0.0.1 - - [25/Jul/2025 18:46:48] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-25 18:49:41,767 - INFO - Scheduler has been shut down
[2025-07-25 18:49:45,247] INFO in app: ==================================================
[2025-07-25 18:49:45,254] INFO in app: Application logging initialized successfully
[2025-07-25 18:49:45,256] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 18:49:45,258] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 18:49:45,260] INFO in app: System encoding: utf-8
[2025-07-25 18:49:45,263] INFO in app: ==================================================
2025-07-25 18:49:45,473 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 18:49:45,475 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 18:49:45,475 - INFO - Scheduler started
2025-07-25 18:49:45,493 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-25 18:49:45,493 - INFO - [33mPress CTRL+C to quit[0m
2025-07-25 18:49:52,272 - INFO - 127.0.0.1 - - [25/Jul/2025 18:49:52] "GET /approve_customers HTTP/1.1" 200 -
2025-07-25 18:49:52,962 - INFO - 127.0.0.1 - - [25/Jul/2025 18:49:52] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-25 18:49:59,230 - INFO - 127.0.0.1 - - [25/Jul/2025 18:49:59] "GET /loans HTTP/1.1" 200 -
2025-07-25 18:50:03,463 - INFO - 127.0.0.1 - - [25/Jul/2025 18:50:03] "GET /loans HTTP/1.1" 200 -
2025-07-25 18:50:03,912 - INFO - 127.0.0.1 - - [25/Jul/2025 18:50:03] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-25 18:50:13,429 - INFO - 127.0.0.1 - - [25/Jul/2025 18:50:13] "[32mPOST /process_loan/8/approve HTTP/1.1[0m" 302 -
2025-07-25 18:50:13,469 - INFO - 127.0.0.1 - - [25/Jul/2025 18:50:13] "GET /loans HTTP/1.1" 200 -
2025-07-25 18:50:15,801 - INFO - 127.0.0.1 - - [25/Jul/2025 18:50:15] "GET /customers HTTP/1.1" 200 -
2025-07-25 18:50:17,652 - INFO - 127.0.0.1 - - [25/Jul/2025 18:50:17] "GET /approve_customers HTTP/1.1" 200 -
2025-07-25 18:50:22,499 - INFO - 127.0.0.1 - - [25/Jul/2025 18:50:22] "[32mPOST /approve_customers HTTP/1.1[0m" 302 -
2025-07-25 18:50:22,795 - INFO - 127.0.0.1 - - [25/Jul/2025 18:50:22] "GET /approve_customers HTTP/1.1" 200 -
2025-07-25 18:50:24,835 - INFO - 127.0.0.1 - - [25/Jul/2025 18:50:24] "GET / HTTP/1.1" 200 -
2025-07-25 18:50:27,313 - INFO - 127.0.0.1 - - [25/Jul/2025 18:50:27] "GET /register HTTP/1.1" 200 -
2025-07-25 18:52:19,821 - INFO - 127.0.0.1 - - [25/Jul/2025 18:52:19] "[32mPOST /register HTTP/1.1[0m" 302 -
2025-07-25 18:52:19,828 - INFO - 127.0.0.1 - - [25/Jul/2025 18:52:19] "GET /register HTTP/1.1" 200 -
2025-07-25 18:52:21,564 - INFO - 127.0.0.1 - - [25/Jul/2025 18:52:21] "GET /approve_customers HTTP/1.1" 200 -
2025-07-25 18:52:26,870 - INFO - 127.0.0.1 - - [25/Jul/2025 18:52:26] "GET /loans HTTP/1.1" 200 -
2025-07-25 18:52:44,064 - INFO - 127.0.0.1 - - [25/Jul/2025 18:52:44] "[32mPOST /process_loan/7/approve HTTP/1.1[0m" 302 -
2025-07-25 18:52:44,385 - INFO - 127.0.0.1 - - [25/Jul/2025 18:52:44] "GET /loans HTTP/1.1" 200 -
2025-07-25 19:06:24,846 - INFO - Scheduler has been shut down
[2025-07-25 19:06:28,522] INFO in app: ==================================================
[2025-07-25 19:06:28,528] INFO in app: Application logging initialized successfully
[2025-07-25 19:06:28,532] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 19:06:28,534] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 19:06:28,536] INFO in app: System encoding: utf-8
[2025-07-25 19:06:28,540] INFO in app: ==================================================
2025-07-25 19:06:28,782 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 19:06:28,783 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 19:06:28,784 - INFO - Scheduler started
2025-07-25 19:06:28,802 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-25 19:06:28,802 - INFO - [33mPress CTRL+C to quit[0m
2025-07-25 19:06:52,543 - INFO - 127.0.0.1 - - [25/Jul/2025 19:06:52] "GET /loans HTTP/1.1" 200 -
2025-07-25 19:06:53,348 - INFO - 127.0.0.1 - - [25/Jul/2025 19:06:53] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-25 19:07:00,272 - INFO - 127.0.0.1 - - [25/Jul/2025 19:07:00] "GET /approve_customers HTTP/1.1" 200 -
2025-07-25 19:14:49,000 - INFO - 127.0.0.1 - - [25/Jul/2025 19:14:49] "GET /loanbook HTTP/1.1" 200 -
2025-07-25 19:30:22,935 - INFO - Scheduler has been shut down
[2025-07-25 19:30:26,194] INFO in app: ==================================================
[2025-07-25 19:30:26,199] INFO in app: Application logging initialized successfully
[2025-07-25 19:30:26,201] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-25 19:30:26,203] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-25 19:30:26,205] INFO in app: System encoding: utf-8
[2025-07-25 19:30:26,207] INFO in app: ==================================================
2025-07-25 19:30:26,456 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-25 19:30:26,457 - INFO - Added job "snapshot_par" to job store "default"
2025-07-25 19:30:26,457 - INFO - Scheduler started
2025-07-25 19:30:26,480 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-25 19:30:26,480 - INFO - [33mPress CTRL+C to quit[0m
2025-07-25 19:44:16,100 - INFO - 127.0.0.1 - - [25/Jul/2025 19:44:16] "GET /register HTTP/1.1" 200 -
2025-07-25 20:05:05,182 - INFO - 127.0.0.1 - - [25/Jul/2025 20:05:05] "[32mPOST /register HTTP/1.1[0m" 302 -
2025-07-25 20:05:05,190 - INFO - 127.0.0.1 - - [25/Jul/2025 20:05:05] "GET /register HTTP/1.1" 200 -
2025-07-25 20:05:09,244 - INFO - 127.0.0.1 - - [25/Jul/2025 20:05:09] "GET /approve_customers HTTP/1.1" 200 -
[2025-07-27 01:01:51,184] INFO in app: ==================================================
[2025-07-27 01:01:51,278] INFO in app: Application logging initialized successfully
[2025-07-27 01:01:51,280] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-27 01:01:51,281] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-27 01:01:51,284] INFO in app: System encoding: utf-8
[2025-07-27 01:01:51,286] INFO in app: ==================================================
2025-07-27 01:01:51,605 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-27 01:01:51,607 - INFO - Added job "snapshot_par" to job store "default"
2025-07-27 01:01:51,607 - INFO - Scheduler started
2025-07-27 01:01:51,655 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-27 01:01:51,655 - INFO - [33mPress CTRL+C to quit[0m
2025-07-27 01:02:05,174 - INFO - 127.0.0.1 - - [27/Jul/2025 01:02:05] "GET /approve_customers HTTP/1.1" 200 -
2025-07-27 01:02:06,048 - INFO - 127.0.0.1 - - [27/Jul/2025 01:02:06] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-27 01:02:08,945 - INFO - 127.0.0.1 - - [27/Jul/2025 01:02:08] "GET /approve_customers HTTP/1.1" 200 -
2025-07-27 01:02:09,474 - INFO - 127.0.0.1 - - [27/Jul/2025 01:02:09] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-27 01:02:27,274 - INFO - 127.0.0.1 - - [27/Jul/2025 01:02:27] "GET /approve_customers HTTP/1.1" 200 -
2025-07-27 01:02:27,997 - INFO - 127.0.0.1 - - [27/Jul/2025 01:02:27] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-27 01:02:40,834 - INFO - 127.0.0.1 - - [27/Jul/2025 01:02:40] "[32mPOST /approve_customers HTTP/1.1[0m" 302 -
2025-07-27 01:02:41,126 - INFO - 127.0.0.1 - - [27/Jul/2025 01:02:41] "GET /approve_customers HTTP/1.1" 200 -
2025-07-27 01:02:44,483 - INFO - 127.0.0.1 - - [27/Jul/2025 01:02:44] "GET /customers HTTP/1.1" 200 -
2025-07-27 01:02:47,261 - INFO - 127.0.0.1 - - [27/Jul/2025 01:02:47] "GET /loans HTTP/1.1" 200 -
2025-07-27 01:03:05,370 - INFO - 127.0.0.1 - - [27/Jul/2025 01:03:05] "[32mPOST /process_loan/9/approve HTTP/1.1[0m" 302 -
2025-07-27 01:03:05,698 - INFO - 127.0.0.1 - - [27/Jul/2025 01:03:05] "GET /loans HTTP/1.1" 200 -
2025-07-27 01:03:12,443 - INFO - 127.0.0.1 - - [27/Jul/2025 01:03:12] "[32mPOST /process_loan/10/approve HTTP/1.1[0m" 302 -
2025-07-27 01:03:12,464 - INFO - 127.0.0.1 - - [27/Jul/2025 01:03:12] "GET /loans HTTP/1.1" 200 -
[2025-07-27 01:03:17,206] INFO in app: [DISBURSEMENT] Loan #124000001 | Top-up of: None | Cash to Client: 1500000.0
2025-07-27 01:03:17,206 - INFO - [DISBURSEMENT] Loan #124000001 | Top-up of: None | Cash to Client: 1500000.0
[2025-07-27 01:03:17,209] INFO in app: [DISBURSEMENT] Loan #103000002 | Top-up of: None | Cash to Client: 1000000.0
2025-07-27 01:03:17,209 - INFO - [DISBURSEMENT] Loan #103000002 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-27 01:03:17,211] INFO in app: [DISBURSEMENT] Loan #118000003 | Top-up of: None | Cash to Client: 1000000.0
2025-07-27 01:03:17,211 - INFO - [DISBURSEMENT] Loan #118000003 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-27 01:03:17,213] INFO in app: [DISBURSEMENT] Loan #109000004 | Top-up of: None | Cash to Client: 500000.0
2025-07-27 01:03:17,213 - INFO - [DISBURSEMENT] Loan #109000004 | Top-up of: None | Cash to Client: 500000.0
[2025-07-27 01:03:17,220] INFO in app: [DISBURSEMENT] Loan #124000005 | Top-up of: None | Cash to Client: 2000000.0
2025-07-27 01:03:17,220 - INFO - [DISBURSEMENT] Loan #124000005 | Top-up of: None | Cash to Client: 2000000.0
[2025-07-27 01:03:17,222] INFO in app: [DISBURSEMENT] Loan #118000006 | Top-up of: None | Cash to Client: 1000000.0
2025-07-27 01:03:17,222 - INFO - [DISBURSEMENT] Loan #118000006 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-27 01:03:17,226] INFO in app: [DISBURSEMENT] Loan #136000007 | Top-up of: None | Cash to Client: 1000000.0
2025-07-27 01:03:17,226 - INFO - [DISBURSEMENT] Loan #136000007 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-27 01:03:17,229] INFO in app: [DISBURSEMENT] Loan #124000008 | Top-up of: None | Cash to Client: 1000000.0
2025-07-27 01:03:17,229 - INFO - [DISBURSEMENT] Loan #124000008 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-27 01:03:17,230] INFO in app: [DISBURSEMENT] Loan #118000009 | Top-up of: None | Cash to Client: 500000.0
2025-07-27 01:03:17,230 - INFO - [DISBURSEMENT] Loan #118000009 | Top-up of: None | Cash to Client: 500000.0
[2025-07-27 01:03:17,234] INFO in app: [DISBURSEMENT] Loan #136000010 | Top-up of: None | Cash to Client: 1000000.0
2025-07-27 01:03:17,234 - INFO - [DISBURSEMENT] Loan #136000010 | Top-up of: None | Cash to Client: 1000000.0
2025-07-27 01:03:17,293 - INFO - 127.0.0.1 - - [27/Jul/2025 01:03:17] "GET /disbursements HTTP/1.1" 200 -
[2025-07-27 01:03:29,606] ERROR in app: [DISBURSE] Error for loan 124000001: Instance '<RepaymentSchedule at 0x2348f6b1160>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
2025-07-27 01:03:29,606 - ERROR - [DISBURSE] Error for loan 124000001: Instance '<RepaymentSchedule at 0x2348f6b1160>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-27 01:03:29,619] ERROR in app: [DISBURSE] Error for loan 103000002: Instance '<RepaymentSchedule at 0x2348f839e60>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
2025-07-27 01:03:29,619 - ERROR - [DISBURSE] Error for loan 103000002: Instance '<RepaymentSchedule at 0x2348f839e60>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-27 01:03:29,646] ERROR in app: [DISBURSE] Error for loan 118000003: Instance '<RepaymentSchedule at 0x2348f839e60>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
2025-07-27 01:03:29,646 - ERROR - [DISBURSE] Error for loan 118000003: Instance '<RepaymentSchedule at 0x2348f839e60>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-27 01:03:29,666] ERROR in app: [DISBURSE] Error for loan 109000004: Instance '<RepaymentSchedule at 0x2348f83be10>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
2025-07-27 01:03:29,666 - ERROR - [DISBURSE] Error for loan 109000004: Instance '<RepaymentSchedule at 0x2348f83be10>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-27 01:03:29,709] ERROR in app: [DISBURSE] Error for loan 124000005: Instance '<RepaymentSchedule at 0x2348f83be10>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
2025-07-27 01:03:29,709 - ERROR - [DISBURSE] Error for loan 124000005: Instance '<RepaymentSchedule at 0x2348f83be10>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-27 01:03:29,733] ERROR in app: [DISBURSE] Error for loan 118000006: Instance '<RepaymentSchedule at 0x2348f83bee0>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
2025-07-27 01:03:29,733 - ERROR - [DISBURSE] Error for loan 118000006: Instance '<RepaymentSchedule at 0x2348f83bee0>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-27 01:03:29,775] ERROR in app: [DISBURSE] Error for loan 136000007: Instance '<RepaymentSchedule at 0x2348f83bee0>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
2025-07-27 01:03:29,775 - ERROR - [DISBURSE] Error for loan 136000007: Instance '<RepaymentSchedule at 0x2348f83bee0>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-27 01:03:29,808] ERROR in app: [DISBURSE] Error for loan 124000008: Instance '<RepaymentSchedule at 0x2348f83ba00>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
2025-07-27 01:03:29,808 - ERROR - [DISBURSE] Error for loan 124000008: Instance '<RepaymentSchedule at 0x2348f83ba00>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-27 01:03:29,832] ERROR in app: [DISBURSE] Error for loan 118000009: Instance '<RepaymentSchedule at 0x2348f83ba00>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
2025-07-27 01:03:29,832 - ERROR - [DISBURSE] Error for loan 118000009: Instance '<RepaymentSchedule at 0x2348f83ba00>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-27 01:03:29,875] ERROR in app: [DISBURSE] Error for loan 136000010: Instance '<RepaymentSchedule at 0x2348f83b860>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
2025-07-27 01:03:29,875 - ERROR - [DISBURSE] Error for loan 136000010: Instance '<RepaymentSchedule at 0x2348f83b860>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
2025-07-27 01:03:31,610 - INFO - 127.0.0.1 - - [27/Jul/2025 01:03:31] "[32mPOST /disbursements HTTP/1.1[0m" 302 -
[2025-07-27 01:03:31,618] INFO in app: [DISBURSEMENT] Loan #124000001 | Top-up of: None | Cash to Client: 1500000.0
2025-07-27 01:03:31,618 - INFO - [DISBURSEMENT] Loan #124000001 | Top-up of: None | Cash to Client: 1500000.0
[2025-07-27 01:03:31,620] INFO in app: [DISBURSEMENT] Loan #103000002 | Top-up of: None | Cash to Client: 1000000.0
2025-07-27 01:03:31,620 - INFO - [DISBURSEMENT] Loan #103000002 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-27 01:03:31,623] INFO in app: [DISBURSEMENT] Loan #118000003 | Top-up of: None | Cash to Client: 1000000.0
2025-07-27 01:03:31,623 - INFO - [DISBURSEMENT] Loan #118000003 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-27 01:03:31,626] INFO in app: [DISBURSEMENT] Loan #109000004 | Top-up of: None | Cash to Client: 500000.0
2025-07-27 01:03:31,626 - INFO - [DISBURSEMENT] Loan #109000004 | Top-up of: None | Cash to Client: 500000.0
[2025-07-27 01:03:31,628] INFO in app: [DISBURSEMENT] Loan #124000005 | Top-up of: None | Cash to Client: 2000000.0
2025-07-27 01:03:31,628 - INFO - [DISBURSEMENT] Loan #124000005 | Top-up of: None | Cash to Client: 2000000.0
[2025-07-27 01:03:31,630] INFO in app: [DISBURSEMENT] Loan #118000006 | Top-up of: None | Cash to Client: 1000000.0
2025-07-27 01:03:31,630 - INFO - [DISBURSEMENT] Loan #118000006 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-27 01:03:31,632] INFO in app: [DISBURSEMENT] Loan #136000007 | Top-up of: None | Cash to Client: 1000000.0
2025-07-27 01:03:31,632 - INFO - [DISBURSEMENT] Loan #136000007 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-27 01:03:31,634] INFO in app: [DISBURSEMENT] Loan #124000008 | Top-up of: None | Cash to Client: 1000000.0
2025-07-27 01:03:31,634 - INFO - [DISBURSEMENT] Loan #124000008 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-27 01:03:31,636] INFO in app: [DISBURSEMENT] Loan #118000009 | Top-up of: None | Cash to Client: 500000.0
2025-07-27 01:03:31,636 - INFO - [DISBURSEMENT] Loan #118000009 | Top-up of: None | Cash to Client: 500000.0
[2025-07-27 01:03:31,639] INFO in app: [DISBURSEMENT] Loan #136000010 | Top-up of: None | Cash to Client: 1000000.0
2025-07-27 01:03:31,639 - INFO - [DISBURSEMENT] Loan #136000010 | Top-up of: None | Cash to Client: 1000000.0
2025-07-27 01:03:31,646 - INFO - 127.0.0.1 - - [27/Jul/2025 01:03:31] "GET /disbursements HTTP/1.1" 200 -
2025-07-27 01:04:12,069 - INFO - 127.0.0.1 - - [27/Jul/2025 01:04:12] "GET /placements HTTP/1.1" 200 -
2025-07-27 01:04:41,022 - INFO - 127.0.0.1 - - [27/Jul/2025 01:04:41] "GET /loanbook HTTP/1.1" 200 -
2025-07-27 01:05:10,574 - INFO - 127.0.0.1 - - [27/Jul/2025 01:05:10] "GET /income_report HTTP/1.1" 200 -
[2025-07-27 02:15:48,821] INFO in app: ==================================================
[2025-07-27 02:15:49,636] INFO in app: Application logging initialized successfully
[2025-07-27 02:15:49,727] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-27 02:15:49,951] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-27 02:15:50,274] INFO in app: System encoding: utf-8
[2025-07-27 02:15:50,383] INFO in app: ==================================================
2025-07-27 02:15:54,749 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-27 02:15:54,753 - INFO - Added job "snapshot_par" to job store "default"
2025-07-27 02:15:54,753 - INFO - Scheduler started
2025-07-27 02:15:55,152 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-27 02:15:55,152 - INFO - [33mPress CTRL+C to quit[0m
2025-07-27 02:16:44,574 - INFO - 127.0.0.1 - - [27/Jul/2025 02:16:44] "GET /income_report HTTP/1.1" 200 -
2025-07-27 02:16:45,371 - INFO - 127.0.0.1 - - [27/Jul/2025 02:16:45] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-27 02:16:52,597 - INFO - 127.0.0.1 - - [27/Jul/2025 02:16:52] "GET /loanbook HTTP/1.1" 200 -
2025-07-27 02:16:56,954 - INFO - 127.0.0.1 - - [27/Jul/2025 02:16:56] "GET /register HTTP/1.1" 200 -
2025-07-27 02:19:37,472 - INFO - 127.0.0.1 - - [27/Jul/2025 02:19:37] "[32mPOST /register HTTP/1.1[0m" 302 -
2025-07-27 02:19:37,482 - INFO - 127.0.0.1 - - [27/Jul/2025 02:19:37] "GET /register HTTP/1.1" 200 -
2025-07-27 02:21:50,944 - INFO - 127.0.0.1 - - [27/Jul/2025 02:21:50] "[32mPOST /register HTTP/1.1[0m" 302 -
2025-07-27 02:21:50,954 - INFO - 127.0.0.1 - - [27/Jul/2025 02:21:50] "GET /register HTTP/1.1" 200 -
2025-07-27 02:21:53,780 - INFO - 127.0.0.1 - - [27/Jul/2025 02:21:53] "GET /approve_customers HTTP/1.1" 200 -
[2025-07-27 03:45:08,048] INFO in app: ==================================================
[2025-07-27 03:45:08,118] INFO in app: Application logging initialized successfully
[2025-07-27 03:45:08,120] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-27 03:45:08,122] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-27 03:45:08,125] INFO in app: System encoding: utf-8
[2025-07-27 03:45:08,126] INFO in app: ==================================================
2025-07-27 03:45:08,404 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-27 03:45:08,406 - INFO - Added job "snapshot_par" to job store "default"
2025-07-27 03:45:08,406 - INFO - Scheduler started
2025-07-27 04:01:29,074 - INFO - Scheduler has been shut down
[2025-07-27 04:01:38,760] INFO in app: ==================================================
[2025-07-27 04:01:38,766] INFO in app: Application logging initialized successfully
[2025-07-27 04:01:38,769] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-27 04:01:38,772] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-27 04:01:38,775] INFO in app: System encoding: utf-8
[2025-07-27 04:01:38,780] INFO in app: ==================================================
2025-07-27 04:01:38,975 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-27 04:01:38,976 - INFO - Added job "snapshot_par" to job store "default"
2025-07-27 04:01:38,976 - INFO - Scheduler started
2025-07-27 04:01:39,033 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-27 04:01:39,033 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-27 18:07:21,389] INFO in app: ==================================================
[2025-07-27 18:07:21,551] INFO in app: Application logging initialized successfully
[2025-07-27 18:07:21,565] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-27 18:07:21,567] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-27 18:07:21,599] INFO in app: System encoding: utf-8
[2025-07-27 18:07:21,629] INFO in app: ==================================================
2025-07-27 18:07:22,459 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-27 18:07:22,510 - INFO - Added job "snapshot_par" to job store "default"
2025-07-27 18:07:22,511 - INFO - Scheduler started
2025-07-27 18:07:22,624 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-27 18:07:22,624 - INFO - [33mPress CTRL+C to quit[0m
2025-07-27 18:07:27,518 - INFO - 127.0.0.1 - - [27/Jul/2025 18:07:27] "[32mGET /approve_customers HTTP/1.1[0m" 302 -
2025-07-27 18:07:27,696 - INFO - 127.0.0.1 - - [27/Jul/2025 18:07:27] "GET /login?next=/approve_customers HTTP/1.1" 200 -
2025-07-27 18:07:28,081 - INFO - 127.0.0.1 - - [27/Jul/2025 18:07:28] "GET /static/img/logo.png HTTP/1.1" 200 -
2025-07-27 18:07:28,375 - INFO - 127.0.0.1 - - [27/Jul/2025 18:07:28] "GET /login?next=/approve_customers HTTP/1.1" 200 -
2025-07-27 18:07:28,810 - INFO - 127.0.0.1 - - [27/Jul/2025 18:07:28] "GET /static/img/logo.png HTTP/1.1" 200 -
2025-07-27 18:07:29,120 - INFO - 127.0.0.1 - - [27/Jul/2025 18:07:29] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-27 18:07:31,288 - INFO - 127.0.0.1 - - [27/Jul/2025 18:07:31] "[32mPOST /login?next=/approve_customers HTTP/1.1[0m" 302 -
2025-07-27 18:07:31,341 - INFO - 127.0.0.1 - - [27/Jul/2025 18:07:31] "GET / HTTP/1.1" 200 -
2025-07-27 18:07:36,914 - INFO - 127.0.0.1 - - [27/Jul/2025 18:07:36] "GET /register HTTP/1.1" 200 -
2025-07-27 18:09:42,976 - INFO - 127.0.0.1 - - [27/Jul/2025 18:09:42] "[32mPOST /register HTTP/1.1[0m" 302 -
2025-07-27 18:09:42,985 - INFO - 127.0.0.1 - - [27/Jul/2025 18:09:42] "GET /register HTTP/1.1" 200 -
2025-07-27 18:09:44,873 - INFO - 127.0.0.1 - - [27/Jul/2025 18:09:44] "GET /approve_customers HTTP/1.1" 200 -
2025-07-27 18:43:44,584 - INFO - Scheduler has been shut down
[2025-07-27 18:43:48,253] INFO in app: ==================================================
[2025-07-27 18:43:48,260] INFO in app: Application logging initialized successfully
[2025-07-27 18:43:48,263] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-27 18:43:48,265] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-27 18:43:48,269] INFO in app: System encoding: utf-8
[2025-07-27 18:43:48,275] INFO in app: ==================================================
2025-07-27 18:43:48,527 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-27 18:43:48,528 - INFO - Added job "snapshot_par" to job store "default"
2025-07-27 18:43:48,528 - INFO - Scheduler started
2025-07-27 18:43:48,550 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-27 18:43:48,551 - INFO - [33mPress CTRL+C to quit[0m
2025-07-27 18:44:21,530 - INFO - 127.0.0.1 - - [27/Jul/2025 18:44:21] "GET / HTTP/1.1" 200 -
2025-07-27 18:44:22,883 - INFO - 127.0.0.1 - - [27/Jul/2025 18:44:22] "GET /debug/storage HTTP/1.1" 200 -
[2025-07-27 18:49:41,575] INFO in app: ==================================================
[2025-07-27 18:49:41,586] INFO in app: Application logging initialized successfully
[2025-07-27 18:49:41,589] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-27 18:49:41,595] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-27 18:49:41,597] INFO in app: System encoding: utf-8
[2025-07-27 18:49:41,598] INFO in app: ==================================================
2025-07-27 18:49:41,844 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-27 18:49:41,845 - INFO - Added job "snapshot_par" to job store "default"
2025-07-27 18:49:41,845 - INFO - Scheduler started
2025-07-27 18:51:48,281 - INFO - Scheduler has been shut down
[2025-07-27 18:51:52,102] INFO in app: ==================================================
[2025-07-27 18:51:52,119] INFO in app: Application logging initialized successfully
[2025-07-27 18:51:52,129] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-27 18:51:52,133] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-27 18:51:52,137] INFO in app: System encoding: utf-8
[2025-07-27 18:51:52,139] INFO in app: ==================================================
2025-07-27 18:51:52,491 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-27 18:51:52,493 - INFO - Added job "snapshot_par" to job store "default"
2025-07-27 18:51:52,493 - INFO - Scheduler started
2025-07-27 18:51:52,536 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-27 18:51:52,536 - INFO - [33mPress CTRL+C to quit[0m
2025-07-27 18:52:03,733 - INFO - Scheduler has been shut down
2025-07-27 18:52:11,927 - INFO - 127.0.0.1 - - [27/Jul/2025 18:52:11] "GET /debug/storage HTTP/1.1" 200 -
2025-07-27 18:52:11,980 - INFO - 127.0.0.1 - - [27/Jul/2025 18:52:11] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-27 18:52:14,363 - INFO - 127.0.0.1 - - [27/Jul/2025 18:52:14] "GET /debug/storage HTTP/1.1" 200 -
2025-07-27 18:52:15,512 - INFO - 127.0.0.1 - - [27/Jul/2025 18:52:15] "GET /debug/storage HTTP/1.1" 200 -
2025-07-27 18:53:10,572 - INFO - 127.0.0.1 - - [27/Jul/2025 18:53:10] "GET /repair/paths HTTP/1.1" 200 -
2025-07-27 18:54:04,245 - INFO - 127.0.0.1 - - [27/Jul/2025 18:54:04] "GET /debug/storage HTTP/1.1" 200 -
2025-07-27 19:21:46,788 - INFO - 127.0.0.1 - - [27/Jul/2025 19:21:46] "GET /debug/storage HTTP/1.1" 200 -
2025-07-27 19:21:46,883 - INFO - 127.0.0.1 - - [27/Jul/2025 19:21:46] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-27 19:26:22,195 - INFO - Scheduler has been shut down
[2025-07-27 19:26:25,758] INFO in app: ==================================================
[2025-07-27 19:26:25,764] INFO in app: Application logging initialized successfully
[2025-07-27 19:26:25,766] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-27 19:26:25,769] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-27 19:26:25,775] INFO in app: System encoding: utf-8
[2025-07-27 19:26:25,778] INFO in app: ==================================================
2025-07-27 19:26:26,048 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-27 19:26:26,049 - INFO - Added job "snapshot_par" to job store "default"
2025-07-27 19:26:26,049 - INFO - Scheduler started
2025-07-27 19:26:26,069 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-27 19:26:26,069 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-27 19:26:38,916] ERROR in app: Exception on /repair/documents/page [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 514, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 7366, in repair_documents_page
    return render_template('repair_documents.html',
        instance_path=app.instance_path,
    ...<2 lines>...
        absolute_path=os.path.join(app.instance_path, 'documents')
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\repair_documents.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\repair_documents.html", line 71, in block 'content'
    <a href="{{ url_for('debug_documents') }}" class="btn btn-outline-info">
    ^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'debug_documents'. Did you mean 'view_document' instead?
2025-07-27 19:26:38,916 - ERROR - Exception on /repair/documents/page [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 514, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 7366, in repair_documents_page
    return render_template('repair_documents.html',
        instance_path=app.instance_path,
    ...<2 lines>...
        absolute_path=os.path.join(app.instance_path, 'documents')
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\repair_documents.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\repair_documents.html", line 71, in block 'content'
    <a href="{{ url_for('debug_documents') }}" class="btn btn-outline-info">
    ^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'debug_documents'. Did you mean 'view_document' instead?
2025-07-27 19:26:38,957 - INFO - 127.0.0.1 - - [27/Jul/2025 19:26:38] "[35m[1mGET /repair/documents/page HTTP/1.1[0m" 500 -
2025-07-27 19:27:15,030 - INFO - 127.0.0.1 - - [27/Jul/2025 19:27:15] "GET /approve_customers HTTP/1.1" 200 -
2025-07-27 19:27:16,944 - INFO - 127.0.0.1 - - [27/Jul/2025 19:27:16] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-27 19:44:42,082 - INFO - Scheduler has been shut down
[2025-07-27 19:44:45,499] INFO in app: ==================================================
[2025-07-27 19:44:45,506] INFO in app: Application logging initialized successfully
[2025-07-27 19:44:45,508] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-27 19:44:45,510] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-27 19:44:45,512] INFO in app: System encoding: utf-8
[2025-07-27 19:44:45,516] INFO in app: ==================================================
2025-07-27 19:44:45,711 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-27 19:44:45,712 - INFO - Added job "snapshot_par" to job store "default"
2025-07-27 19:44:45,712 - INFO - Scheduler started
2025-07-27 19:44:45,736 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-27 19:44:45,736 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-27 19:45:10,962] ERROR in app: Exception on /repair/documents/page [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 514, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 7366, in repair_documents_page
    return render_template('repair_documents.html',
        instance_path=app.instance_path,
    ...<2 lines>...
        absolute_path=os.path.join(app.instance_path, 'documents')
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\repair_documents.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\repair_documents.html", line 71, in block 'content'
    <a href="{{ url_for('debug_documents_page') }}" class="btn btn-outline-info">
    ^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'debug_documents_page'. Did you mean 'debug_documents' instead?
2025-07-27 19:45:10,962 - ERROR - Exception on /repair/documents/page [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 514, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 7366, in repair_documents_page
    return render_template('repair_documents.html',
        instance_path=app.instance_path,
    ...<2 lines>...
        absolute_path=os.path.join(app.instance_path, 'documents')
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\repair_documents.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\repair_documents.html", line 71, in block 'content'
    <a href="{{ url_for('debug_documents_page') }}" class="btn btn-outline-info">
    ^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'debug_documents_page'. Did you mean 'debug_documents' instead?
2025-07-27 19:45:11,019 - INFO - 127.0.0.1 - - [27/Jul/2025 19:45:11] "[35m[1mGET /repair/documents/page HTTP/1.1[0m" 500 -
2025-07-27 19:52:50,676 - INFO - Scheduler has been shut down
[2025-07-27 19:52:55,007] INFO in app: ==================================================
[2025-07-27 19:52:55,014] INFO in app: Application logging initialized successfully
[2025-07-27 19:52:55,017] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-27 19:52:55,022] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-27 19:52:55,026] INFO in app: System encoding: utf-8
[2025-07-27 19:52:55,028] INFO in app: ==================================================
2025-07-27 19:52:55,258 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-27 19:52:55,260 - INFO - Added job "snapshot_par" to job store "default"
2025-07-27 19:52:55,260 - INFO - Scheduler started
2025-07-27 19:52:55,289 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-27 19:52:55,289 - INFO - [33mPress CTRL+C to quit[0m
2025-07-27 19:53:00,849 - INFO - 127.0.0.1 - - [27/Jul/2025 19:53:00] "GET /repair/documents/page HTTP/1.1" 200 -
2025-07-27 19:53:01,642 - INFO - 127.0.0.1 - - [27/Jul/2025 19:53:01] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-27 19:53:24,225 - INFO - 127.0.0.1 - - [27/Jul/2025 19:53:24] "GET /verify/documents HTTP/1.1" 200 -
2025-07-27 19:55:00,552 - INFO - 127.0.0.1 - - [27/Jul/2025 19:55:00] "POST /repair/documents HTTP/1.1" 200 -
2025-07-27 19:55:14,094 - INFO - 127.0.0.1 - - [27/Jul/2025 19:55:14] "GET /debug/documents/page HTTP/1.1" 200 -
2025-07-27 19:55:29,870 - INFO - 127.0.0.1 - - [27/Jul/2025 19:55:29] "GET /loanbook HTTP/1.1" 200 -
[2025-07-27 19:55:38,045] INFO in app: Found 1 loans for customer 202507000011
2025-07-27 19:55:38,045 - INFO - Found 1 loans for customer 202507000011
[2025-07-27 19:55:38,049] INFO in app: Customer ID: 11
2025-07-27 19:55:38,049 - INFO - Customer ID: 11
[2025-07-27 19:55:38,053] INFO in app: Found Loans: [('115000012', 'application')]
2025-07-27 19:55:38,053 - INFO - Found Loans: [('115000012', 'application')]
2025-07-27 19:55:38,096 - INFO - 127.0.0.1 - - [27/Jul/2025 19:55:38] "GET /customer/202507000011/account HTTP/1.1" 200 -
2025-07-27 19:56:00,330 - INFO - 127.0.0.1 - - [27/Jul/2025 19:56:00] "GET /debug/documents?customer_id=202507000011&loan_id= HTTP/1.1" 200 -
2025-07-27 20:00:46,298 - INFO - 127.0.0.1 - - [27/Jul/2025 20:00:46] "GET /register HTTP/1.1" 200 -
2025-07-27 20:02:51,707 - INFO - 127.0.0.1 - - [27/Jul/2025 20:02:51] "[32mPOST /register HTTP/1.1[0m" 302 -
2025-07-27 20:02:51,715 - INFO - 127.0.0.1 - - [27/Jul/2025 20:02:51] "GET /register HTTP/1.1" 200 -
2025-07-27 20:02:53,945 - INFO - 127.0.0.1 - - [27/Jul/2025 20:02:53] "GET /approve_customers HTTP/1.1" 200 -
2025-07-27 20:03:06,960 - INFO - 127.0.0.1 - - [27/Jul/2025 20:03:06] "GET /serve_document/4 HTTP/1.1" 200 -
2025-07-27 20:03:41,978 - INFO - 127.0.0.1 - - [27/Jul/2025 20:03:41] "[32mPOST /approve_customers HTTP/1.1[0m" 302 -
2025-07-27 20:03:42,267 - INFO - 127.0.0.1 - - [27/Jul/2025 20:03:42] "GET /approve_customers HTTP/1.1" 200 -
[2025-07-27 20:03:44,378] ERROR in app: Exception on /loans [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 4146, in view_loans
    doc.file_exists = os.path.exists(doc.path)  # Add existence flag
    ^^^^^^^^^^^^^^^
AttributeError: property 'file_exists' of 'Document' object has no setter
2025-07-27 20:03:44,378 - ERROR - Exception on /loans [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 4146, in view_loans
    doc.file_exists = os.path.exists(doc.path)  # Add existence flag
    ^^^^^^^^^^^^^^^
AttributeError: property 'file_exists' of 'Document' object has no setter
2025-07-27 20:03:44,395 - INFO - 127.0.0.1 - - [27/Jul/2025 20:03:44] "[35m[1mGET /loans HTTP/1.1[0m" 500 -
2025-07-27 20:35:45,836 - INFO - Scheduler has been shut down
[2025-07-27 20:35:49,833] INFO in app: ==================================================
[2025-07-27 20:35:49,852] INFO in app: Application logging initialized successfully
[2025-07-27 20:35:49,854] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-27 20:35:49,856] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-27 20:35:49,859] INFO in app: System encoding: utf-8
[2025-07-27 20:35:49,862] INFO in app: ==================================================
2025-07-27 20:35:50,067 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-27 20:35:50,068 - INFO - Added job "snapshot_par" to job store "default"
2025-07-27 20:35:50,068 - INFO - Scheduler started
2025-07-27 20:35:50,090 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-27 20:35:50,090 - INFO - [33mPress CTRL+C to quit[0m
2025-07-27 20:35:56,379 - INFO - 127.0.0.1 - - [27/Jul/2025 20:35:56] "GET /approve_customers HTTP/1.1" 200 -
2025-07-27 20:35:57,910 - INFO - 127.0.0.1 - - [27/Jul/2025 20:35:57] "GET /approve_customers HTTP/1.1" 200 -
2025-07-27 20:36:03,404 - INFO - 127.0.0.1 - - [27/Jul/2025 20:36:03] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-27 20:36:04,812 - INFO - 127.0.0.1 - - [27/Jul/2025 20:36:04] "GET /loans HTTP/1.1" 200 -
2025-07-27 20:36:28,731 - INFO - 127.0.0.1 - - [27/Jul/2025 20:36:28] "GET /loans HTTP/1.1" 200 -
2025-07-27 20:36:34,312 - INFO - 127.0.0.1 - - [27/Jul/2025 20:36:34] "GET /loans HTTP/1.1" 200 -
2025-07-27 20:36:39,228 - INFO - 127.0.0.1 - - [27/Jul/2025 20:36:39] "GET /loans HTTP/1.1" 200 -
2025-07-27 20:36:48,104 - INFO - 127.0.0.1 - - [27/Jul/2025 20:36:48] "GET /loans HTTP/1.1" 200 -
2025-07-27 20:36:57,775 - INFO - 127.0.0.1 - - [27/Jul/2025 20:36:57] "GET /loans HTTP/1.1" 200 -
2025-07-27 20:58:14,314 - INFO - 127.0.0.1 - - [27/Jul/2025 20:58:14] "GET /loans HTTP/1.1" 200 -
2025-07-27 20:58:19,819 - INFO - 127.0.0.1 - - [27/Jul/2025 20:58:19] "[32mPOST /process_loan/11/approve HTTP/1.1[0m" 302 -
2025-07-27 20:58:19,837 - INFO - 127.0.0.1 - - [27/Jul/2025 20:58:19] "GET /loans HTTP/1.1" 200 -
2025-07-27 20:58:31,102 - INFO - 127.0.0.1 - - [27/Jul/2025 20:58:31] "[32mPOST /process_loan/12/approve HTTP/1.1[0m" 302 -
2025-07-27 20:58:31,122 - INFO - 127.0.0.1 - - [27/Jul/2025 20:58:31] "GET /loans HTTP/1.1" 200 -
2025-07-27 21:04:42,325 - INFO - 127.0.0.1 - - [27/Jul/2025 21:04:42] "GET /loans HTTP/1.1" 200 -
2025-07-27 21:06:29,206 - INFO - 127.0.0.1 - - [27/Jul/2025 21:06:29] "GET /register HTTP/1.1" 200 -
2025-07-27 21:09:02,014 - INFO - 127.0.0.1 - - [27/Jul/2025 21:09:02] "[32mPOST /register HTTP/1.1[0m" 302 -
2025-07-27 21:09:02,028 - INFO - 127.0.0.1 - - [27/Jul/2025 21:09:02] "GET /register HTTP/1.1" 200 -
2025-07-27 21:09:04,170 - INFO - 127.0.0.1 - - [27/Jul/2025 21:09:04] "GET /approve_customers HTTP/1.1" 200 -
2025-07-27 21:09:16,942 - INFO - 127.0.0.1 - - [27/Jul/2025 21:09:16] "[32mPOST /approve_customers HTTP/1.1[0m" 302 -
2025-07-27 21:09:16,957 - INFO - 127.0.0.1 - - [27/Jul/2025 21:09:16] "GET /approve_customers HTTP/1.1" 200 -
2025-07-27 21:09:19,003 - INFO - 127.0.0.1 - - [27/Jul/2025 21:09:19] "GET /loans HTTP/1.1" 200 -
[2025-07-28 03:37:16,046] INFO in app: ==================================================
[2025-07-28 03:37:16,131] INFO in app: Application logging initialized successfully
[2025-07-28 03:37:16,133] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 03:37:16,134] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 03:37:16,136] INFO in app: System encoding: utf-8
[2025-07-28 03:37:16,139] INFO in app: ==================================================
2025-07-28 03:37:16,531 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 03:37:16,533 - INFO - Added job "snapshot_par" to job store "default"
2025-07-28 03:37:16,533 - INFO - Scheduler started
2025-07-28 03:37:16,575 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-28 03:37:16,575 - INFO - [33mPress CTRL+C to quit[0m
2025-07-28 03:46:45,645 - INFO - 127.0.0.1 - - [28/Jul/2025 03:46:45] "GET /loans HTTP/1.1" 200 -
2025-07-28 03:46:47,457 - INFO - 127.0.0.1 - - [28/Jul/2025 03:46:47] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-28 03:56:27,602 - INFO - 127.0.0.1 - - [28/Jul/2025 03:56:27] "GET /loans HTTP/1.1" 200 -
2025-07-28 03:56:28,437 - INFO - 127.0.0.1 - - [28/Jul/2025 03:56:28] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-28 03:56:36,773 - INFO - 127.0.0.1 - - [28/Jul/2025 03:56:36] "GET /approve_customers HTTP/1.1" 200 -
2025-07-28 03:56:39,695 - INFO - 127.0.0.1 - - [28/Jul/2025 03:56:39] "GET /customers HTTP/1.1" 200 -
2025-07-28 03:56:43,741 - INFO - 127.0.0.1 - - [28/Jul/2025 03:56:43] "GET /customer/6 HTTP/1.1" 200 -
2025-07-28 03:58:58,104 - INFO - 127.0.0.1 - - [28/Jul/2025 03:58:58] "GET /customers HTTP/1.1" 200 -
2025-07-28 04:30:26,228 - INFO - Scheduler has been shut down
[2025-07-28 04:30:29,927] INFO in app: ==================================================
[2025-07-28 04:30:29,934] INFO in app: Application logging initialized successfully
[2025-07-28 04:30:29,936] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 04:30:29,938] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 04:30:29,939] INFO in app: System encoding: utf-8
[2025-07-28 04:30:29,941] INFO in app: ==================================================
2025-07-28 04:30:30,137 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 04:30:30,139 - INFO - Added job "snapshot_par" to job store "default"
2025-07-28 04:30:30,139 - INFO - Scheduler started
2025-07-28 04:30:30,162 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-28 04:30:30,162 - INFO - [33mPress CTRL+C to quit[0m
2025-07-28 04:30:37,643 - INFO - 127.0.0.1 - - [28/Jul/2025 04:30:37] "GET /customers HTTP/1.1" 200 -
2025-07-28 04:30:38,256 - INFO - 127.0.0.1 - - [28/Jul/2025 04:30:38] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-28 04:30:40,954 - INFO - 127.0.0.1 - - [28/Jul/2025 04:30:40] "GET /loans HTTP/1.1" 200 -
2025-07-28 04:30:56,735 - INFO - 127.0.0.1 - - [28/Jul/2025 04:30:56] "GET /document/7 HTTP/1.1" 200 -
2025-07-28 04:31:41,476 - INFO - 127.0.0.1 - - [28/Jul/2025 04:31:41] "[32mPOST /process_loan/13/approve HTTP/1.1[0m" 302 -
2025-07-28 04:31:41,789 - INFO - 127.0.0.1 - - [28/Jul/2025 04:31:41] "GET /loans HTTP/1.1" 200 -
2025-07-28 04:31:45,360 - INFO - 127.0.0.1 - - [28/Jul/2025 04:31:45] "[32mPOST /process_loan/14/approve HTTP/1.1[0m" 302 -
2025-07-28 04:31:45,381 - INFO - 127.0.0.1 - - [28/Jul/2025 04:31:45] "GET /loans HTTP/1.1" 200 -
2025-07-28 04:31:53,981 - INFO - 127.0.0.1 - - [28/Jul/2025 04:31:53] "GET /customers HTTP/1.1" 200 -
2025-07-28 04:35:09,204 - INFO - 127.0.0.1 - - [28/Jul/2025 04:35:09] "GET /register HTTP/1.1" 200 -
2025-07-28 04:37:28,744 - INFO - 127.0.0.1 - - [28/Jul/2025 04:37:28] "[32mPOST /register HTTP/1.1[0m" 302 -
2025-07-28 04:37:28,752 - INFO - 127.0.0.1 - - [28/Jul/2025 04:37:28] "GET /register HTTP/1.1" 200 -
2025-07-28 04:37:30,522 - INFO - 127.0.0.1 - - [28/Jul/2025 04:37:30] "GET /approve_customers HTTP/1.1" 200 -
2025-07-28 04:37:41,292 - INFO - 127.0.0.1 - - [28/Jul/2025 04:37:41] "[32mPOST /approve_customers HTTP/1.1[0m" 302 -
2025-07-28 04:37:41,583 - INFO - 127.0.0.1 - - [28/Jul/2025 04:37:41] "GET /approve_customers HTTP/1.1" 200 -
2025-07-28 04:37:43,602 - INFO - 127.0.0.1 - - [28/Jul/2025 04:37:43] "GET /customers HTTP/1.1" 200 -
2025-07-28 04:37:44,849 - INFO - 127.0.0.1 - - [28/Jul/2025 04:37:44] "GET /loans HTTP/1.1" 200 -
2025-07-28 04:38:03,182 - INFO - 127.0.0.1 - - [28/Jul/2025 04:38:03] "[32mPOST /process_loan/15/approve HTTP/1.1[0m" 302 -
2025-07-28 04:38:03,500 - INFO - 127.0.0.1 - - [28/Jul/2025 04:38:03] "GET /loans HTTP/1.1" 200 -
[2025-07-28 04:38:05,262] INFO in app: [DISBURSEMENT] Loan #124000001 | Top-up of: None | Cash to Client: 1500000.0
2025-07-28 04:38:05,262 - INFO - [DISBURSEMENT] Loan #124000001 | Top-up of: None | Cash to Client: 1500000.0
[2025-07-28 04:38:05,264] INFO in app: [DISBURSEMENT] Loan #103000002 | Top-up of: None | Cash to Client: 1000000.0
2025-07-28 04:38:05,264 - INFO - [DISBURSEMENT] Loan #103000002 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-28 04:38:05,267] INFO in app: [DISBURSEMENT] Loan #118000003 | Top-up of: None | Cash to Client: 1000000.0
2025-07-28 04:38:05,267 - INFO - [DISBURSEMENT] Loan #118000003 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-28 04:38:05,270] INFO in app: [DISBURSEMENT] Loan #109000004 | Top-up of: None | Cash to Client: 500000.0
2025-07-28 04:38:05,270 - INFO - [DISBURSEMENT] Loan #109000004 | Top-up of: None | Cash to Client: 500000.0
[2025-07-28 04:38:05,272] INFO in app: [DISBURSEMENT] Loan #124000005 | Top-up of: None | Cash to Client: 2000000.0
2025-07-28 04:38:05,272 - INFO - [DISBURSEMENT] Loan #124000005 | Top-up of: None | Cash to Client: 2000000.0
[2025-07-28 04:38:05,278] INFO in app: [DISBURSEMENT] Loan #118000006 | Top-up of: None | Cash to Client: 1000000.0
2025-07-28 04:38:05,278 - INFO - [DISBURSEMENT] Loan #118000006 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-28 04:38:05,282] INFO in app: [DISBURSEMENT] Loan #136000007 | Top-up of: None | Cash to Client: 1000000.0
2025-07-28 04:38:05,282 - INFO - [DISBURSEMENT] Loan #136000007 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-28 04:38:05,285] INFO in app: [DISBURSEMENT] Loan #124000008 | Top-up of: None | Cash to Client: 1000000.0
2025-07-28 04:38:05,285 - INFO - [DISBURSEMENT] Loan #124000008 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-28 04:38:05,288] INFO in app: [DISBURSEMENT] Loan #118000009 | Top-up of: None | Cash to Client: 500000.0
2025-07-28 04:38:05,288 - INFO - [DISBURSEMENT] Loan #118000009 | Top-up of: None | Cash to Client: 500000.0
[2025-07-28 04:38:05,293] INFO in app: [DISBURSEMENT] Loan #136000010 | Top-up of: None | Cash to Client: 1000000.0
2025-07-28 04:38:05,293 - INFO - [DISBURSEMENT] Loan #136000010 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-28 04:38:05,295] INFO in app: [DISBURSEMENT] Loan #136000011 | Top-up of: None | Cash to Client: 1200000.0
2025-07-28 04:38:05,295 - INFO - [DISBURSEMENT] Loan #136000011 | Top-up of: None | Cash to Client: 1200000.0
[2025-07-28 04:38:05,299] INFO in app: [DISBURSEMENT] Loan #115000012 | Top-up of: None | Cash to Client: 1000000.0
2025-07-28 04:38:05,299 - INFO - [DISBURSEMENT] Loan #115000012 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-28 04:38:05,301] INFO in app: [DISBURSEMENT] Loan #136000013 | Top-up of: None | Cash to Client: 1000000.0
2025-07-28 04:38:05,301 - INFO - [DISBURSEMENT] Loan #136000013 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-28 04:38:05,302] INFO in app: [DISBURSEMENT] Loan #148000014 | Top-up of: None | Cash to Client: 1300000.0
2025-07-28 04:38:05,302 - INFO - [DISBURSEMENT] Loan #148000014 | Top-up of: None | Cash to Client: 1300000.0
[2025-07-28 04:38:05,304] INFO in app: [DISBURSEMENT] Loan #136000015 | Top-up of: None | Cash to Client: 1000000.0
2025-07-28 04:38:05,304 - INFO - [DISBURSEMENT] Loan #136000015 | Top-up of: None | Cash to Client: 1000000.0
2025-07-28 04:38:05,319 - INFO - 127.0.0.1 - - [28/Jul/2025 04:38:05] "GET /disbursements HTTP/1.1" 200 -
[2025-07-28 04:38:11,663] ERROR in app: [DISBURSE] Error for loan 124000001: Instance '<RepaymentSchedule at 0x18432116670>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
2025-07-28 04:38:11,663 - ERROR - [DISBURSE] Error for loan 124000001: Instance '<RepaymentSchedule at 0x18432116670>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-28 04:38:11,678] ERROR in app: [DISBURSE] Error for loan 103000002: Instance '<RepaymentSchedule at 0x184321149b0>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
2025-07-28 04:38:11,678 - ERROR - [DISBURSE] Error for loan 103000002: Instance '<RepaymentSchedule at 0x184321149b0>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-28 04:38:11,714] ERROR in app: [DISBURSE] Error for loan 118000003: Instance '<RepaymentSchedule at 0x184321147d0>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
2025-07-28 04:38:11,714 - ERROR - [DISBURSE] Error for loan 118000003: Instance '<RepaymentSchedule at 0x184321147d0>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-28 04:38:11,733] ERROR in app: [DISBURSE] Error for loan 109000004: Instance '<RepaymentSchedule at 0x18432117250>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
2025-07-28 04:38:11,733 - ERROR - [DISBURSE] Error for loan 109000004: Instance '<RepaymentSchedule at 0x18432117250>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-28 04:38:11,774] ERROR in app: [DISBURSE] Error for loan 124000005: Instance '<RepaymentSchedule at 0x1843213b1b0>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
2025-07-28 04:38:11,774 - ERROR - [DISBURSE] Error for loan 124000005: Instance '<RepaymentSchedule at 0x1843213b1b0>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-28 04:38:11,798] ERROR in app: [DISBURSE] Error for loan 118000006: Instance '<RepaymentSchedule at 0x1843213b110>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
2025-07-28 04:38:11,798 - ERROR - [DISBURSE] Error for loan 118000006: Instance '<RepaymentSchedule at 0x1843213b110>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-28 04:38:11,840] ERROR in app: [DISBURSE] Error for loan 136000007: Instance '<RepaymentSchedule at 0x1843213b2f0>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
2025-07-28 04:38:11,840 - ERROR - [DISBURSE] Error for loan 136000007: Instance '<RepaymentSchedule at 0x1843213b2f0>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-28 04:38:11,869] ERROR in app: [DISBURSE] Error for loan 124000008: Instance '<RepaymentSchedule at 0x184321172f0>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
2025-07-28 04:38:11,869 - ERROR - [DISBURSE] Error for loan 124000008: Instance '<RepaymentSchedule at 0x184321172f0>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-28 04:38:11,897] ERROR in app: [DISBURSE] Error for loan 118000009: Instance '<RepaymentSchedule at 0x1843213b2f0>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
2025-07-28 04:38:11,897 - ERROR - [DISBURSE] Error for loan 118000009: Instance '<RepaymentSchedule at 0x1843213b2f0>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-28 04:38:11,939] ERROR in app: [DISBURSE] Error for loan 136000010: Instance '<RepaymentSchedule at 0x18432116cb0>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
2025-07-28 04:38:11,939 - ERROR - [DISBURSE] Error for loan 136000010: Instance '<RepaymentSchedule at 0x18432116cb0>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-28 04:38:11,980] ERROR in app: [DISBURSE] Error for loan 136000011: Instance '<RepaymentSchedule at 0x1843213b2f0>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
2025-07-28 04:38:11,980 - ERROR - [DISBURSE] Error for loan 136000011: Instance '<RepaymentSchedule at 0x1843213b2f0>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-28 04:38:12,001] ERROR in app: [DISBURSE] Error for loan 115000012: Instance '<RepaymentSchedule at 0x18432117430>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
2025-07-28 04:38:12,001 - ERROR - [DISBURSE] Error for loan 115000012: Instance '<RepaymentSchedule at 0x18432117430>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-28 04:38:12,044] ERROR in app: [DISBURSE] Error for loan 136000013: Instance '<RepaymentSchedule at 0x1843213b2f0>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
2025-07-28 04:38:12,044 - ERROR - [DISBURSE] Error for loan 136000013: Instance '<RepaymentSchedule at 0x1843213b2f0>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-28 04:38:12,095] ERROR in app: [DISBURSE] Error for loan 148000014: Instance '<RepaymentSchedule at 0x184321989b0>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
2025-07-28 04:38:12,095 - ERROR - [DISBURSE] Error for loan 148000014: Instance '<RepaymentSchedule at 0x184321989b0>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
[2025-07-28 04:38:12,136] ERROR in app: [DISBURSE] Error for loan 136000015: Instance '<RepaymentSchedule at 0x18432117610>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
2025-07-28 04:38:12,136 - ERROR - [DISBURSE] Error for loan 136000015: Instance '<RepaymentSchedule at 0x18432117610>' has been deleted.  Use the make_transient() function to send this object back to the transient state.
2025-07-28 04:38:13,626 - INFO - 127.0.0.1 - - [28/Jul/2025 04:38:13] "[32mPOST /disbursements HTTP/1.1[0m" 302 -
[2025-07-28 04:38:13,634] INFO in app: [DISBURSEMENT] Loan #124000001 | Top-up of: None | Cash to Client: 1500000.0
2025-07-28 04:38:13,634 - INFO - [DISBURSEMENT] Loan #124000001 | Top-up of: None | Cash to Client: 1500000.0
[2025-07-28 04:38:13,636] INFO in app: [DISBURSEMENT] Loan #103000002 | Top-up of: None | Cash to Client: 1000000.0
2025-07-28 04:38:13,636 - INFO - [DISBURSEMENT] Loan #103000002 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-28 04:38:13,638] INFO in app: [DISBURSEMENT] Loan #118000003 | Top-up of: None | Cash to Client: 1000000.0
2025-07-28 04:38:13,638 - INFO - [DISBURSEMENT] Loan #118000003 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-28 04:38:13,641] INFO in app: [DISBURSEMENT] Loan #109000004 | Top-up of: None | Cash to Client: 500000.0
2025-07-28 04:38:13,641 - INFO - [DISBURSEMENT] Loan #109000004 | Top-up of: None | Cash to Client: 500000.0
[2025-07-28 04:38:13,643] INFO in app: [DISBURSEMENT] Loan #124000005 | Top-up of: None | Cash to Client: 2000000.0
2025-07-28 04:38:13,643 - INFO - [DISBURSEMENT] Loan #124000005 | Top-up of: None | Cash to Client: 2000000.0
[2025-07-28 04:38:13,646] INFO in app: [DISBURSEMENT] Loan #118000006 | Top-up of: None | Cash to Client: 1000000.0
2025-07-28 04:38:13,646 - INFO - [DISBURSEMENT] Loan #118000006 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-28 04:38:13,648] INFO in app: [DISBURSEMENT] Loan #136000007 | Top-up of: None | Cash to Client: 1000000.0
2025-07-28 04:38:13,648 - INFO - [DISBURSEMENT] Loan #136000007 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-28 04:38:13,649] INFO in app: [DISBURSEMENT] Loan #124000008 | Top-up of: None | Cash to Client: 1000000.0
2025-07-28 04:38:13,649 - INFO - [DISBURSEMENT] Loan #124000008 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-28 04:38:13,652] INFO in app: [DISBURSEMENT] Loan #118000009 | Top-up of: None | Cash to Client: 500000.0
2025-07-28 04:38:13,652 - INFO - [DISBURSEMENT] Loan #118000009 | Top-up of: None | Cash to Client: 500000.0
[2025-07-28 04:38:13,658] INFO in app: [DISBURSEMENT] Loan #136000010 | Top-up of: None | Cash to Client: 1000000.0
2025-07-28 04:38:13,658 - INFO - [DISBURSEMENT] Loan #136000010 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-28 04:38:13,662] INFO in app: [DISBURSEMENT] Loan #136000011 | Top-up of: None | Cash to Client: 1200000.0
2025-07-28 04:38:13,662 - INFO - [DISBURSEMENT] Loan #136000011 | Top-up of: None | Cash to Client: 1200000.0
[2025-07-28 04:38:13,667] INFO in app: [DISBURSEMENT] Loan #115000012 | Top-up of: None | Cash to Client: 1000000.0
2025-07-28 04:38:13,667 - INFO - [DISBURSEMENT] Loan #115000012 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-28 04:38:13,669] INFO in app: [DISBURSEMENT] Loan #136000013 | Top-up of: None | Cash to Client: 1000000.0
2025-07-28 04:38:13,669 - INFO - [DISBURSEMENT] Loan #136000013 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-28 04:38:13,672] INFO in app: [DISBURSEMENT] Loan #148000014 | Top-up of: None | Cash to Client: 1300000.0
2025-07-28 04:38:13,672 - INFO - [DISBURSEMENT] Loan #148000014 | Top-up of: None | Cash to Client: 1300000.0
[2025-07-28 04:38:13,675] INFO in app: [DISBURSEMENT] Loan #136000015 | Top-up of: None | Cash to Client: 1000000.0
2025-07-28 04:38:13,675 - INFO - [DISBURSEMENT] Loan #136000015 | Top-up of: None | Cash to Client: 1000000.0
2025-07-28 04:38:13,683 - INFO - 127.0.0.1 - - [28/Jul/2025 04:38:13] "GET /disbursements HTTP/1.1" 200 -
2025-07-28 04:43:05,131 - INFO - 127.0.0.1 - - [28/Jul/2025 04:43:05] "GET /register HTTP/1.1" 200 -
2025-07-28 05:21:21,925 - INFO - 127.0.0.1 - - [28/Jul/2025 05:21:21] "GET /loanbook HTTP/1.1" 200 -
[2025-07-28 05:21:30,312] INFO in app: Found 1 loans for customer 202507000011
2025-07-28 05:21:30,312 - INFO - Found 1 loans for customer 202507000011
[2025-07-28 05:21:30,317] INFO in app: Customer ID: 11
2025-07-28 05:21:30,317 - INFO - Customer ID: 11
[2025-07-28 05:21:30,321] INFO in app: Found Loans: [('115000012', 'active')]
2025-07-28 05:21:30,321 - INFO - Found Loans: [('115000012', 'active')]
2025-07-28 05:21:30,373 - INFO - 127.0.0.1 - - [28/Jul/2025 05:21:30] "GET /customer/202507000011/account HTTP/1.1" 200 -
2025-07-28 05:21:33,853 - INFO - 127.0.0.1 - - [28/Jul/2025 05:21:33] "GET /loan/115000012/statement HTTP/1.1" 200 -
2025-07-28 06:58:32,453 - INFO - Scheduler has been shut down
[2025-07-28 06:58:39,288] INFO in app: ==================================================
[2025-07-28 06:58:39,382] INFO in app: Application logging initialized successfully
[2025-07-28 06:58:39,386] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 06:58:39,390] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 06:58:39,394] INFO in app: System encoding: utf-8
[2025-07-28 06:58:39,396] INFO in app: ==================================================
2025-07-28 06:58:39,751 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 06:58:39,752 - INFO - Added job "snapshot_par" to job store "default"
2025-07-28 06:58:39,753 - INFO - Scheduler started
2025-07-28 06:58:39,803 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-28 06:58:39,803 - INFO - [33mPress CTRL+C to quit[0m
2025-07-28 06:58:54,947 - INFO - 127.0.0.1 - - [28/Jul/2025 06:58:54] "GET /arrears HTTP/1.1" 200 -
2025-07-28 06:59:05,282 - INFO - 127.0.0.1 - - [28/Jul/2025 06:59:05] "GET /arrears-trend HTTP/1.1" 200 -
2025-07-28 06:59:23,798 - INFO - 127.0.0.1 - - [28/Jul/2025 06:59:23] "GET /loanbook HTTP/1.1" 200 -
2025-07-28 06:59:36,177 - INFO - 127.0.0.1 - - [28/Jul/2025 06:59:36] "GET /income_report HTTP/1.1" 200 -
2025-07-28 06:59:59,952 - INFO - 127.0.0.1 - - [28/Jul/2025 06:59:59] "GET / HTTP/1.1" 200 -
2025-07-28 07:00:04,292 - INFO - 127.0.0.1 - - [28/Jul/2025 07:00:04] "GET /sales-dashboard HTTP/1.1" 200 -
2025-07-28 07:00:09,098 - INFO - 127.0.0.1 - - [28/Jul/2025 07:00:09] "GET / HTTP/1.1" 200 -
2025-07-28 07:00:14,269 - INFO - 127.0.0.1 - - [28/Jul/2025 07:00:14] "GET /sales-dashboard HTTP/1.1" 200 -
2025-07-28 07:22:26,379 - INFO - Scheduler has been shut down
[2025-07-28 07:22:29,809] INFO in app: ==================================================
[2025-07-28 07:22:29,815] INFO in app: Application logging initialized successfully
[2025-07-28 07:22:29,817] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 07:22:29,819] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 07:22:29,821] INFO in app: System encoding: utf-8
[2025-07-28 07:22:29,824] INFO in app: ==================================================
2025-07-28 07:22:30,062 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 07:22:30,064 - INFO - Added job "snapshot_par" to job store "default"
2025-07-28 07:22:30,064 - INFO - Scheduler started
2025-07-28 07:22:30,106 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-28 07:22:30,106 - INFO - [33mPress CTRL+C to quit[0m
2025-07-28 07:22:37,052 - INFO - 127.0.0.1 - - [28/Jul/2025 07:22:37] "[33mGET /sales-dashboard HTTP/1.1[0m" 404 -
2025-07-28 07:22:37,120 - INFO - 127.0.0.1 - - [28/Jul/2025 07:22:37] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-28 07:22:50,833 - INFO - 127.0.0.1 - - [28/Jul/2025 07:22:50] "[33mGET /sales-dashboard HTTP/1.1[0m" 404 -
2025-07-28 07:28:26,622 - INFO - Scheduler has been shut down
[2025-07-28 07:28:29,844] INFO in app: ==================================================
[2025-07-28 07:28:29,851] INFO in app: Application logging initialized successfully
[2025-07-28 07:28:29,854] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 07:28:29,856] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 07:28:29,858] INFO in app: System encoding: utf-8
[2025-07-28 07:28:29,862] INFO in app: ==================================================
2025-07-28 07:28:30,104 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 07:28:30,114 - INFO - Added job "snapshot_par" to job store "default"
2025-07-28 07:28:30,114 - INFO - Scheduler started
2025-07-28 07:28:30,155 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-28 07:28:30,155 - INFO - [33mPress CTRL+C to quit[0m
2025-07-28 07:28:47,808 - INFO - 127.0.0.1 - - [28/Jul/2025 07:28:47] "[33mGET /salesdashboard HTTP/1.1[0m" 404 -
[2025-07-28 07:28:59,391] ERROR in app: Exception on /sales_dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7306, in sales_dashboard
    Agent.full_name.label("name"),
    ^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'full_name'
2025-07-28 07:28:59,391 - ERROR - Exception on /sales_dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7306, in sales_dashboard
    Agent.full_name.label("name"),
    ^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'full_name'
2025-07-28 07:28:59,427 - INFO - 127.0.0.1 - - [28/Jul/2025 07:28:59] "[35m[1mGET /sales_dashboard HTTP/1.1[0m" 500 -
[2025-07-28 07:29:01,632] ERROR in app: Exception on /sales_dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7306, in sales_dashboard
    Agent.full_name.label("name"),
    ^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'full_name'
2025-07-28 07:29:01,632 - ERROR - Exception on /sales_dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7306, in sales_dashboard
    Agent.full_name.label("name"),
    ^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'full_name'
2025-07-28 07:29:01,646 - INFO - 127.0.0.1 - - [28/Jul/2025 07:29:01] "[35m[1mGET /sales_dashboard HTTP/1.1[0m" 500 -
[2025-07-28 07:29:20,726] ERROR in app: Exception on /sales_dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7306, in sales_dashboard
    Agent.full_name.label("name"),
    ^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'full_name'
2025-07-28 07:29:20,726 - ERROR - Exception on /sales_dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7306, in sales_dashboard
    Agent.full_name.label("name"),
    ^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'full_name'
2025-07-28 07:29:20,732 - INFO - 127.0.0.1 - - [28/Jul/2025 07:29:20] "[35m[1mGET /sales_dashboard HTTP/1.1[0m" 500 -
[2025-07-28 07:29:23,435] ERROR in app: Exception on /sales_dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7306, in sales_dashboard
    Agent.full_name.label("name"),
    ^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'full_name'
2025-07-28 07:29:23,435 - ERROR - Exception on /sales_dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7306, in sales_dashboard
    Agent.full_name.label("name"),
    ^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'full_name'
2025-07-28 07:29:23,443 - INFO - 127.0.0.1 - - [28/Jul/2025 07:29:23] "[35m[1mGET /sales_dashboard HTTP/1.1[0m" 500 -
2025-07-28 07:29:23,746 - INFO - 127.0.0.1 - - [28/Jul/2025 07:29:23] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-28 07:30:41,418 - INFO - Scheduler has been shut down
[2025-07-28 07:30:45,025] INFO in app: ==================================================
[2025-07-28 07:30:45,031] INFO in app: Application logging initialized successfully
[2025-07-28 07:30:45,034] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 07:30:45,036] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 07:30:45,039] INFO in app: System encoding: utf-8
[2025-07-28 07:30:45,041] INFO in app: ==================================================
2025-07-28 07:30:45,253 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 07:30:45,254 - INFO - Added job "snapshot_par" to job store "default"
2025-07-28 07:30:45,254 - INFO - Scheduler started
2025-07-28 07:30:45,278 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-28 07:30:45,278 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-28 07:30:47,854] ERROR in app: Exception on /sales_dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7311, in sales_dashboard
    ).join(Customer, Customer.created_by == Agent.id) \
                     ^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Customer' has no attribute 'created_by'. Did you mean: 'created_at'?
2025-07-28 07:30:47,854 - ERROR - Exception on /sales_dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7311, in sales_dashboard
    ).join(Customer, Customer.created_by == Agent.id) \
                     ^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Customer' has no attribute 'created_by'. Did you mean: 'created_at'?
2025-07-28 07:30:47,872 - INFO - 127.0.0.1 - - [28/Jul/2025 07:30:47] "[35m[1mGET /sales_dashboard HTTP/1.1[0m" 500 -
2025-07-28 07:30:47,930 - INFO - 127.0.0.1 - - [28/Jul/2025 07:30:47] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-28 07:40:31,949 - INFO - Scheduler has been shut down
[2025-07-28 07:40:35,419] INFO in app: ==================================================
[2025-07-28 07:40:35,426] INFO in app: Application logging initialized successfully
[2025-07-28 07:40:35,429] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 07:40:35,431] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 07:40:35,433] INFO in app: System encoding: utf-8
[2025-07-28 07:40:35,435] INFO in app: ==================================================
2025-07-28 07:40:35,656 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 07:40:35,657 - INFO - Added job "snapshot_par" to job store "default"
2025-07-28 07:40:35,658 - INFO - Scheduler started
2025-07-28 07:40:35,689 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-28 07:40:35,689 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-28 07:40:39,829] ERROR in app: Exception on /sales_dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7312, in sales_dashboard
    ).join(Customer, Customer.created_by == Agent.id) \
                     ^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Customer' has no attribute 'created_by'. Did you mean: 'created_at'?
2025-07-28 07:40:39,829 - ERROR - Exception on /sales_dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7312, in sales_dashboard
    ).join(Customer, Customer.created_by == Agent.id) \
                     ^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Customer' has no attribute 'created_by'. Did you mean: 'created_at'?
2025-07-28 07:40:39,846 - INFO - 127.0.0.1 - - [28/Jul/2025 07:40:39] "[35m[1mGET /sales_dashboard HTTP/1.1[0m" 500 -
2025-07-28 07:40:39,932 - INFO - 127.0.0.1 - - [28/Jul/2025 07:40:39] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-28 07:40:53,803 - INFO - Scheduler has been shut down
[2025-07-28 07:40:57,815] INFO in app: ==================================================
[2025-07-28 07:40:57,822] INFO in app: Application logging initialized successfully
[2025-07-28 07:40:57,824] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 07:40:57,826] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 07:40:57,828] INFO in app: System encoding: utf-8
[2025-07-28 07:40:57,831] INFO in app: ==================================================
2025-07-28 07:40:58,032 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 07:40:58,034 - INFO - Added job "snapshot_par" to job store "default"
2025-07-28 07:40:58,034 - INFO - Scheduler started
2025-07-28 07:40:58,057 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-28 07:40:58,057 - INFO - [33mPress CTRL+C to quit[0m
2025-07-28 07:41:01,825 - INFO - 127.0.0.1 - - [28/Jul/2025 07:41:01] "GET /sales_dashboard HTTP/1.1" 200 -
2025-07-28 07:41:02,713 - INFO - 127.0.0.1 - - [28/Jul/2025 07:41:02] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-28 18:54:49,423] INFO in app: ==================================================
[2025-07-28 18:54:49,524] INFO in app: Application logging initialized successfully
[2025-07-28 18:54:49,525] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 18:54:49,526] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 18:54:49,529] INFO in app: System encoding: utf-8
[2025-07-28 18:54:49,533] INFO in app: ==================================================
2025-07-28 18:54:49,853 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 18:54:49,855 - INFO - Added job "snapshot_par" to job store "default"
2025-07-28 18:54:49,855 - INFO - Scheduler started
2025-07-28 18:54:49,907 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-28 18:54:49,907 - INFO - [33mPress CTRL+C to quit[0m
2025-07-28 18:55:08,245 - INFO - 127.0.0.1 - - [28/Jul/2025 18:55:08] "[33mGET /sales_dashboard HTTP/1.1[0m" 404 -
2025-07-28 18:55:08,368 - INFO - 127.0.0.1 - - [28/Jul/2025 18:55:08] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-28 18:55:10,016 - INFO - 127.0.0.1 - - [28/Jul/2025 18:55:10] "[33mGET /salesdashboard HTTP/1.1[0m" 404 -
2025-07-28 18:55:11,643 - INFO - 127.0.0.1 - - [28/Jul/2025 18:55:11] "[33mGET /sales-dashboard HTTP/1.1[0m" 404 -
2025-07-28 18:55:12,401 - INFO - 127.0.0.1 - - [28/Jul/2025 18:55:12] "GET / HTTP/1.1" 200 -
2025-07-28 18:55:17,464 - INFO - 127.0.0.1 - - [28/Jul/2025 18:55:17] "GET / HTTP/1.1" 200 -
2025-07-28 18:55:18,332 - INFO - 127.0.0.1 - - [28/Jul/2025 18:55:18] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-28 18:55:22,379 - INFO - 127.0.0.1 - - [28/Jul/2025 18:55:22] "GET /dashboard/sales HTTP/1.1" 200 -
2025-07-28 18:55:28,995 - INFO - 127.0.0.1 - - [28/Jul/2025 18:55:28] "GET /dashboard/team-leader HTTP/1.1" 200 -
2025-07-28 18:55:39,895 - INFO - 127.0.0.1 - - [28/Jul/2025 18:55:39] "GET /dashboard/analytics HTTP/1.1" 200 -
2025-07-28 18:55:40,245 - INFO - 127.0.0.1 - - [28/Jul/2025 18:55:40] "GET /api/loans-by-region HTTP/1.1" 200 -
2025-07-28 18:55:40,248 - INFO - 127.0.0.1 - - [28/Jul/2025 18:55:40] "GET /api/loans-by-district HTTP/1.1" 200 -
2025-07-28 18:55:40,563 - INFO - 127.0.0.1 - - [28/Jul/2025 18:55:40] "GET /api/average-ticket-size HTTP/1.1" 200 -
2025-07-28 19:19:08,496 - INFO - Scheduler has been shut down
[2025-07-28 19:19:44,125] INFO in app: ==================================================
[2025-07-28 19:19:44,144] INFO in app: Application logging initialized successfully
[2025-07-28 19:19:44,152] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 19:19:44,167] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 19:19:44,180] INFO in app: System encoding: utf-8
[2025-07-28 19:19:44,185] INFO in app: ==================================================
2025-07-28 19:19:44,605 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 19:19:44,606 - INFO - Added job "snapshot_par" to job store "default"
2025-07-28 19:19:44,607 - INFO - Scheduler started
[2025-07-28 19:19:52,707] INFO in app: ==================================================
[2025-07-28 19:19:52,713] INFO in app: Application logging initialized successfully
[2025-07-28 19:19:52,716] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 19:19:52,719] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 19:19:52,724] INFO in app: System encoding: utf-8
[2025-07-28 19:19:52,726] INFO in app: ==================================================
2025-07-28 19:19:52,942 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 19:19:52,944 - INFO - Added job "snapshot_par" to job store "default"
2025-07-28 19:19:52,945 - INFO - Scheduler started
[2025-07-28 19:19:57,276] INFO in app: ==================================================
[2025-07-28 19:19:57,284] INFO in app: Application logging initialized successfully
[2025-07-28 19:19:57,286] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 19:19:57,288] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 19:19:57,290] INFO in app: System encoding: utf-8
[2025-07-28 19:19:57,293] INFO in app: ==================================================
2025-07-28 19:19:57,502 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 19:19:57,504 - INFO - Added job "snapshot_par" to job store "default"
2025-07-28 19:19:57,504 - INFO - Scheduler started
2025-07-28 19:19:57,528 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-28 19:19:57,529 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-28 19:20:43,371] INFO in app: ==================================================
[2025-07-28 19:20:43,377] INFO in app: Application logging initialized successfully
[2025-07-28 19:20:43,379] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 19:20:43,380] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 19:20:43,381] INFO in app: System encoding: utf-8
[2025-07-28 19:20:43,382] INFO in app: ==================================================
2025-07-28 19:20:43,587 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 19:20:43,589 - INFO - Added job "snapshot_par" to job store "default"
2025-07-28 19:20:43,589 - INFO - Scheduler started
2025-07-28 19:21:29,495 - INFO - Scheduler has been shut down
2025-07-28 19:27:49,606 - INFO - Scheduler has been shut down
[2025-07-28 19:27:52,788] INFO in app: ==================================================
[2025-07-28 19:27:52,797] INFO in app: Application logging initialized successfully
[2025-07-28 19:27:52,800] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 19:27:52,802] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 19:27:52,810] INFO in app: System encoding: utf-8
[2025-07-28 19:27:52,812] INFO in app: ==================================================
2025-07-28 19:27:53,078 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 19:27:53,080 - INFO - Added job "snapshot_par" to job store "default"
2025-07-28 19:27:53,080 - INFO - Scheduler started
2025-07-28 19:27:53,114 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-28 19:27:53,114 - INFO - [33mPress CTRL+C to quit[0m
2025-07-28 19:28:00,312 - INFO - 127.0.0.1 - - [28/Jul/2025 19:28:00] "GET /dashboard/analytics HTTP/1.1" 200 -
2025-07-28 19:28:01,335 - INFO - 127.0.0.1 - - [28/Jul/2025 19:28:01] "GET /api/loans-by-region HTTP/1.1" 200 -
2025-07-28 19:28:01,337 - INFO - 127.0.0.1 - - [28/Jul/2025 19:28:01] "GET /api/loans-by-district HTTP/1.1" 200 -
2025-07-28 19:28:01,637 - INFO - 127.0.0.1 - - [28/Jul/2025 19:28:01] "GET /api/average-ticket-size HTTP/1.1" 200 -
2025-07-28 19:28:02,665 - INFO - 127.0.0.1 - - [28/Jul/2025 19:28:02] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-28 19:28:05,940 - INFO - 127.0.0.1 - - [28/Jul/2025 19:28:05] "GET /dashboard/team-leader HTTP/1.1" 200 -
[2025-07-28 19:28:07,701] ERROR in app: Exception on /dashboard/sales [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7332, in sales_dashboard
    active_days = db.session.query(func.count(distinct(Customer.created_at.cast(date))))\
                                                       ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 1705, in cast
    return Cast(self, type_)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 3430, in __init__
    self.type = type_api.to_instance(type_)
                ~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\type_api.py", line 2336, in to_instance
    return typeobj(*arg, **kw)
TypeError: function missing required argument 'year' (pos 1)
2025-07-28 19:28:07,701 - ERROR - Exception on /dashboard/sales [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7332, in sales_dashboard
    active_days = db.session.query(func.count(distinct(Customer.created_at.cast(date))))\
                                                       ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 1705, in cast
    return Cast(self, type_)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 3430, in __init__
    self.type = type_api.to_instance(type_)
                ~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\type_api.py", line 2336, in to_instance
    return typeobj(*arg, **kw)
TypeError: function missing required argument 'year' (pos 1)
2025-07-28 19:28:07,718 - INFO - 127.0.0.1 - - [28/Jul/2025 19:28:07] "[35m[1mGET /dashboard/sales HTTP/1.1[0m" 500 -
2025-07-28 20:43:55,391 - INFO - Scheduler has been shut down
[2025-07-28 20:44:01,001] INFO in app: ==================================================
[2025-07-28 20:44:01,010] INFO in app: Application logging initialized successfully
[2025-07-28 20:44:01,013] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 20:44:01,018] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 20:44:01,022] INFO in app: System encoding: utf-8
[2025-07-28 20:44:01,024] INFO in app: ==================================================
2025-07-28 20:44:01,324 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 20:44:01,327 - INFO - Added job "snapshot_par" to job store "default"
2025-07-28 20:44:01,327 - INFO - Scheduler started
2025-07-28 20:44:01,363 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-28 20:44:01,363 - INFO - [33mPress CTRL+C to quit[0m
2025-07-28 20:44:13,721 - INFO - 127.0.0.1 - - [28/Jul/2025 20:44:13] "GET /dashboard/team-leader HTTP/1.1" 200 -
2025-07-28 20:44:14,263 - INFO - 127.0.0.1 - - [28/Jul/2025 20:44:14] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-28 20:44:17,497 - INFO - 127.0.0.1 - - [28/Jul/2025 20:44:17] "GET /dashboard/analytics HTTP/1.1" 200 -
2025-07-28 20:44:17,747 - INFO - 127.0.0.1 - - [28/Jul/2025 20:44:17] "GET /api/loans-by-region HTTP/1.1" 200 -
2025-07-28 20:44:17,758 - INFO - 127.0.0.1 - - [28/Jul/2025 20:44:17] "GET /api/loans-by-district HTTP/1.1" 200 -
2025-07-28 20:44:18,045 - INFO - 127.0.0.1 - - [28/Jul/2025 20:44:18] "GET /api/average-ticket-size HTTP/1.1" 200 -
[2025-07-28 20:44:23,320] ERROR in app: Exception on /dashboard/sales [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7332, in sales_dashboard
    active_days = db.session.query(func.count(distinct(Customer.created_at.cast(date))))\
                                                       ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 1705, in cast
    return Cast(self, type_)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 3430, in __init__
    self.type = type_api.to_instance(type_)
                ~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\type_api.py", line 2336, in to_instance
    return typeobj(*arg, **kw)
TypeError: function missing required argument 'year' (pos 1)
2025-07-28 20:44:23,320 - ERROR - Exception on /dashboard/sales [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7332, in sales_dashboard
    active_days = db.session.query(func.count(distinct(Customer.created_at.cast(date))))\
                                                       ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 1705, in cast
    return Cast(self, type_)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 3430, in __init__
    self.type = type_api.to_instance(type_)
                ~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\type_api.py", line 2336, in to_instance
    return typeobj(*arg, **kw)
TypeError: function missing required argument 'year' (pos 1)
2025-07-28 20:44:23,376 - INFO - 127.0.0.1 - - [28/Jul/2025 20:44:23] "[35m[1mGET /dashboard/sales HTTP/1.1[0m" 500 -
2025-07-28 21:01:46,918 - INFO - Scheduler has been shut down
[2025-07-28 21:01:51,754] INFO in app: ==================================================
[2025-07-28 21:01:51,766] INFO in app: Application logging initialized successfully
[2025-07-28 21:01:51,771] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 21:01:51,774] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 21:01:51,777] INFO in app: System encoding: utf-8
[2025-07-28 21:01:51,791] INFO in app: ==================================================
2025-07-28 21:01:52,056 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 21:01:52,059 - INFO - Added job "snapshot_par" to job store "default"
2025-07-28 21:01:52,059 - INFO - Scheduler started
2025-07-28 21:01:52,098 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-28 21:01:52,098 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-28 21:01:59,132] ERROR in app: Exception on /dashboard/sales [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7332, in sales_dashboard
    active_days = db.session.query(func.count(distinct(Customer.created_at.cast(date))))\
                                                       ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 1705, in cast
    return Cast(self, type_)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 3430, in __init__
    self.type = type_api.to_instance(type_)
                ~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\type_api.py", line 2336, in to_instance
    return typeobj(*arg, **kw)
TypeError: function missing required argument 'year' (pos 1)
2025-07-28 21:01:59,132 - ERROR - Exception on /dashboard/sales [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7332, in sales_dashboard
    active_days = db.session.query(func.count(distinct(Customer.created_at.cast(date))))\
                                                       ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 1705, in cast
    return Cast(self, type_)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 3430, in __init__
    self.type = type_api.to_instance(type_)
                ~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\type_api.py", line 2336, in to_instance
    return typeobj(*arg, **kw)
TypeError: function missing required argument 'year' (pos 1)
2025-07-28 21:01:59,169 - INFO - 127.0.0.1 - - [28/Jul/2025 21:01:59] "[35m[1mGET /dashboard/sales HTTP/1.1[0m" 500 -
2025-07-28 21:01:59,296 - INFO - 127.0.0.1 - - [28/Jul/2025 21:01:59] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-28 21:02:02,309] ERROR in app: Exception on /dashboard/sales [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7332, in sales_dashboard
    active_days = db.session.query(func.count(distinct(Customer.created_at.cast(date))))\
                                                       ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 1705, in cast
    return Cast(self, type_)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 3430, in __init__
    self.type = type_api.to_instance(type_)
                ~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\type_api.py", line 2336, in to_instance
    return typeobj(*arg, **kw)
TypeError: function missing required argument 'year' (pos 1)
2025-07-28 21:02:02,309 - ERROR - Exception on /dashboard/sales [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7332, in sales_dashboard
    active_days = db.session.query(func.count(distinct(Customer.created_at.cast(date))))\
                                                       ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 1705, in cast
    return Cast(self, type_)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 3430, in __init__
    self.type = type_api.to_instance(type_)
                ~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\type_api.py", line 2336, in to_instance
    return typeobj(*arg, **kw)
TypeError: function missing required argument 'year' (pos 1)
2025-07-28 21:02:02,388 - INFO - 127.0.0.1 - - [28/Jul/2025 21:02:02] "[35m[1mGET /dashboard/sales HTTP/1.1[0m" 500 -
2025-07-28 21:03:10,080 - INFO - Scheduler has been shut down
[2025-07-28 21:03:13,904] INFO in app: ==================================================
[2025-07-28 21:03:13,912] INFO in app: Application logging initialized successfully
[2025-07-28 21:03:13,917] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 21:03:13,920] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 21:03:13,925] INFO in app: System encoding: utf-8
[2025-07-28 21:03:13,928] INFO in app: ==================================================
2025-07-28 21:03:14,209 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 21:03:14,211 - INFO - Added job "snapshot_par" to job store "default"
2025-07-28 21:03:14,211 - INFO - Scheduler started
2025-07-28 21:03:14,248 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-28 21:03:14,248 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-28 21:03:19,944] ERROR in app: Exception on /dashboard/sales [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7332, in sales_dashboard
    active_days = db.session.query(func.count(distinct(Customer.created_at.cast(date))))\
                                                       ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 1705, in cast
    return Cast(self, type_)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 3430, in __init__
    self.type = type_api.to_instance(type_)
                ~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\type_api.py", line 2336, in to_instance
    return typeobj(*arg, **kw)
TypeError: function missing required argument 'year' (pos 1)
2025-07-28 21:03:19,944 - ERROR - Exception on /dashboard/sales [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7332, in sales_dashboard
    active_days = db.session.query(func.count(distinct(Customer.created_at.cast(date))))\
                                                       ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 1705, in cast
    return Cast(self, type_)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 3430, in __init__
    self.type = type_api.to_instance(type_)
                ~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\type_api.py", line 2336, in to_instance
    return typeobj(*arg, **kw)
TypeError: function missing required argument 'year' (pos 1)
2025-07-28 21:03:19,981 - INFO - 127.0.0.1 - - [28/Jul/2025 21:03:19] "[35m[1mGET /dashboard/sales HTTP/1.1[0m" 500 -
2025-07-28 21:03:20,076 - INFO - 127.0.0.1 - - [28/Jul/2025 21:03:20] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-28 21:05:01,205 - INFO - Scheduler has been shut down
[2025-07-28 21:05:05,878] INFO in app: ==================================================
[2025-07-28 21:05:05,887] INFO in app: Application logging initialized successfully
[2025-07-28 21:05:05,889] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 21:05:05,897] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 21:05:05,907] INFO in app: System encoding: utf-8
[2025-07-28 21:05:05,910] INFO in app: ==================================================
2025-07-28 21:05:06,250 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 21:05:06,252 - INFO - Added job "snapshot_par" to job store "default"
2025-07-28 21:05:06,252 - INFO - Scheduler started
[2025-07-28 21:05:44,327] INFO in app: ==================================================
[2025-07-28 21:05:44,340] INFO in app: Application logging initialized successfully
[2025-07-28 21:05:44,344] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 21:05:44,346] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 21:05:44,355] INFO in app: System encoding: utf-8
[2025-07-28 21:05:44,357] INFO in app: ==================================================
2025-07-28 21:05:44,972 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 21:05:44,997 - INFO - Added job "snapshot_par" to job store "default"
2025-07-28 21:05:44,997 - INFO - Scheduler started
[2025-07-28 21:06:03,684] INFO in app: ==================================================
[2025-07-28 21:06:03,693] INFO in app: Application logging initialized successfully
[2025-07-28 21:06:03,697] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 21:06:03,701] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 21:06:03,706] INFO in app: System encoding: utf-8
[2025-07-28 21:06:03,709] INFO in app: ==================================================
2025-07-28 21:06:04,032 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 21:06:04,033 - INFO - Added job "snapshot_par" to job store "default"
2025-07-28 21:06:04,033 - INFO - Scheduler started
2025-07-28 21:06:04,072 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-28 21:06:04,072 - INFO - [33mPress CTRL+C to quit[0m
2025-07-28 21:06:11,558 - INFO - 127.0.0.1 - - [28/Jul/2025 21:06:11] "GET /dashboard/sales HTTP/1.1" 200 -
2025-07-28 21:06:12,866 - INFO - 127.0.0.1 - - [28/Jul/2025 21:06:12] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-28 21:31:52,753 - INFO - 127.0.0.1 - - [28/Jul/2025 21:31:52] "GET /dashboard/team-leader HTTP/1.1" 200 -
2025-07-28 21:31:56,109 - INFO - 127.0.0.1 - - [28/Jul/2025 21:31:56] "GET /dashboard/analytics HTTP/1.1" 200 -
2025-07-28 21:31:56,241 - INFO - 127.0.0.1 - - [28/Jul/2025 21:31:56] "GET /api/loans-by-region HTTP/1.1" 200 -
2025-07-28 21:31:56,558 - INFO - 127.0.0.1 - - [28/Jul/2025 21:31:56] "GET /api/loans-by-district HTTP/1.1" 200 -
2025-07-28 21:31:56,565 - INFO - 127.0.0.1 - - [28/Jul/2025 21:31:56] "GET /api/average-ticket-size HTTP/1.1" 200 -
2025-07-28 21:32:01,683 - INFO - 127.0.0.1 - - [28/Jul/2025 21:32:01] "GET /dashboard/sales HTTP/1.1" 200 -
2025-07-28 21:32:17,448 - INFO - 127.0.0.1 - - [28/Jul/2025 21:32:17] "GET /dashboard/sales HTTP/1.1" 200 -
2025-07-28 21:32:22,004 - INFO - 127.0.0.1 - - [28/Jul/2025 21:32:22] "GET / HTTP/1.1" 200 -
2025-07-28 21:32:31,596 - INFO - 127.0.0.1 - - [28/Jul/2025 21:32:31] "GET /loanbook HTTP/1.1" 200 -
2025-07-28 22:22:24,389 - INFO - 127.0.0.1 - - [28/Jul/2025 22:22:24] "GET /register HTTP/1.1" 200 -
2025-07-28 23:01:07,124 - INFO - Scheduler has been shut down
[2025-07-28 23:01:11,800] INFO in app: ==================================================
[2025-07-28 23:01:11,878] INFO in app: Application logging initialized successfully
[2025-07-28 23:01:11,880] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 23:01:11,881] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 23:01:11,883] INFO in app: System encoding: utf-8
[2025-07-28 23:01:11,884] INFO in app: ==================================================
2025-07-28 23:01:12,145 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 23:01:12,146 - INFO - Added job "snapshot_par" to job store "default"
2025-07-28 23:01:12,147 - INFO - Scheduler started
2025-07-28 23:01:12,193 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-28 23:01:12,193 - INFO - [33mPress CTRL+C to quit[0m
2025-07-28 23:03:08,949 - INFO - Scheduler has been shut down
[2025-07-28 23:03:11,987] INFO in app: ==================================================
[2025-07-28 23:03:11,993] INFO in app: Application logging initialized successfully
[2025-07-28 23:03:11,996] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 23:03:11,998] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 23:03:12,003] INFO in app: System encoding: utf-8
[2025-07-28 23:03:12,005] INFO in app: ==================================================
2025-07-28 23:03:12,221 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 23:03:12,222 - INFO - Added job "snapshot_par" to job store "default"
2025-07-28 23:03:12,222 - INFO - Scheduler started
2025-07-28 23:03:12,250 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-28 23:03:12,250 - INFO - [33mPress CTRL+C to quit[0m
2025-07-28 23:41:15,789 - INFO - Scheduler has been shut down
[2025-07-28 23:47:29,135] INFO in app: ==================================================
[2025-07-28 23:47:29,298] INFO in app: Application logging initialized successfully
[2025-07-28 23:47:29,300] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 23:47:29,302] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 23:47:29,304] INFO in app: System encoding: utf-8
[2025-07-28 23:47:29,310] INFO in app: ==================================================
2025-07-28 23:47:29,602 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 23:47:29,604 - INFO - Added job "snapshot_par" to job store "default"
2025-07-28 23:47:29,604 - INFO - Scheduler started
2025-07-28 23:47:29,634 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-28 23:47:29,634 - INFO - [33mPress CTRL+C to quit[0m
2025-07-28 23:47:43,935 - INFO - 127.0.0.1 - - [28/Jul/2025 23:47:43] "GET /register HTTP/1.1" 200 -
[2025-07-28 23:48:08,681] ERROR in app: Exception on /agents/add [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7428, in add_agent
    return render_template('agents/add_agent.html')
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: agents/add_agent.html
2025-07-28 23:48:08,681 - ERROR - Exception on /agents/add [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7428, in add_agent
    return render_template('agents/add_agent.html')
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: agents/add_agent.html
2025-07-28 23:48:08,880 - INFO - 127.0.0.1 - - [28/Jul/2025 23:48:08] "[35m[1mGET /agents/add HTTP/1.1[0m" 500 -
2025-07-28 23:48:54,531 - INFO - 127.0.0.1 - - [28/Jul/2025 23:48:54] "[33mGET /agents/team/add HTTP/1.1[0m" 404 -
2025-07-28 23:49:06,973 - INFO - Scheduler has been shut down
[2025-07-28 23:49:11,593] INFO in app: ==================================================
[2025-07-28 23:49:11,601] INFO in app: Application logging initialized successfully
[2025-07-28 23:49:11,604] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-28 23:49:11,606] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-28 23:49:11,610] INFO in app: System encoding: utf-8
[2025-07-28 23:49:11,614] INFO in app: ==================================================
2025-07-28 23:49:11,830 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 23:49:11,832 - INFO - Added job "snapshot_par" to job store "default"
2025-07-28 23:49:11,832 - INFO - Scheduler started
2025-07-28 23:49:11,855 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-28 23:49:11,855 - INFO - [33mPress CTRL+C to quit[0m
2025-07-28 23:49:14,575 - INFO - 127.0.0.1 - - [28/Jul/2025 23:49:14] "[33mGET /agents/team/add HTTP/1.1[0m" 404 -
2025-07-28 23:49:14,630 - INFO - 127.0.0.1 - - [28/Jul/2025 23:49:14] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-29 09:24:30,854] INFO in app: ==================================================
[2025-07-29 09:24:30,980] INFO in app: Application logging initialized successfully
[2025-07-29 09:24:30,982] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 09:24:30,987] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 09:24:31,009] INFO in app: System encoding: utf-8
[2025-07-29 09:24:31,017] INFO in app: ==================================================
2025-07-29 09:24:31,524 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-29 09:24:31,526 - INFO - Added job "snapshot_par" to job store "default"
2025-07-29 09:24:31,526 - INFO - Scheduler started
2025-07-29 09:24:31,626 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-29 09:24:31,626 - INFO - [33mPress CTRL+C to quit[0m
2025-07-29 09:24:37,653 - INFO - 127.0.0.1 - - [29/Jul/2025 09:24:37] "[33mGET /agents/team/add HTTP/1.1[0m" 404 -
2025-07-29 09:24:37,858 - INFO - 127.0.0.1 - - [29/Jul/2025 09:24:37] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-29 09:35:14,186 - INFO - 127.0.0.1 - - [29/Jul/2025 09:35:14] "[33mGET /agents/team/add HTTP/1.1[0m" 404 -
2025-07-29 09:46:14,618 - INFO - Scheduler has been shut down
[2025-07-29 09:46:18,649] INFO in app: ==================================================
[2025-07-29 09:46:18,658] INFO in app: Application logging initialized successfully
[2025-07-29 09:46:18,660] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 09:46:18,662] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 09:46:18,663] INFO in app: System encoding: utf-8
[2025-07-29 09:46:18,667] INFO in app: ==================================================
2025-07-29 09:46:18,864 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-29 09:46:18,866 - INFO - Added job "snapshot_par" to job store "default"
2025-07-29 09:46:18,866 - INFO - Scheduler started
[2025-07-29 09:47:28,668] INFO in app: ==================================================
[2025-07-29 09:47:28,673] INFO in app: Application logging initialized successfully
[2025-07-29 09:47:28,676] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 09:47:28,678] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 09:47:28,680] INFO in app: System encoding: utf-8
[2025-07-29 09:47:28,686] INFO in app: ==================================================
2025-07-29 09:47:28,886 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-29 09:47:28,887 - INFO - Added job "snapshot_par" to job store "default"
2025-07-29 09:47:28,887 - INFO - Scheduler started
[2025-07-29 09:48:33,898] INFO in app: ==================================================
[2025-07-29 09:48:33,904] INFO in app: Application logging initialized successfully
[2025-07-29 09:48:33,907] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 09:48:33,911] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 09:48:33,917] INFO in app: System encoding: utf-8
[2025-07-29 09:48:33,919] INFO in app: ==================================================
2025-07-29 09:48:34,152 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-29 09:48:34,154 - INFO - Added job "snapshot_par" to job store "default"
2025-07-29 09:48:34,154 - INFO - Scheduler started
2025-07-29 09:48:34,170 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-29 09:48:34,170 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-29 09:48:34,171 - INFO - Scheduler started
2025-07-29 09:48:34,187 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-29 09:48:34,187 - INFO - [33mPress CTRL+C to quit[0m
2025-07-29 09:48:38,864 - INFO - 127.0.0.1 - - [29/Jul/2025 09:48:38] "GET /agents/team/add HTTP/1.1" 200 -
2025-07-29 09:48:50,862 - INFO - 127.0.0.1 - - [29/Jul/2025 09:48:50] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-29 09:52:22,821] ERROR in app: Exception on /agents/team/add [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7475, in add_team_with_agents
    leader = Agent(
        name=request.form['leader_name'],
    ...<2 lines>...
        role='Team Leader'
    )
  File "<string>", line 4, in __init__
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
        "%r is an invalid keyword argument for %s" % (k, cls_.__name__)
    )
TypeError: 'email' is an invalid keyword argument for Agent
2025-07-29 09:52:22,821 - ERROR - Exception on /agents/team/add [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7475, in add_team_with_agents
    leader = Agent(
        name=request.form['leader_name'],
    ...<2 lines>...
        role='Team Leader'
    )
  File "<string>", line 4, in __init__
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
        "%r is an invalid keyword argument for %s" % (k, cls_.__name__)
    )
TypeError: 'email' is an invalid keyword argument for Agent
2025-07-29 09:52:22,861 - INFO - 127.0.0.1 - - [29/Jul/2025 09:52:22] "[35m[1mPOST /agents/team/add HTTP/1.1[0m" 500 -
2025-07-29 09:53:24,421 - INFO - Scheduler has been shut down
[2025-07-29 09:53:38,783] INFO in app: ==================================================
[2025-07-29 09:53:38,792] INFO in app: Application logging initialized successfully
[2025-07-29 09:53:38,794] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 09:53:38,796] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 09:53:38,797] INFO in app: System encoding: utf-8
[2025-07-29 09:53:38,800] INFO in app: ==================================================
2025-07-29 09:53:39,002 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-29 09:53:39,003 - INFO - Added job "snapshot_par" to job store "default"
2025-07-29 09:53:39,003 - INFO - Scheduler started
2025-07-29 09:53:39,017 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-29 09:53:39,018 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-29 09:53:39,018 - INFO - Scheduler started
[2025-07-29 09:53:50,272] INFO in app: ==================================================
[2025-07-29 09:53:50,278] INFO in app: Application logging initialized successfully
[2025-07-29 09:53:50,280] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 09:53:50,282] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 09:53:50,283] INFO in app: System encoding: utf-8
[2025-07-29 09:53:50,285] INFO in app: ==================================================
2025-07-29 09:53:50,482 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-29 09:53:50,483 - INFO - Added job "snapshot_par" to job store "default"
2025-07-29 09:53:50,483 - INFO - Scheduler started
2025-07-29 09:53:50,496 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-29 09:53:50,496 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-29 09:53:50,497 - INFO - Scheduler started
[2025-07-29 09:53:58,585] INFO in app: ==================================================
[2025-07-29 09:53:58,592] INFO in app: Application logging initialized successfully
[2025-07-29 09:53:58,594] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 09:53:58,595] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 09:53:58,597] INFO in app: System encoding: utf-8
[2025-07-29 09:53:58,598] INFO in app: ==================================================
2025-07-29 09:53:58,803 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-29 09:53:58,804 - INFO - Added job "snapshot_par" to job store "default"
2025-07-29 09:53:58,805 - INFO - Scheduler started
2025-07-29 09:53:58,815 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-29 09:53:58,817 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-29 09:53:58,817 - INFO - Scheduler started
[2025-07-29 09:54:03,326] INFO in app: ==================================================
[2025-07-29 09:54:03,334] INFO in app: Application logging initialized successfully
[2025-07-29 09:54:03,337] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 09:54:03,339] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 09:54:03,340] INFO in app: System encoding: utf-8
[2025-07-29 09:54:03,343] INFO in app: ==================================================
2025-07-29 09:54:03,547 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-29 09:54:03,550 - INFO - Added job "snapshot_par" to job store "default"
2025-07-29 09:54:03,550 - INFO - Scheduler started
2025-07-29 09:54:03,561 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-29 09:54:03,561 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-29 09:54:03,562 - INFO - Scheduler started
2025-07-29 09:54:03,583 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-29 09:54:03,583 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-29 09:54:11,215] ERROR in app: Exception on /agents/team/add [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7476, in add_team_with_agents
    leader = Agent(
        name=request.form['leader_name'],
    ...<2 lines>...
        role='Team Leader'
    )
  File "<string>", line 4, in __init__
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
        "%r is an invalid keyword argument for %s" % (k, cls_.__name__)
    )
TypeError: 'role' is an invalid keyword argument for Agent
2025-07-29 09:54:11,215 - ERROR - Exception on /agents/team/add [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7476, in add_team_with_agents
    leader = Agent(
        name=request.form['leader_name'],
    ...<2 lines>...
        role='Team Leader'
    )
  File "<string>", line 4, in __init__
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
        "%r is an invalid keyword argument for %s" % (k, cls_.__name__)
    )
TypeError: 'role' is an invalid keyword argument for Agent
2025-07-29 09:54:11,257 - INFO - 127.0.0.1 - - [29/Jul/2025 09:54:11] "[35m[1mPOST /agents/team/add HTTP/1.1[0m" 500 -
2025-07-29 09:56:04,289 - INFO - Scheduler has been shut down
[2025-07-29 09:56:17,606] INFO in app: ==================================================
[2025-07-29 09:56:17,613] INFO in app: Application logging initialized successfully
[2025-07-29 09:56:17,616] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 09:56:17,617] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 09:56:17,623] INFO in app: System encoding: utf-8
[2025-07-29 09:56:17,625] INFO in app: ==================================================
2025-07-29 09:56:17,816 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-29 09:56:17,818 - INFO - Added job "snapshot_par" to job store "default"
2025-07-29 09:56:17,818 - INFO - Scheduler started
2025-07-29 09:56:17,830 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-29 09:56:17,830 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-29 09:56:17,830 - INFO - Scheduler started
[2025-07-29 09:56:26,813] INFO in app: ==================================================
[2025-07-29 09:56:26,819] INFO in app: Application logging initialized successfully
[2025-07-29 09:56:26,822] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 09:56:26,824] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 09:56:26,827] INFO in app: System encoding: utf-8
[2025-07-29 09:56:26,829] INFO in app: ==================================================
2025-07-29 09:56:27,016 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-29 09:56:27,018 - INFO - Added job "snapshot_par" to job store "default"
2025-07-29 09:56:27,018 - INFO - Scheduler started
2025-07-29 09:56:27,029 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-29 09:56:27,029 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-29 09:56:27,029 - INFO - Scheduler started
[2025-07-29 09:56:32,517] INFO in app: ==================================================
[2025-07-29 09:56:32,526] INFO in app: Application logging initialized successfully
[2025-07-29 09:56:32,529] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 09:56:32,533] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 09:56:32,538] INFO in app: System encoding: utf-8
[2025-07-29 09:56:32,540] INFO in app: ==================================================
2025-07-29 09:56:32,789 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-29 09:56:32,791 - INFO - Added job "snapshot_par" to job store "default"
2025-07-29 09:56:32,791 - INFO - Scheduler started
2025-07-29 09:56:32,810 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-29 09:56:32,810 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-29 09:56:32,810 - INFO - Scheduler started
[2025-07-29 09:56:36,878] INFO in app: ==================================================
[2025-07-29 09:56:36,885] INFO in app: Application logging initialized successfully
[2025-07-29 09:56:36,887] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 09:56:36,889] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 09:56:36,891] INFO in app: System encoding: utf-8
[2025-07-29 09:56:36,894] INFO in app: ==================================================
2025-07-29 09:56:37,091 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-29 09:56:37,093 - INFO - Added job "snapshot_par" to job store "default"
2025-07-29 09:56:37,093 - INFO - Scheduler started
2025-07-29 09:56:37,105 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-29 09:56:37,106 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-29 09:56:37,106 - INFO - Scheduler started
2025-07-29 09:56:37,120 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-29 09:56:37,120 - INFO - [33mPress CTRL+C to quit[0m
2025-07-29 09:56:43,627 - INFO - 127.0.0.1 - - [29/Jul/2025 09:56:43] "[32mPOST /agents/team/add HTTP/1.1[0m" 302 -
[2025-07-29 09:56:43,671] ERROR in app: Exception on /agents [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7472, in view_agents
    return render_template('agents/view_agents.html', agents=agents)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\agents\view_agents.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\agents\view_agents.html", line 9, in block 'content'
    <a href="{{ url_for('add_agent') }}" class="btn btn-sm btn-success">
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'add_agent'. Did you mean 'add_client' instead?
2025-07-29 09:56:43,671 - ERROR - Exception on /agents [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7472, in view_agents
    return render_template('agents/view_agents.html', agents=agents)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\agents\view_agents.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\agents\view_agents.html", line 9, in block 'content'
    <a href="{{ url_for('add_agent') }}" class="btn btn-sm btn-success">
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'add_agent'. Did you mean 'add_client' instead?
2025-07-29 09:56:43,689 - INFO - 127.0.0.1 - - [29/Jul/2025 09:56:43] "[35m[1mGET /agents HTTP/1.1[0m" 500 -
2025-07-29 09:59:27,254 - INFO - Scheduler has been shut down
[2025-07-29 09:59:30,424] INFO in app: ==================================================
[2025-07-29 09:59:30,431] INFO in app: Application logging initialized successfully
[2025-07-29 09:59:30,434] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 09:59:30,436] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 09:59:30,439] INFO in app: System encoding: utf-8
[2025-07-29 09:59:30,444] INFO in app: ==================================================
2025-07-29 09:59:31,096 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-29 09:59:31,098 - INFO - Added job "snapshot_par" to job store "default"
2025-07-29 09:59:31,098 - INFO - Scheduler started
2025-07-29 09:59:31,129 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-29 09:59:31,130 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-29 09:59:31,130 - INFO - Scheduler started
2025-07-29 09:59:31,158 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-29 09:59:31,158 - INFO - [33mPress CTRL+C to quit[0m
2025-07-29 09:59:36,547 - INFO - 127.0.0.1 - - [29/Jul/2025 09:59:36] "[32mPOST /agents/team/add HTTP/1.1[0m" 302 -
2025-07-29 09:59:36,601 - INFO - 127.0.0.1 - - [29/Jul/2025 09:59:36] "GET /agents HTTP/1.1" 200 -
2025-07-29 11:27:51,454 - INFO - 127.0.0.1 - - [29/Jul/2025 11:27:51] "GET /agents HTTP/1.1" 200 -
2025-07-29 11:27:57,247 - INFO - Scheduler has been shut down
[2025-07-29 11:28:01,710] INFO in app: ==================================================
[2025-07-29 11:28:01,783] INFO in app: Application logging initialized successfully
[2025-07-29 11:28:01,784] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 11:28:01,785] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 11:28:01,787] INFO in app: System encoding: utf-8
[2025-07-29 11:28:01,788] INFO in app: ==================================================
2025-07-29 11:28:02,063 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-29 11:28:02,065 - INFO - Added job "snapshot_par" to job store "default"
2025-07-29 11:28:02,065 - INFO - Scheduler started
2025-07-29 11:28:02,077 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-29 11:28:02,077 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-29 11:28:02,077 - INFO - Scheduler started
2025-07-29 11:28:02,098 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-29 11:28:02,098 - INFO - [33mPress CTRL+C to quit[0m
2025-07-29 11:28:05,576 - INFO - 127.0.0.1 - - [29/Jul/2025 11:28:05] "GET /agents HTTP/1.1" 200 -
2025-07-29 11:28:12,235 - INFO - 127.0.0.1 - - [29/Jul/2025 11:28:12] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-29 11:29:00,064 - INFO - 127.0.0.1 - - [29/Jul/2025 11:29:00] "GET /agents/team/add HTTP/1.1" 200 -
2025-07-29 11:29:46,038 - INFO - 127.0.0.1 - - [29/Jul/2025 11:29:46] "[32mPOST /agents/team/add HTTP/1.1[0m" 302 -
2025-07-29 11:29:46,357 - INFO - 127.0.0.1 - - [29/Jul/2025 11:29:46] "GET /agents HTTP/1.1" 200 -
2025-07-29 12:19:47,607 - INFO - Scheduler has been shut down
[2025-07-29 12:19:51,758] INFO in app: ==================================================
[2025-07-29 12:19:51,768] INFO in app: Application logging initialized successfully
[2025-07-29 12:19:51,770] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 12:19:51,773] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 12:19:51,776] INFO in app: System encoding: utf-8
[2025-07-29 12:19:51,778] INFO in app: ==================================================
[2025-07-29 12:26:05,987] INFO in app: ==================================================
[2025-07-29 12:26:06,005] INFO in app: Application logging initialized successfully
[2025-07-29 12:26:06,022] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 12:26:06,049] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 12:26:06,056] INFO in app: System encoding: utf-8
[2025-07-29 12:26:06,074] INFO in app: ==================================================
[2025-07-29 12:26:13,331] INFO in app: ==================================================
[2025-07-29 12:26:13,338] INFO in app: Application logging initialized successfully
[2025-07-29 12:26:13,342] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 12:26:13,344] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 12:26:13,346] INFO in app: System encoding: utf-8
[2025-07-29 12:26:13,348] INFO in app: ==================================================
[2025-07-29 13:04:54,246] INFO in app: ==================================================
[2025-07-29 13:04:54,256] INFO in app: Application logging initialized successfully
[2025-07-29 13:04:54,258] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 13:04:54,259] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 13:04:54,260] INFO in app: System encoding: utf-8
[2025-07-29 13:04:54,262] INFO in app: ==================================================
[2025-07-29 13:26:10,116] INFO in app: ==================================================
[2025-07-29 13:26:10,124] INFO in app: Application logging initialized successfully
[2025-07-29 13:26:10,128] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 13:26:10,130] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 13:26:10,135] INFO in app: System encoding: utf-8
[2025-07-29 13:26:10,137] INFO in app: ==================================================
[2025-07-29 13:48:09,584] INFO in app: ==================================================
[2025-07-29 13:48:09,591] INFO in app: Application logging initialized successfully
[2025-07-29 13:48:09,594] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 13:48:09,597] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 13:48:09,600] INFO in app: System encoding: utf-8
[2025-07-29 13:48:09,606] INFO in app: ==================================================
[2025-07-29 13:48:16,903] INFO in app: ==================================================
[2025-07-29 13:48:16,911] INFO in app: Application logging initialized successfully
[2025-07-29 13:48:16,913] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 13:48:16,915] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 13:48:16,918] INFO in app: System encoding: utf-8
[2025-07-29 13:48:16,921] INFO in app: ==================================================
[2025-07-29 13:48:31,746] INFO in app: ==================================================
[2025-07-29 13:48:31,754] INFO in app: Application logging initialized successfully
[2025-07-29 13:48:31,759] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 13:48:31,766] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 13:48:31,772] INFO in app: System encoding: utf-8
[2025-07-29 13:48:31,774] INFO in app: ==================================================
[2025-07-29 13:53:28,585] INFO in app: ==================================================
[2025-07-29 13:53:28,591] INFO in app: Application logging initialized successfully
[2025-07-29 13:53:28,593] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 13:53:28,595] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 13:53:28,597] INFO in app: System encoding: utf-8
[2025-07-29 13:53:28,600] INFO in app: ==================================================
[2025-07-29 13:53:41,271] INFO in app: ==================================================
[2025-07-29 13:53:41,278] INFO in app: Application logging initialized successfully
[2025-07-29 13:53:41,280] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 13:53:41,282] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 13:53:41,284] INFO in app: System encoding: utf-8
[2025-07-29 13:53:41,286] INFO in app: ==================================================
2025-07-29 13:53:41,516 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-29 13:53:41,518 - INFO - Added job "snapshot_par" to job store "default"
2025-07-29 13:53:41,519 - INFO - Scheduler started
2025-07-29 13:53:41,531 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-29 13:53:41,531 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-29 13:53:41,531 - INFO - Scheduler started
2025-07-29 13:53:41,545 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-29 13:53:41,546 - INFO - [33mPress CTRL+C to quit[0m
2025-07-29 13:53:45,611 - INFO - Scheduler has been shut down
[2025-07-29 13:53:50,387] INFO in app: ==================================================
[2025-07-29 13:53:50,399] INFO in app: Application logging initialized successfully
[2025-07-29 13:53:50,401] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 13:53:50,404] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 13:53:50,407] INFO in app: System encoding: utf-8
[2025-07-29 13:53:50,409] INFO in app: ==================================================
2025-07-29 13:53:50,613 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-29 13:53:50,614 - INFO - Added job "snapshot_par" to job store "default"
2025-07-29 13:53:50,614 - INFO - Scheduler started
2025-07-29 13:53:50,626 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-29 13:53:50,626 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-29 13:53:50,626 - INFO - Scheduler started
[2025-07-29 13:53:56,945] INFO in app: ==================================================
[2025-07-29 13:53:56,953] INFO in app: Application logging initialized successfully
[2025-07-29 13:53:56,957] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 13:53:56,960] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 13:53:56,963] INFO in app: System encoding: utf-8
[2025-07-29 13:53:56,965] INFO in app: ==================================================
2025-07-29 13:53:57,224 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-29 13:53:57,226 - INFO - Added job "snapshot_par" to job store "default"
2025-07-29 13:53:57,226 - INFO - Scheduler started
2025-07-29 13:53:57,239 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-29 13:53:57,239 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-29 13:53:57,239 - INFO - Scheduler started
[2025-07-29 13:58:48,252] INFO in app: ==================================================
[2025-07-29 13:58:48,264] INFO in app: Application logging initialized successfully
[2025-07-29 13:58:48,275] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 13:58:48,280] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 13:58:48,295] INFO in app: System encoding: utf-8
[2025-07-29 13:58:48,335] INFO in app: ==================================================
2025-07-29 13:58:48,630 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-29 13:58:48,632 - INFO - Added job "snapshot_par" to job store "default"
2025-07-29 13:58:48,632 - INFO - Scheduler started
2025-07-29 13:58:48,657 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-29 13:58:48,657 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-29 13:58:48,657 - INFO - Scheduler started
2025-07-29 13:58:48,681 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-29 13:58:48,681 - INFO - [33mPress CTRL+C to quit[0m
2025-07-29 13:58:50,705 - INFO - Scheduler has been shut down
[2025-07-29 13:58:54,954] INFO in app: ==================================================
[2025-07-29 13:58:54,965] INFO in app: Application logging initialized successfully
[2025-07-29 13:58:54,969] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 13:58:54,976] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 13:58:54,981] INFO in app: System encoding: utf-8
[2025-07-29 13:58:54,984] INFO in app: ==================================================
2025-07-29 13:58:55,368 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-29 13:58:55,373 - INFO - Added job "snapshot_par" to job store "default"
2025-07-29 13:58:55,374 - INFO - Scheduler started
2025-07-29 13:58:55,398 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-29 13:58:55,399 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-29 13:58:55,399 - INFO - Scheduler started
[2025-07-29 13:59:00,974] INFO in app: ==================================================
[2025-07-29 13:59:00,986] INFO in app: Application logging initialized successfully
[2025-07-29 13:59:00,989] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 13:59:01,002] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 13:59:01,007] INFO in app: System encoding: utf-8
[2025-07-29 13:59:01,012] INFO in app: ==================================================
2025-07-29 13:59:01,346 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-29 13:59:01,348 - INFO - Added job "snapshot_par" to job store "default"
2025-07-29 13:59:01,348 - INFO - Scheduler started
2025-07-29 13:59:01,365 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-29 13:59:01,365 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-29 13:59:01,365 - INFO - Scheduler started
2025-07-29 13:59:01,390 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-29 13:59:01,390 - INFO - [33mPress CTRL+C to quit[0m
2025-07-29 13:59:07,792 - INFO - 127.0.0.1 - - [29/Jul/2025 13:59:07] "GET /agents HTTP/1.1" 200 -
2025-07-29 13:59:10,676 - INFO - 127.0.0.1 - - [29/Jul/2025 13:59:10] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-29 15:01:26,183 - INFO - Scheduler has been shut down
[2025-07-29 15:01:30,178] INFO in app: ==================================================
[2025-07-29 15:01:30,185] INFO in app: Application logging initialized successfully
[2025-07-29 15:01:30,187] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 15:01:30,190] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 15:01:30,192] INFO in app: System encoding: utf-8
[2025-07-29 15:01:30,196] INFO in app: ==================================================
[2025-07-29 16:09:05,824] INFO in app: ==================================================
[2025-07-29 16:09:05,830] INFO in app: Application logging initialized successfully
[2025-07-29 16:09:05,833] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 16:09:05,835] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 16:09:05,837] INFO in app: System encoding: utf-8
[2025-07-29 16:09:05,840] INFO in app: ==================================================
[2025-07-29 16:46:25,374] INFO in app: ==================================================
[2025-07-29 16:46:25,381] INFO in app: Application logging initialized successfully
[2025-07-29 16:46:25,383] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 16:46:25,385] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 16:46:25,387] INFO in app: System encoding: utf-8
[2025-07-29 16:46:25,392] INFO in app: ==================================================
[2025-07-29 16:47:01,086] INFO in app: ==================================================
[2025-07-29 16:47:01,111] INFO in app: Application logging initialized successfully
[2025-07-29 16:47:01,113] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 16:47:01,126] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 16:47:01,135] INFO in app: System encoding: utf-8
[2025-07-29 16:47:01,151] INFO in app: ==================================================
[2025-07-29 17:47:40,953] INFO in app: ==================================================
[2025-07-29 17:47:40,961] INFO in app: Application logging initialized successfully
[2025-07-29 17:47:40,964] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 17:47:40,966] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 17:47:40,969] INFO in app: System encoding: utf-8
[2025-07-29 17:47:40,974] INFO in app: ==================================================
[2025-07-29 20:31:37,784] INFO in app: ==================================================
[2025-07-29 20:31:37,796] INFO in app: Application logging initialized successfully
[2025-07-29 20:31:37,798] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 20:31:37,800] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 20:31:37,805] INFO in app: System encoding: utf-8
[2025-07-29 20:31:37,807] INFO in app: ==================================================
[2025-07-29 20:31:43,154] INFO in app: ==================================================
[2025-07-29 20:31:43,162] INFO in app: Application logging initialized successfully
[2025-07-29 20:31:43,164] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 20:31:43,165] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 20:31:43,167] INFO in app: System encoding: utf-8
[2025-07-29 20:31:43,168] INFO in app: ==================================================
[2025-07-29 21:07:00,144] INFO in app: ==================================================
[2025-07-29 21:07:00,153] INFO in app: Application logging initialized successfully
[2025-07-29 21:07:00,167] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-29 21:07:00,170] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-29 21:07:00,173] INFO in app: System encoding: utf-8
[2025-07-29 21:07:00,177] INFO in app: ==================================================
[2025-07-30 05:10:36,225] INFO in app: ==================================================
[2025-07-30 05:10:36,329] INFO in app: Application logging initialized successfully
[2025-07-30 05:10:36,331] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 05:10:36,333] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 05:10:36,341] INFO in app: System encoding: utf-8
[2025-07-30 05:10:36,345] INFO in app: ==================================================
[2025-07-30 05:43:02,461] INFO in app: ==================================================
[2025-07-30 05:43:02,471] INFO in app: Application logging initialized successfully
[2025-07-30 05:43:02,473] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 05:43:02,482] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 05:43:02,485] INFO in app: System encoding: utf-8
[2025-07-30 05:43:02,488] INFO in app: ==================================================
[2025-07-30 05:43:09,344] INFO in app: ==================================================
[2025-07-30 05:43:09,352] INFO in app: Application logging initialized successfully
[2025-07-30 05:43:09,354] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 05:43:09,357] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 05:43:09,362] INFO in app: System encoding: utf-8
[2025-07-30 05:43:09,365] INFO in app: ==================================================
[2025-07-30 05:43:20,310] INFO in app: ==================================================
[2025-07-30 05:43:20,316] INFO in app: Application logging initialized successfully
[2025-07-30 05:43:20,319] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 05:43:20,321] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 05:43:20,326] INFO in app: System encoding: utf-8
[2025-07-30 05:43:20,329] INFO in app: ==================================================
[2025-07-30 05:56:41,054] INFO in app: ==================================================
[2025-07-30 05:56:41,063] INFO in app: Application logging initialized successfully
[2025-07-30 05:56:41,066] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 05:56:41,069] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 05:56:41,075] INFO in app: System encoding: utf-8
[2025-07-30 05:56:41,078] INFO in app: ==================================================
2025-07-30 05:56:41,386 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 05:56:41,388 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 05:56:41,388 - INFO - Scheduler started
2025-07-30 05:56:41,406 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 05:56:41,406 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 05:56:41,406 - INFO - Scheduler started
[2025-07-30 05:56:49,855] INFO in app: ==================================================
[2025-07-30 05:56:49,866] INFO in app: Application logging initialized successfully
[2025-07-30 05:56:49,868] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 05:56:49,870] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 05:56:49,874] INFO in app: System encoding: utf-8
[2025-07-30 05:56:49,877] INFO in app: ==================================================
2025-07-30 05:56:50,236 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 05:56:50,238 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 05:56:50,238 - INFO - Scheduler started
2025-07-30 05:56:50,261 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 05:56:50,261 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 05:56:50,261 - INFO - Scheduler started
[2025-07-30 06:13:13,943] INFO in app: ==================================================
[2025-07-30 06:13:13,951] INFO in app: Application logging initialized successfully
[2025-07-30 06:13:13,955] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 06:13:13,957] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 06:13:13,963] INFO in app: System encoding: utf-8
[2025-07-30 06:13:13,970] INFO in app: ==================================================
2025-07-30 06:13:14,243 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 06:13:14,244 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 06:13:14,244 - INFO - Scheduler started
2025-07-30 06:13:14,261 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 06:13:14,262 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 06:13:14,262 - INFO - Scheduler started
[2025-07-30 06:19:53,750] INFO in app: ==================================================
[2025-07-30 06:19:53,756] INFO in app: Application logging initialized successfully
[2025-07-30 06:19:53,757] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 06:19:53,759] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 06:19:53,760] INFO in app: System encoding: utf-8
[2025-07-30 06:19:53,762] INFO in app: ==================================================
2025-07-30 06:19:53,968 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 06:19:53,970 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 06:19:53,970 - INFO - Scheduler started
2025-07-30 06:19:53,987 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 06:19:53,988 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 06:19:53,988 - INFO - Scheduler started
2025-07-30 06:20:29,653 - INFO - Scheduler has been shut down
[2025-07-30 06:20:38,058] INFO in app: ==================================================
[2025-07-30 06:20:38,065] INFO in app: Application logging initialized successfully
[2025-07-30 06:20:38,067] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 06:20:38,068] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 06:20:38,070] INFO in app: System encoding: utf-8
[2025-07-30 06:20:38,073] INFO in app: ==================================================
2025-07-30 06:20:38,290 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 06:20:38,294 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 06:20:38,294 - INFO - Scheduler started
2025-07-30 06:20:38,322 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 06:20:38,322 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 06:20:38,322 - INFO - Scheduler started
[2025-07-30 06:21:11,114] INFO in app: ==================================================
[2025-07-30 06:21:11,120] INFO in app: Application logging initialized successfully
[2025-07-30 06:21:11,123] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 06:21:11,125] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 06:21:11,127] INFO in app: System encoding: utf-8
[2025-07-30 06:21:11,130] INFO in app: ==================================================
2025-07-30 06:21:11,474 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 06:21:11,476 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 06:21:11,476 - INFO - Scheduler started
2025-07-30 06:21:11,490 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 06:21:11,490 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 06:21:11,490 - INFO - Scheduler started
[2025-07-30 06:21:41,032] INFO in app: ==================================================
[2025-07-30 06:21:41,039] INFO in app: Application logging initialized successfully
[2025-07-30 06:21:41,040] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 06:21:41,042] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 06:21:41,043] INFO in app: System encoding: utf-8
[2025-07-30 06:21:41,046] INFO in app: ==================================================
2025-07-30 06:21:41,237 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 06:21:41,239 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 06:21:41,239 - INFO - Scheduler started
2025-07-30 06:21:41,251 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 06:21:41,251 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 06:21:41,251 - INFO - Scheduler started
2025-07-30 06:22:29,651 - INFO - Scheduler has been shut down
[2025-07-30 06:22:52,854] INFO in app: ==================================================
[2025-07-30 06:22:52,863] INFO in app: Application logging initialized successfully
[2025-07-30 06:22:52,865] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 06:22:52,868] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 06:22:52,872] INFO in app: System encoding: utf-8
[2025-07-30 06:22:52,877] INFO in app: ==================================================
2025-07-30 06:22:53,149 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 06:22:53,151 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 06:22:53,151 - INFO - Scheduler started
2025-07-30 06:22:53,177 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 06:22:53,177 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 06:22:53,177 - INFO - Scheduler started
[2025-07-30 06:27:33,014] INFO in app: ==================================================
[2025-07-30 06:27:33,021] INFO in app: Application logging initialized successfully
[2025-07-30 06:27:33,022] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 06:27:33,024] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 06:27:33,027] INFO in app: System encoding: utf-8
[2025-07-30 06:27:33,028] INFO in app: ==================================================
2025-07-30 06:27:33,250 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 06:27:33,253 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 06:27:33,253 - INFO - Scheduler started
2025-07-30 06:27:33,267 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 06:27:33,268 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 06:27:33,268 - INFO - Scheduler started
2025-07-30 06:28:44,234 - INFO - Scheduler has been shut down
[2025-07-30 06:28:59,124] INFO in app: ==================================================
[2025-07-30 06:28:59,131] INFO in app: Application logging initialized successfully
[2025-07-30 06:28:59,133] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 06:28:59,134] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 06:28:59,136] INFO in app: System encoding: utf-8
[2025-07-30 06:28:59,138] INFO in app: ==================================================
2025-07-30 06:28:59,393 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 06:28:59,395 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 06:28:59,395 - INFO - Scheduler started
2025-07-30 06:28:59,409 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 06:28:59,410 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 06:28:59,410 - INFO - Scheduler started
[2025-07-30 07:20:04,147] INFO in app: ==================================================
[2025-07-30 07:20:04,267] INFO in app: Application logging initialized successfully
[2025-07-30 07:20:04,269] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 07:20:04,271] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 07:20:04,278] INFO in app: System encoding: utf-8
[2025-07-30 07:20:04,284] INFO in app: ==================================================
2025-07-30 07:20:04,845 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 07:20:04,848 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 07:20:04,848 - INFO - Scheduler started
2025-07-30 07:20:04,876 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 07:20:04,876 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 07:20:04,877 - INFO - Scheduler started
[2025-07-30 13:56:50,325] INFO in app: ==================================================
[2025-07-30 13:56:50,441] INFO in app: Application logging initialized successfully
[2025-07-30 13:56:50,443] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 13:56:50,445] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 13:56:50,456] INFO in app: System encoding: utf-8
[2025-07-30 13:56:50,475] INFO in app: ==================================================
2025-07-30 13:56:50,932 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 13:56:50,934 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 13:56:50,934 - INFO - Scheduler started
2025-07-30 13:56:50,954 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 13:56:50,954 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 13:56:50,955 - INFO - Scheduler started
[2025-07-30 14:33:54,349] INFO in app: ==================================================
[2025-07-30 14:33:54,355] INFO in app: Application logging initialized successfully
[2025-07-30 14:33:54,357] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 14:33:54,359] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 14:33:54,362] INFO in app: System encoding: utf-8
[2025-07-30 14:33:54,369] INFO in app: ==================================================
2025-07-30 14:33:54,577 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 14:33:54,579 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 14:33:54,579 - INFO - Scheduler started
2025-07-30 14:33:54,591 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 14:33:54,591 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 14:33:54,591 - INFO - Scheduler started
[2025-07-30 14:45:38,534] INFO in app: ==================================================
[2025-07-30 14:45:38,548] INFO in app: Application logging initialized successfully
[2025-07-30 14:45:38,550] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 14:45:38,552] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 14:45:38,554] INFO in app: System encoding: utf-8
[2025-07-30 14:45:38,556] INFO in app: ==================================================
2025-07-30 14:45:38,822 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 14:45:38,824 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 14:45:38,824 - INFO - Scheduler started
2025-07-30 14:45:38,838 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 14:45:38,838 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 14:45:38,838 - INFO - Scheduler started
2025-07-30 14:46:25,553 - INFO - Scheduler has been shut down
[2025-07-30 14:46:34,499] INFO in app: ==================================================
[2025-07-30 14:46:34,507] INFO in app: Application logging initialized successfully
[2025-07-30 14:46:34,511] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 14:46:34,513] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 14:46:34,516] INFO in app: System encoding: utf-8
[2025-07-30 14:46:34,519] INFO in app: ==================================================
2025-07-30 14:46:34,794 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 14:46:34,796 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 14:46:34,796 - INFO - Scheduler started
2025-07-30 14:46:34,814 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 14:46:34,815 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 14:46:34,815 - INFO - Scheduler started
[2025-07-30 14:46:43,461] INFO in app: ==================================================
[2025-07-30 14:46:43,467] INFO in app: Application logging initialized successfully
[2025-07-30 14:46:43,470] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 14:46:43,474] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 14:46:43,477] INFO in app: System encoding: utf-8
[2025-07-30 14:46:43,478] INFO in app: ==================================================
2025-07-30 14:46:43,690 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 14:46:43,692 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 14:46:43,692 - INFO - Scheduler started
2025-07-30 14:46:43,705 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 14:46:43,705 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 14:46:43,706 - INFO - Scheduler started
2025-07-30 14:46:43,760 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-30 14:46:43,760 - INFO - [33mPress CTRL+C to quit[0m
2025-07-30 14:46:48,136 - INFO - 127.0.0.1 - - [30/Jul/2025 14:46:48] "GET /agents HTTP/1.1" 200 -
2025-07-30 14:46:57,409 - INFO - 127.0.0.1 - - [30/Jul/2025 14:46:57] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-30 14:47:12,721 - INFO - 127.0.0.1 - - [30/Jul/2025 14:47:12] "GET /agents/team/add HTTP/1.1" 200 -
[2025-07-30 14:47:52,421] ERROR in app: Exception on /agents/team/add [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7504, in add_team_with_agents
    monthly_budget=float(request.form.getlist('agent_budget[]')[i] or 0.0,
                   ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    role='Agent',
    ^^^^^^^^^^^^^
    team_lead_id=leader.id))
    ^^^^^^^^^^^^^^^^^^^^^^^
TypeError: float() takes no keyword arguments
2025-07-30 14:47:52,421 - ERROR - Exception on /agents/team/add [POST]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7504, in add_team_with_agents
    monthly_budget=float(request.form.getlist('agent_budget[]')[i] or 0.0,
                   ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    role='Agent',
    ^^^^^^^^^^^^^
    team_lead_id=leader.id))
    ^^^^^^^^^^^^^^^^^^^^^^^
TypeError: float() takes no keyword arguments
2025-07-30 14:47:52,482 - INFO - 127.0.0.1 - - [30/Jul/2025 14:47:52] "[35m[1mPOST /agents/team/add HTTP/1.1[0m" 500 -
2025-07-30 14:55:49,160 - INFO - Scheduler has been shut down
[2025-07-30 14:55:54,165] INFO in app: ==================================================
[2025-07-30 14:55:54,174] INFO in app: Application logging initialized successfully
[2025-07-30 14:55:54,177] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 14:55:54,180] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 14:55:54,183] INFO in app: System encoding: utf-8
[2025-07-30 14:55:54,189] INFO in app: ==================================================
2025-07-30 14:55:54,498 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 14:55:54,500 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 14:55:54,500 - INFO - Scheduler started
2025-07-30 14:55:54,519 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 14:55:54,519 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 14:55:54,520 - INFO - Scheduler started
2025-07-30 14:55:54,537 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-30 14:55:54,537 - INFO - [33mPress CTRL+C to quit[0m
2025-07-30 14:56:01,946 - INFO - 127.0.0.1 - - [30/Jul/2025 14:56:01] "POST /agents/team/add HTTP/1.1" 200 -
2025-07-30 14:59:17,366 - INFO - Scheduler has been shut down
[2025-07-30 14:59:21,678] INFO in app: ==================================================
[2025-07-30 14:59:21,692] INFO in app: Application logging initialized successfully
[2025-07-30 14:59:21,694] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 14:59:21,702] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 14:59:21,706] INFO in app: System encoding: utf-8
[2025-07-30 14:59:21,709] INFO in app: ==================================================
2025-07-30 14:59:22,069 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 14:59:22,072 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 14:59:22,072 - INFO - Scheduler started
2025-07-30 14:59:22,093 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 14:59:22,094 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 14:59:22,094 - INFO - Scheduler started
2025-07-30 14:59:22,120 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-30 14:59:22,120 - INFO - [33mPress CTRL+C to quit[0m
2025-07-30 15:00:25,346 - INFO - 127.0.0.1 - - [30/Jul/2025 15:00:25] "[32mPOST /agents/team/add HTTP/1.1[0m" 302 -
2025-07-30 15:00:25,403 - INFO - 127.0.0.1 - - [30/Jul/2025 15:00:25] "GET /agents HTTP/1.1" 200 -
2025-07-30 15:04:45,421 - INFO - Scheduler has been shut down
[2025-07-30 15:04:49,384] INFO in app: ==================================================
[2025-07-30 15:04:49,392] INFO in app: Application logging initialized successfully
[2025-07-30 15:04:49,395] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 15:04:49,398] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 15:04:49,408] INFO in app: System encoding: utf-8
[2025-07-30 15:04:49,410] INFO in app: ==================================================
2025-07-30 15:04:49,629 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 15:04:49,631 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 15:04:49,631 - INFO - Scheduler started
2025-07-30 15:04:49,644 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 15:04:49,644 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 15:04:49,644 - INFO - Scheduler started
2025-07-30 15:04:49,664 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-30 15:04:49,664 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-30 15:05:00,185] INFO in app: ==================================================
[2025-07-30 15:05:00,194] INFO in app: Application logging initialized successfully
[2025-07-30 15:05:00,196] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 15:05:00,197] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 15:05:00,200] INFO in app: System encoding: utf-8
[2025-07-30 15:05:00,202] INFO in app: ==================================================
2025-07-30 15:05:00,430 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 15:05:00,432 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 15:05:00,432 - INFO - Scheduler started
2025-07-30 15:05:00,445 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 15:05:00,445 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 15:05:00,445 - INFO - Scheduler started
2025-07-30 15:10:38,015 - INFO - Scheduler has been shut down
[2025-07-30 15:10:42,465] INFO in app: ==================================================
[2025-07-30 15:10:42,478] INFO in app: Application logging initialized successfully
[2025-07-30 15:10:42,481] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 15:10:42,489] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 15:10:42,494] INFO in app: System encoding: utf-8
[2025-07-30 15:10:42,497] INFO in app: ==================================================
[2025-07-30 15:13:16,955] INFO in app: ==================================================
[2025-07-30 15:13:16,963] INFO in app: Application logging initialized successfully
[2025-07-30 15:13:16,969] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 15:13:16,971] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 15:13:16,974] INFO in app: System encoding: utf-8
[2025-07-30 15:13:16,976] INFO in app: ==================================================
[2025-07-30 15:13:33,948] INFO in app: ==================================================
[2025-07-30 15:13:33,954] INFO in app: Application logging initialized successfully
[2025-07-30 15:13:33,956] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 15:13:33,958] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 15:13:33,961] INFO in app: System encoding: utf-8
[2025-07-30 15:13:33,967] INFO in app: ==================================================
[2025-07-30 15:18:40,370] INFO in app: ==================================================
[2025-07-30 15:18:40,380] INFO in app: Application logging initialized successfully
[2025-07-30 15:18:40,382] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 15:18:40,383] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 15:18:40,385] INFO in app: System encoding: utf-8
[2025-07-30 15:18:40,387] INFO in app: ==================================================
2025-07-30 15:18:40,685 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 15:18:40,686 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 15:18:40,687 - INFO - Scheduler started
2025-07-30 15:18:40,703 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 15:18:40,703 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 15:18:40,703 - INFO - Scheduler started
2025-07-30 15:18:40,722 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-30 15:18:40,722 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-30 15:18:45,967] ERROR in app: Exception on /agents [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7487, in view_agents
    agents = Agent.query.options(db.joinedload(Agent.team_lead)).filter(
                                               ^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'team_lead'. Did you mean: 'team_leader'?
2025-07-30 15:18:45,967 - ERROR - Exception on /agents [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7487, in view_agents
    agents = Agent.query.options(db.joinedload(Agent.team_lead)).filter(
                                               ^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'team_lead'. Did you mean: 'team_leader'?
2025-07-30 15:18:45,998 - INFO - 127.0.0.1 - - [30/Jul/2025 15:18:45] "[35m[1mGET /agents HTTP/1.1[0m" 500 -
2025-07-30 15:18:46,082 - INFO - 127.0.0.1 - - [30/Jul/2025 15:18:46] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-30 15:26:40,865 - INFO - Scheduler has been shut down
[2025-07-30 15:26:45,090] INFO in app: ==================================================
[2025-07-30 15:26:45,102] INFO in app: Application logging initialized successfully
[2025-07-30 15:26:45,105] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 15:26:45,112] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 15:26:45,120] INFO in app: System encoding: utf-8
[2025-07-30 15:26:45,121] INFO in app: ==================================================
2025-07-30 15:26:45,500 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 15:26:45,502 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 15:26:45,502 - INFO - Scheduler started
2025-07-30 15:26:45,523 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 15:26:45,523 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 15:26:45,524 - INFO - Scheduler started
2025-07-30 15:26:45,550 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-30 15:26:45,550 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-30 15:26:49,172] ERROR in app: Exception on /agents [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7487, in view_agents
    agents = Agent.query.options(db.joinedload(Agent.team_lead)).filter(
                                               ^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'team_lead'. Did you mean: 'team_leader'?
2025-07-30 15:26:49,172 - ERROR - Exception on /agents [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7487, in view_agents
    agents = Agent.query.options(db.joinedload(Agent.team_lead)).filter(
                                               ^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'team_lead'. Did you mean: 'team_leader'?
2025-07-30 15:26:49,200 - INFO - 127.0.0.1 - - [30/Jul/2025 15:26:49] "[35m[1mGET /agents HTTP/1.1[0m" 500 -
2025-07-30 15:26:49,267 - INFO - 127.0.0.1 - - [30/Jul/2025 15:26:49] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-30 15:27:56,456 - INFO - Scheduler has been shut down
[2025-07-30 15:28:00,972] INFO in app: ==================================================
[2025-07-30 15:28:00,989] INFO in app: Application logging initialized successfully
[2025-07-30 15:28:00,995] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 15:28:00,997] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 15:28:01,010] INFO in app: System encoding: utf-8
[2025-07-30 15:28:01,013] INFO in app: ==================================================
2025-07-30 15:28:01,416 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 15:28:01,420 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 15:28:01,420 - INFO - Scheduler started
2025-07-30 15:28:01,442 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 15:28:01,443 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 15:28:01,443 - INFO - Scheduler started
2025-07-30 15:28:01,465 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-30 15:28:01,465 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-30 15:28:05,788] ERROR in app: Exception on /agents [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7487, in view_agents
    agents = Agent.query.options(db.joinedload(Agent.team_lead)).filter(
                                               ^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'team_lead'. Did you mean: 'team_leader'?
2025-07-30 15:28:05,788 - ERROR - Exception on /agents [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7487, in view_agents
    agents = Agent.query.options(db.joinedload(Agent.team_lead)).filter(
                                               ^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'team_lead'. Did you mean: 'team_leader'?
2025-07-30 15:28:05,843 - INFO - 127.0.0.1 - - [30/Jul/2025 15:28:05] "[35m[1mGET /agents HTTP/1.1[0m" 500 -
2025-07-30 15:28:05,895 - INFO - 127.0.0.1 - - [30/Jul/2025 15:28:05] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-30 15:29:14,652 - INFO - Scheduler has been shut down
[2025-07-30 15:29:18,342] INFO in app: ==================================================
[2025-07-30 15:29:18,350] INFO in app: Application logging initialized successfully
[2025-07-30 15:29:18,353] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 15:29:18,355] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 15:29:18,364] INFO in app: System encoding: utf-8
[2025-07-30 15:29:18,365] INFO in app: ==================================================
2025-07-30 15:29:18,631 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 15:29:18,633 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 15:29:18,633 - INFO - Scheduler started
2025-07-30 15:29:18,646 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 15:29:18,646 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 15:29:18,646 - INFO - Scheduler started
2025-07-30 15:29:18,666 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-30 15:29:18,666 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-30 15:29:24,167] ERROR in app: Exception on /agents [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7487, in view_agents
    agents = Agent.query.options(db.joinedload(Agent.team_lead)).filter(
                                               ^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'team_lead'. Did you mean: 'team_leader'?
2025-07-30 15:29:24,167 - ERROR - Exception on /agents [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7487, in view_agents
    agents = Agent.query.options(db.joinedload(Agent.team_lead)).filter(
                                               ^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'team_lead'. Did you mean: 'team_leader'?
2025-07-30 15:29:24,193 - INFO - 127.0.0.1 - - [30/Jul/2025 15:29:24] "[35m[1mGET /agents HTTP/1.1[0m" 500 -
2025-07-30 15:29:24,255 - INFO - 127.0.0.1 - - [30/Jul/2025 15:29:24] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-30 15:30:02,995 - INFO - Scheduler has been shut down
[2025-07-30 15:30:07,347] INFO in app: ==================================================
[2025-07-30 15:30:07,356] INFO in app: Application logging initialized successfully
[2025-07-30 15:30:07,364] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 15:30:07,367] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 15:30:07,370] INFO in app: System encoding: utf-8
[2025-07-30 15:30:07,372] INFO in app: ==================================================
2025-07-30 15:30:07,924 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 15:30:07,928 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 15:30:07,928 - INFO - Scheduler started
2025-07-30 15:30:07,951 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 15:30:07,952 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 15:30:07,952 - INFO - Scheduler started
2025-07-30 15:30:07,974 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-30 15:30:07,974 - INFO - [33mPress CTRL+C to quit[0m
2025-07-30 15:30:11,529 - INFO - 127.0.0.1 - - [30/Jul/2025 15:30:11] "GET /agents HTTP/1.1" 200 -
2025-07-30 15:30:12,509 - INFO - 127.0.0.1 - - [30/Jul/2025 15:30:12] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-30 15:30:24,071 - INFO - 127.0.0.1 - - [30/Jul/2025 15:30:24] "GET /agents/team/add HTTP/1.1" 200 -
2025-07-30 15:30:50,645 - INFO - 127.0.0.1 - - [30/Jul/2025 15:30:50] "[32mPOST /agents/team/add HTTP/1.1[0m" 302 -
2025-07-30 15:30:50,982 - INFO - 127.0.0.1 - - [30/Jul/2025 15:30:50] "GET /agents HTTP/1.1" 200 -
2025-07-30 15:45:24,227 - INFO - Scheduler has been shut down
[2025-07-30 15:45:46,744] INFO in app: ==================================================
[2025-07-30 15:45:46,750] INFO in app: Application logging initialized successfully
[2025-07-30 15:45:46,752] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 15:45:46,754] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 15:45:46,756] INFO in app: System encoding: utf-8
[2025-07-30 15:45:46,764] INFO in app: ==================================================
2025-07-30 15:45:46,988 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 15:45:46,989 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 15:45:46,989 - INFO - Scheduler started
2025-07-30 15:45:47,004 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 15:45:47,004 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 15:45:47,004 - INFO - Scheduler started
[2025-07-30 15:45:53,432] INFO in app: ==================================================
[2025-07-30 15:45:53,468] INFO in app: Application logging initialized successfully
[2025-07-30 15:45:53,485] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 15:45:53,494] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 15:45:53,497] INFO in app: System encoding: utf-8
[2025-07-30 15:45:53,499] INFO in app: ==================================================
2025-07-30 15:45:53,845 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 15:45:53,846 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 15:45:53,846 - INFO - Scheduler started
2025-07-30 15:45:53,864 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 15:45:53,864 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 15:45:53,864 - INFO - Scheduler started
[2025-07-30 15:45:57,971] INFO in app: ==================================================
[2025-07-30 15:45:57,978] INFO in app: Application logging initialized successfully
[2025-07-30 15:45:57,980] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 15:45:57,982] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 15:45:57,984] INFO in app: System encoding: utf-8
[2025-07-30 15:45:57,993] INFO in app: ==================================================
2025-07-30 15:45:58,226 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 15:45:58,227 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 15:45:58,227 - INFO - Scheduler started
2025-07-30 15:45:58,243 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 15:45:58,243 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 15:45:58,243 - INFO - Scheduler started
2025-07-30 15:45:58,259 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-30 15:45:58,259 - INFO - [33mPress CTRL+C to quit[0m
2025-07-30 15:55:58,345 - INFO - Scheduler has been shut down
[2025-07-30 15:56:17,268] INFO in app: ==================================================
[2025-07-30 15:56:17,274] INFO in app: Application logging initialized successfully
[2025-07-30 15:56:17,281] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 15:56:17,284] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 15:56:17,288] INFO in app: System encoding: utf-8
[2025-07-30 15:56:17,290] INFO in app: ==================================================
2025-07-30 15:56:17,517 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 15:56:17,518 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 15:56:17,518 - INFO - Scheduler started
2025-07-30 15:56:17,532 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 15:56:17,532 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 15:56:17,532 - INFO - Scheduler started
[2025-07-30 15:56:23,753] INFO in app: ==================================================
[2025-07-30 15:56:23,765] INFO in app: Application logging initialized successfully
[2025-07-30 15:56:23,768] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 15:56:23,771] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 15:56:23,777] INFO in app: System encoding: utf-8
[2025-07-30 15:56:23,781] INFO in app: ==================================================
2025-07-30 15:56:24,099 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 15:56:24,101 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 15:56:24,102 - INFO - Scheduler started
2025-07-30 15:56:24,122 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 15:56:24,123 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 15:56:24,123 - INFO - Scheduler started
[2025-07-30 16:00:48,131] INFO in app: ==================================================
[2025-07-30 16:00:48,138] INFO in app: Application logging initialized successfully
[2025-07-30 16:00:48,143] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 16:00:48,145] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 16:00:48,148] INFO in app: System encoding: utf-8
[2025-07-30 16:00:48,151] INFO in app: ==================================================
2025-07-30 16:00:48,388 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 16:00:48,390 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 16:00:48,390 - INFO - Scheduler started
2025-07-30 16:00:48,401 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 16:00:48,402 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 16:00:48,402 - INFO - Scheduler started
[2025-07-30 16:00:54,159] INFO in app: ==================================================
[2025-07-30 16:00:54,165] INFO in app: Application logging initialized successfully
[2025-07-30 16:00:54,170] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 16:00:54,173] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 16:00:54,177] INFO in app: System encoding: utf-8
[2025-07-30 16:00:54,178] INFO in app: ==================================================
2025-07-30 16:00:54,413 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 16:00:54,414 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 16:00:54,414 - INFO - Scheduler started
2025-07-30 16:00:54,428 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 16:00:54,428 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 16:00:54,428 - INFO - Scheduler started
2025-07-30 16:00:54,445 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-30 16:00:54,445 - INFO - [33mPress CTRL+C to quit[0m
2025-07-30 16:00:59,273 - INFO - 127.0.0.1 - - [30/Jul/2025 16:00:59] "GET /agents HTTP/1.1" 200 -
2025-07-30 16:01:00,326 - INFO - 127.0.0.1 - - [30/Jul/2025 16:01:00] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-30 16:12:49,300 - INFO - Scheduler has been shut down
[2025-07-30 16:12:53,601] INFO in app: ==================================================
[2025-07-30 16:12:53,610] INFO in app: Application logging initialized successfully
[2025-07-30 16:12:53,613] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 16:12:53,615] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 16:12:53,617] INFO in app: System encoding: utf-8
[2025-07-30 16:12:53,620] INFO in app: ==================================================
2025-07-30 16:12:53,870 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 16:12:53,871 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 16:12:53,871 - INFO - Scheduler started
2025-07-30 16:12:53,886 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 16:12:53,886 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 16:12:53,886 - INFO - Scheduler started
2025-07-30 16:16:44,688 - INFO - Scheduler has been shut down
[2025-07-30 16:16:56,700] INFO in app: ==================================================
[2025-07-30 16:16:56,706] INFO in app: Application logging initialized successfully
[2025-07-30 16:16:56,711] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 16:16:56,714] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 16:16:56,717] INFO in app: System encoding: utf-8
[2025-07-30 16:16:56,719] INFO in app: ==================================================
2025-07-30 16:16:56,955 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 16:16:56,957 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 16:16:56,957 - INFO - Scheduler started
2025-07-30 16:16:56,971 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 16:16:56,971 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 16:16:56,971 - INFO - Scheduler started
[2025-07-30 16:17:04,919] INFO in app: ==================================================
[2025-07-30 16:17:04,929] INFO in app: Application logging initialized successfully
[2025-07-30 16:17:04,931] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 16:17:04,932] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 16:17:04,934] INFO in app: System encoding: utf-8
[2025-07-30 16:17:04,935] INFO in app: ==================================================
2025-07-30 16:17:05,169 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 16:17:05,171 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 16:17:05,171 - INFO - Scheduler started
2025-07-30 16:17:05,185 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 16:17:05,185 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 16:17:05,185 - INFO - Scheduler started
2025-07-30 16:17:05,211 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-30 16:17:05,211 - INFO - [33mPress CTRL+C to quit[0m
2025-07-30 16:17:12,712 - INFO - 127.0.0.1 - - [30/Jul/2025 16:17:12] "GET /agents HTTP/1.1" 200 -
2025-07-30 16:17:13,765 - INFO - 127.0.0.1 - - [30/Jul/2025 16:17:13] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-30 16:17:18,681 - INFO - 127.0.0.1 - - [30/Jul/2025 16:17:18] "GET /agents/team/add HTTP/1.1" 200 -
2025-07-30 16:18:16,370 - INFO - 127.0.0.1 - - [30/Jul/2025 16:18:16] "[32mPOST /agents/team/add HTTP/1.1[0m" 302 -
2025-07-30 16:18:16,671 - INFO - 127.0.0.1 - - [30/Jul/2025 16:18:16] "GET /agents HTTP/1.1" 200 -
[2025-07-30 16:18:37,387] INFO in app: ==================================================
[2025-07-30 16:18:37,400] INFO in app: Application logging initialized successfully
[2025-07-30 16:18:37,401] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 16:18:37,402] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 16:18:37,403] INFO in app: System encoding: utf-8
[2025-07-30 16:18:37,404] INFO in app: ==================================================
2025-07-30 16:18:37,643 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 16:18:37,645 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 16:18:37,645 - INFO - Scheduler started
2025-07-30 16:18:37,659 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 16:18:37,660 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 16:18:37,660 - INFO - Scheduler started
2025-07-30 17:00:00,029 - INFO - Running job "send_sales_notification_email (trigger: cron[hour='17', minute='0'], next run at: 2025-07-30 17:00:00 SAST)" (scheduled at 2025-07-30 17:00:00+02:00)
2025-07-30 17:00:00,033 - INFO - Running job "send_sales_notification_email (trigger: cron[hour='17', minute='0'], next run at: 2025-07-30 17:00:00 SAST)" (scheduled at 2025-07-30 17:00:00+02:00)
2025-07-30 17:00:00,072 - ERROR - Job "send_sales_notification_email (trigger: cron[hour='17', minute='0'], next run at: 2025-07-31 17:00:00 SAST)" raised an exception
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\apscheduler\executors\base.py", line 131, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:\Users\pc\loan-app\app.py", line 7452, in send_sales_notification_email
    notif = get_sales_notification()
  File "C:\Users\pc\loan-app\app.py", line 7430, in get_sales_notification
    today_sales = db.session.query(func.sum(Customer.amount_requested))\
                  ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1681, in query
    return self._proxied.query(*entities, **kwargs)
           ^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 197, in _proxied
    return self.registry()
           ~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\_collections.py", line 634, in __call__
    key = self.scopefunc()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_sqlalchemy\session.py", line 111, in _app_ctx_id
    return id(app_ctx._get_current_object())  # type: ignore[attr-defined]
              ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\local.py", line 519, in _get_current_object
    raise RuntimeError(unbound_message) from None
RuntimeError: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-07-30 17:00:00,084 - ERROR - Job "send_sales_notification_email (trigger: cron[hour='17', minute='0'], next run at: 2025-07-31 17:00:00 SAST)" raised an exception
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\apscheduler\executors\base.py", line 131, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:\Users\pc\loan-app\app.py", line 7452, in send_sales_notification_email
    notif = get_sales_notification()
  File "C:\Users\pc\loan-app\app.py", line 7430, in get_sales_notification
    today_sales = db.session.query(func.sum(Customer.amount_requested))\
                  ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1681, in query
    return self._proxied.query(*entities, **kwargs)
           ^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 197, in _proxied
    return self.registry()
           ~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\util\_collections.py", line 634, in __call__
    key = self.scopefunc()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_sqlalchemy\session.py", line 111, in _app_ctx_id
    return id(app_ctx._get_current_object())  # type: ignore[attr-defined]
              ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\local.py", line 519, in _get_current_object
    raise RuntimeError(unbound_message) from None
RuntimeError: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
[2025-07-30 19:19:19,126] INFO in app: ==================================================
[2025-07-30 19:19:19,326] INFO in app: Application logging initialized successfully
[2025-07-30 19:19:19,330] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 19:19:19,333] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 19:19:19,362] INFO in app: System encoding: utf-8
[2025-07-30 19:19:19,529] INFO in app: ==================================================
2025-07-30 19:19:20,734 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 19:19:20,736 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 19:19:20,736 - INFO - Scheduler started
2025-07-30 19:19:20,768 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 19:19:20,768 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 19:19:20,768 - INFO - Scheduler started
2025-07-30 19:19:20,847 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-30 19:19:20,847 - INFO - [33mPress CTRL+C to quit[0m
2025-07-30 19:19:21,002 - INFO - 127.0.0.1 - - [30/Jul/2025 19:19:21] "GET /agents HTTP/1.1" 200 -
2025-07-30 19:19:22,509 - INFO - 127.0.0.1 - - [30/Jul/2025 19:19:22] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-30 19:27:38,491] INFO in app: ==================================================
[2025-07-30 19:27:38,571] INFO in app: Application logging initialized successfully
[2025-07-30 19:27:38,573] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 19:27:38,575] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 19:27:38,577] INFO in app: System encoding: utf-8
[2025-07-30 19:27:38,579] INFO in app: ==================================================
2025-07-30 19:27:38,877 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 19:27:38,878 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 19:27:38,878 - INFO - Scheduler started
2025-07-30 19:27:38,893 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 19:27:38,893 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 19:27:38,893 - INFO - Scheduler started
2025-07-30 19:28:26,020 - INFO - Scheduler has been shut down
[2025-07-30 19:28:28,902] INFO in app: ==================================================
[2025-07-30 19:28:28,909] INFO in app: Application logging initialized successfully
[2025-07-30 19:28:28,911] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 19:28:28,913] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 19:28:28,916] INFO in app: System encoding: utf-8
[2025-07-30 19:28:28,921] INFO in app: ==================================================
2025-07-30 19:28:29,117 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 19:28:29,119 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 19:28:29,119 - INFO - Scheduler started
2025-07-30 19:28:29,130 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 19:28:29,130 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 19:28:29,130 - INFO - Scheduler started
2025-07-30 19:28:29,165 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-30 19:28:29,165 - INFO - [33mPress CTRL+C to quit[0m
2025-07-30 19:28:36,728 - INFO - 127.0.0.1 - - [30/Jul/2025 19:28:36] "GET /agents HTTP/1.1" 200 -
2025-07-30 19:28:37,812 - INFO - 127.0.0.1 - - [30/Jul/2025 19:28:37] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-30 19:28:40,601 - INFO - 127.0.0.1 - - [30/Jul/2025 19:28:40] "GET /agents/team/add HTTP/1.1" 200 -
2025-07-30 19:29:00,386 - INFO - 127.0.0.1 - - [30/Jul/2025 19:29:00] "[32mPOST /agents/team/add HTTP/1.1[0m" 302 -
2025-07-30 19:29:00,684 - INFO - 127.0.0.1 - - [30/Jul/2025 19:29:00] "GET /agents HTTP/1.1" 200 -
[2025-07-30 20:19:47,098] INFO in app: ==================================================
[2025-07-30 20:19:47,294] INFO in app: Application logging initialized successfully
[2025-07-30 20:19:47,296] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 20:19:47,299] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 20:19:47,302] INFO in app: System encoding: utf-8
[2025-07-30 20:19:47,305] INFO in app: ==================================================
2025-07-30 20:19:48,130 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 20:19:48,134 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 20:19:48,134 - INFO - Scheduler started
2025-07-30 20:19:48,166 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 20:19:48,166 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 20:19:48,166 - INFO - Scheduler started
2025-07-30 20:19:48,245 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-30 20:19:48,245 - INFO - [33mPress CTRL+C to quit[0m
2025-07-30 20:20:13,415 - INFO - 127.0.0.1 - - [30/Jul/2025 20:20:13] "GET /agents HTTP/1.1" 200 -
2025-07-30 20:20:34,131 - INFO - 127.0.0.1 - - [30/Jul/2025 20:20:34] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-30 22:53:45,312] INFO in app: ==================================================
[2025-07-30 22:53:45,462] INFO in app: Application logging initialized successfully
[2025-07-30 22:53:45,490] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-30 22:53:45,492] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-30 22:53:45,577] INFO in app: System encoding: utf-8
[2025-07-30 22:53:45,595] INFO in app: ==================================================
2025-07-30 22:53:46,231 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 22:53:46,235 - INFO - Added job "snapshot_par" to job store "default"
2025-07-30 22:53:46,235 - INFO - Scheduler started
2025-07-30 22:53:46,263 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-30 22:53:46,264 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-30 22:53:46,264 - INFO - Scheduler started
2025-07-30 22:53:46,434 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-30 22:53:46,435 - INFO - [33mPress CTRL+C to quit[0m
2025-07-30 22:54:44,973 - INFO - 127.0.0.1 - - [30/Jul/2025 22:54:44] "GET /agents HTTP/1.1" 200 -
2025-07-30 22:54:46,138 - INFO - 127.0.0.1 - - [30/Jul/2025 22:54:46] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-31 08:55:45,845] INFO in app: ==================================================
[2025-07-31 08:55:45,959] INFO in app: Application logging initialized successfully
[2025-07-31 08:55:45,961] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 08:55:45,962] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 08:55:45,970] INFO in app: System encoding: utf-8
[2025-07-31 08:55:45,974] INFO in app: ==================================================
2025-07-31 08:55:46,529 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 08:55:46,532 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 08:55:46,532 - INFO - Scheduler started
2025-07-31 08:55:46,571 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 08:55:46,572 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 08:55:46,572 - INFO - Scheduler started
2025-07-31 08:55:46,652 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 08:55:46,652 - INFO - [33mPress CTRL+C to quit[0m
2025-07-31 09:02:52,012 - INFO - 127.0.0.1 - - [31/Jul/2025 09:02:52] "GET /agents HTTP/1.1" 200 -
2025-07-31 09:02:52,299 - INFO - 127.0.0.1 - - [31/Jul/2025 09:02:52] "GET /agents HTTP/1.1" 200 -
2025-07-31 09:02:53,617 - INFO - 127.0.0.1 - - [31/Jul/2025 09:02:53] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-31 10:27:15,638 - INFO - Scheduler has been shut down
[2025-07-31 10:27:21,692] INFO in app: ==================================================
[2025-07-31 10:27:21,811] INFO in app: Application logging initialized successfully
[2025-07-31 10:27:21,814] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 10:27:21,818] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 10:27:21,823] INFO in app: System encoding: utf-8
[2025-07-31 10:27:21,826] INFO in app: ==================================================
2025-07-31 10:27:22,300 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 10:27:22,302 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 10:27:22,302 - INFO - Scheduler started
2025-07-31 10:27:22,328 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 10:27:22,329 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 10:27:22,329 - INFO - Scheduler started
2025-07-31 10:27:22,387 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 10:27:22,387 - INFO - [33mPress CTRL+C to quit[0m
2025-07-31 10:27:27,781 - INFO - 127.0.0.1 - - [31/Jul/2025 10:27:27] "GET /agents HTTP/1.1" 200 -
2025-07-31 10:27:31,720 - INFO - 127.0.0.1 - - [31/Jul/2025 10:27:31] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-31 10:27:36,061 - INFO - 127.0.0.1 - - [31/Jul/2025 10:27:36] "GET /agents/team/add HTTP/1.1" 200 -
2025-07-31 10:28:10,313 - INFO - 127.0.0.1 - - [31/Jul/2025 10:28:10] "[32mPOST /agents/team/add HTTP/1.1[0m" 302 -
2025-07-31 10:28:10,593 - INFO - 127.0.0.1 - - [31/Jul/2025 10:28:10] "GET /agents HTTP/1.1" 200 -
2025-07-31 10:28:34,612 - INFO - 127.0.0.1 - - [31/Jul/2025 10:28:34] "[32mGET /register HTTP/1.1[0m" 302 -
2025-07-31 10:28:34,948 - INFO - 127.0.0.1 - - [31/Jul/2025 10:28:34] "GET /login HTTP/1.1" 200 -
2025-07-31 10:28:35,441 - INFO - 127.0.0.1 - - [31/Jul/2025 10:28:35] "GET /static/img/logo.png HTTP/1.1" 200 -
2025-07-31 10:28:39,183 - INFO - 127.0.0.1 - - [31/Jul/2025 10:28:39] "POST /login HTTP/1.1" 200 -
2025-07-31 10:28:39,498 - INFO - 127.0.0.1 - - [31/Jul/2025 10:28:39] "[36mGET /static/img/logo.png HTTP/1.1[0m" 304 -
2025-07-31 10:28:43,640 - INFO - 127.0.0.1 - - [31/Jul/2025 10:28:43] "[32mGET / HTTP/1.1[0m" 302 -
2025-07-31 10:28:43,778 - INFO - 127.0.0.1 - - [31/Jul/2025 10:28:43] "GET /login?next=/ HTTP/1.1" 200 -
2025-07-31 10:28:43,896 - INFO - 127.0.0.1 - - [31/Jul/2025 10:28:43] "[36mGET /static/img/logo.png HTTP/1.1[0m" 304 -
2025-07-31 10:29:42,999 - INFO - Scheduler has been shut down
[2025-07-31 10:29:57,542] INFO in app: ==================================================
[2025-07-31 10:29:57,550] INFO in app: Application logging initialized successfully
[2025-07-31 10:29:57,552] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 10:29:57,555] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 10:29:57,557] INFO in app: System encoding: utf-8
[2025-07-31 10:29:57,559] INFO in app: ==================================================
2025-07-31 10:29:57,799 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 10:29:57,800 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 10:29:57,800 - INFO - Scheduler started
2025-07-31 10:29:57,816 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 10:29:57,816 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 10:29:57,816 - INFO - Scheduler started
2025-07-31 10:29:57,878 - INFO - Scheduler has been shut down
[2025-07-31 10:30:10,942] INFO in app: ==================================================
[2025-07-31 10:30:10,950] INFO in app: Application logging initialized successfully
[2025-07-31 10:30:10,953] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 10:30:10,955] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 10:30:10,957] INFO in app: System encoding: utf-8
[2025-07-31 10:30:10,964] INFO in app: ==================================================
2025-07-31 10:30:11,214 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 10:30:11,216 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 10:30:11,216 - INFO - Scheduler started
2025-07-31 10:30:11,233 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 10:30:11,234 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 10:30:11,234 - INFO - Scheduler started
2025-07-31 10:30:11,549 - INFO - Scheduler has been shut down
[2025-07-31 10:30:18,797] INFO in app: ==================================================
[2025-07-31 10:30:18,805] INFO in app: Application logging initialized successfully
[2025-07-31 10:30:18,807] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 10:30:18,809] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 10:30:18,813] INFO in app: System encoding: utf-8
[2025-07-31 10:30:18,816] INFO in app: ==================================================
2025-07-31 10:30:19,081 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 10:30:19,083 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 10:30:19,083 - INFO - Scheduler started
2025-07-31 10:30:19,101 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 10:30:19,102 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 10:30:19,102 - INFO - Scheduler started
2025-07-31 10:30:19,120 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 10:30:19,121 - INFO - [33mPress CTRL+C to quit[0m
2025-07-31 10:30:22,124 - INFO - 127.0.0.1 - - [31/Jul/2025 10:30:22] "[32mPOST /login?next=/ HTTP/1.1[0m" 302 -
[2025-07-31 10:30:22,259] ERROR in app: Exception on / [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 3783, in home
    return render_template('home.html')
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\home.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\home.html", line 77, in block 'content'
    <a href="{{ url_for('add_agent') }}" class="btn btn-primary btn-sm">Add Agent</a>
    ^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'add_agent'. Did you mean 'add_client' instead?
2025-07-31 10:30:22,259 - ERROR - Exception on / [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 3783, in home
    return render_template('home.html')
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\home.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\home.html", line 77, in block 'content'
    <a href="{{ url_for('add_agent') }}" class="btn btn-primary btn-sm">Add Agent</a>
    ^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'add_agent'. Did you mean 'add_client' instead?
2025-07-31 10:30:22,546 - INFO - 127.0.0.1 - - [31/Jul/2025 10:30:22] "[35m[1mGET / HTTP/1.1[0m" 500 -
2025-07-31 10:30:46,063 - INFO - 127.0.0.1 - - [31/Jul/2025 10:30:46] "[32mPOST /login?next=/ HTTP/1.1[0m" 302 -
[2025-07-31 10:30:46,394] ERROR in app: Exception on / [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 3783, in home
    return render_template('home.html')
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\home.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\home.html", line 77, in block 'content'
    <a href="{{ url_for('add_agent') }}" class="btn btn-primary btn-sm">Add Agent</a>
    ^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'add_agent'. Did you mean 'add_client' instead?
2025-07-31 10:30:46,394 - ERROR - Exception on / [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 3783, in home
    return render_template('home.html')
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\home.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\home.html", line 77, in block 'content'
    <a href="{{ url_for('add_agent') }}" class="btn btn-primary btn-sm">Add Agent</a>
    ^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'add_agent'. Did you mean 'add_client' instead?
2025-07-31 10:30:46,419 - INFO - 127.0.0.1 - - [31/Jul/2025 10:30:46] "[35m[1mGET / HTTP/1.1[0m" 500 -
2025-07-31 10:35:54,511 - INFO - Scheduler has been shut down
[2025-07-31 10:35:57,711] INFO in app: ==================================================
[2025-07-31 10:35:57,717] INFO in app: Application logging initialized successfully
[2025-07-31 10:35:57,720] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 10:35:57,722] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 10:35:57,723] INFO in app: System encoding: utf-8
[2025-07-31 10:35:57,729] INFO in app: ==================================================
2025-07-31 10:35:57,937 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 10:35:57,939 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 10:35:57,939 - INFO - Scheduler started
2025-07-31 10:35:57,951 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 10:35:57,951 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 10:35:57,951 - INFO - Scheduler started
2025-07-31 10:35:57,969 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 10:35:57,969 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-31 10:36:02,498] ERROR in app: Exception on / [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 3783, in home
    return render_template('home.html')
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\home.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\home.html", line 77, in block 'content'
    <a href="{{ url_for('add_agent') }}" class="btn btn-primary btn-sm">Add Agent</a>
    ^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'add_agent'. Did you mean 'add_client' instead?
2025-07-31 10:36:02,498 - ERROR - Exception on / [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 3783, in home
    return render_template('home.html')
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\home.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\home.html", line 77, in block 'content'
    <a href="{{ url_for('add_agent') }}" class="btn btn-primary btn-sm">Add Agent</a>
    ^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'add_agent'. Did you mean 'add_client' instead?
2025-07-31 10:36:02,554 - INFO - 127.0.0.1 - - [31/Jul/2025 10:36:02] "[35m[1mGET / HTTP/1.1[0m" 500 -
2025-07-31 10:36:02,616 - INFO - 127.0.0.1 - - [31/Jul/2025 10:36:02] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-31 10:36:05,597] ERROR in app: Exception on / [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 3783, in home
    return render_template('home.html')
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\home.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\home.html", line 77, in block 'content'
    <a href="{{ url_for('add_agent') }}" class="btn btn-primary btn-sm">Add Agent</a>
    ^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'add_agent'. Did you mean 'add_client' instead?
2025-07-31 10:36:05,597 - ERROR - Exception on / [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 3783, in home
    return render_template('home.html')
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\home.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\home.html", line 77, in block 'content'
    <a href="{{ url_for('add_agent') }}" class="btn btn-primary btn-sm">Add Agent</a>
    ^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
        endpoint,
    ...<3 lines>...
        force_external=_external,
    )
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'add_agent'. Did you mean 'add_client' instead?
2025-07-31 10:36:05,635 - INFO - 127.0.0.1 - - [31/Jul/2025 10:36:05] "[35m[1mGET / HTTP/1.1[0m" 500 -
2025-07-31 10:36:14,530 - INFO - Scheduler has been shut down
[2025-07-31 10:36:18,107] INFO in app: ==================================================
[2025-07-31 10:36:18,113] INFO in app: Application logging initialized successfully
[2025-07-31 10:36:18,115] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 10:36:18,117] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 10:36:18,119] INFO in app: System encoding: utf-8
[2025-07-31 10:36:18,123] INFO in app: ==================================================
2025-07-31 10:36:18,583 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 10:36:18,584 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 10:36:18,584 - INFO - Scheduler started
2025-07-31 10:36:18,600 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 10:36:18,601 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 10:36:18,601 - INFO - Scheduler started
2025-07-31 10:36:18,620 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 10:36:18,620 - INFO - [33mPress CTRL+C to quit[0m
2025-07-31 10:36:21,130 - INFO - 127.0.0.1 - - [31/Jul/2025 10:36:21] "GET / HTTP/1.1" 200 -
2025-07-31 10:36:23,798 - INFO - 127.0.0.1 - - [31/Jul/2025 10:36:23] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-31 10:36:27,304 - INFO - 127.0.0.1 - - [31/Jul/2025 10:36:27] "GET /agents/team/add HTTP/1.1" 200 -
2025-07-31 10:36:41,388 - INFO - 127.0.0.1 - - [31/Jul/2025 10:36:41] "GET / HTTP/1.1" 200 -
[2025-07-31 10:36:45,272] ERROR in app: Exception on /dashboard/sales [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7321, in sales_dashboard
    query = Agent.query.join(Customer).filter(Agent.active.is_(True))
                                              ^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'active'
2025-07-31 10:36:45,272 - ERROR - Exception on /dashboard/sales [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7321, in sales_dashboard
    query = Agent.query.join(Customer).filter(Agent.active.is_(True))
                                              ^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'active'
2025-07-31 10:36:45,347 - INFO - 127.0.0.1 - - [31/Jul/2025 10:36:45] "[35m[1mGET /dashboard/sales HTTP/1.1[0m" 500 -
[2025-07-31 10:38:13,129] ERROR in app: Exception on /register [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 2181, in _entity_namespace_key
    return getattr(ns, key)  # type: ignore
AttributeError: type object 'Agent' has no attribute 'active'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 520, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 3857, in register_customer_debug
    agents = Agent.query.filter_by(active=True).order_by(Agent.name).all()
             ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 1992, in filter_by
    _entity_namespace_key(from_entity, key) == value
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 2183, in _entity_namespace_key
    raise exc.InvalidRequestError(
        'Entity namespace for "%s" has no property "%s"' % (entity, key)
    ) from err
sqlalchemy.exc.InvalidRequestError: Entity namespace for "agents" has no property "active"
2025-07-31 10:38:13,129 - ERROR - Exception on /register [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 2181, in _entity_namespace_key
    return getattr(ns, key)  # type: ignore
AttributeError: type object 'Agent' has no attribute 'active'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 520, in wrapper
    return f(*args, **kwargs)
  File "C:\Users\pc\loan-app\app.py", line 3857, in register_customer_debug
    agents = Agent.query.filter_by(active=True).order_by(Agent.name).all()
             ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 1992, in filter_by
    _entity_namespace_key(from_entity, key) == value
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 2183, in _entity_namespace_key
    raise exc.InvalidRequestError(
        'Entity namespace for "%s" has no property "%s"' % (entity, key)
    ) from err
sqlalchemy.exc.InvalidRequestError: Entity namespace for "agents" has no property "active"
2025-07-31 10:38:13,217 - INFO - 127.0.0.1 - - [31/Jul/2025 10:38:13] "[35m[1mGET /register HTTP/1.1[0m" 500 -
2025-07-31 10:40:31,462 - INFO - Scheduler has been shut down
[2025-07-31 10:40:59,624] INFO in app: ==================================================
[2025-07-31 10:40:59,634] INFO in app: Application logging initialized successfully
[2025-07-31 10:40:59,637] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 10:40:59,639] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 10:40:59,645] INFO in app: System encoding: utf-8
[2025-07-31 10:40:59,648] INFO in app: ==================================================
2025-07-31 10:41:00,045 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 10:41:00,047 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 10:41:00,047 - INFO - Scheduler started
2025-07-31 10:41:00,068 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 10:41:00,068 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 10:41:00,068 - INFO - Scheduler started
[2025-07-31 10:42:10,257] INFO in app: ==================================================
[2025-07-31 10:42:10,266] INFO in app: Application logging initialized successfully
[2025-07-31 10:42:10,269] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 10:42:10,271] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 10:42:10,274] INFO in app: System encoding: utf-8
[2025-07-31 10:42:10,277] INFO in app: ==================================================
2025-07-31 10:42:10,557 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 10:42:10,558 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 10:42:10,559 - INFO - Scheduler started
2025-07-31 10:42:10,571 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 10:42:10,571 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 10:42:10,571 - INFO - Scheduler started
[2025-07-31 10:42:15,104] INFO in app: ==================================================
[2025-07-31 10:42:15,113] INFO in app: Application logging initialized successfully
[2025-07-31 10:42:15,115] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 10:42:15,117] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 10:42:15,120] INFO in app: System encoding: utf-8
[2025-07-31 10:42:15,122] INFO in app: ==================================================
2025-07-31 10:42:15,459 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 10:42:15,461 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 10:42:15,461 - INFO - Scheduler started
2025-07-31 10:42:15,484 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 10:42:15,484 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 10:42:15,485 - INFO - Scheduler started
2025-07-31 10:42:15,510 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 10:42:15,510 - INFO - [33mPress CTRL+C to quit[0m
2025-07-31 10:42:19,855 - INFO - 127.0.0.1 - - [31/Jul/2025 10:42:19] "GET /register HTTP/1.1" 200 -
2025-07-31 10:42:21,905 - INFO - 127.0.0.1 - - [31/Jul/2025 10:42:21] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-31 10:52:21,449 - INFO - 127.0.0.1 - - [31/Jul/2025 10:52:21] "GET / HTTP/1.1" 200 -
[2025-07-31 10:52:25,491] ERROR in app: Exception on /dashboard/sales [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7335, in sales_dashboard
    team_leads = [t[0] for t in db.session.query(Agent.team_lead).distinct() if t[0]]
                                                 ^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'team_lead'. Did you mean: 'team_leader'?
2025-07-31 10:52:25,491 - ERROR - Exception on /dashboard/sales [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7335, in sales_dashboard
    team_leads = [t[0] for t in db.session.query(Agent.team_lead).distinct() if t[0]]
                                                 ^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'team_lead'. Did you mean: 'team_leader'?
2025-07-31 10:52:25,557 - INFO - 127.0.0.1 - - [31/Jul/2025 10:52:25] "[35m[1mGET /dashboard/sales HTTP/1.1[0m" 500 -
2025-07-31 10:53:29,652 - INFO - Scheduler has been shut down
[2025-07-31 10:53:34,120] INFO in app: ==================================================
[2025-07-31 10:53:34,132] INFO in app: Application logging initialized successfully
[2025-07-31 10:53:34,135] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 10:53:34,145] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 10:53:34,149] INFO in app: System encoding: utf-8
[2025-07-31 10:53:34,152] INFO in app: ==================================================
2025-07-31 10:53:34,487 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 10:53:34,491 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 10:53:34,491 - INFO - Scheduler started
2025-07-31 10:53:34,515 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 10:53:34,516 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 10:53:34,516 - INFO - Scheduler started
2025-07-31 10:53:34,537 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 10:53:34,537 - INFO - [33mPress CTRL+C to quit[0m
2025-07-31 10:53:37,737 - INFO - 127.0.0.1 - - [31/Jul/2025 10:53:37] "GET /dashboard/sales HTTP/1.1" 200 -
[2025-07-31 10:53:40,405] ERROR in app: Exception on /notifications/sales-summary [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7390, in sales_summary_notification
    db.func.date(Customer.date_created) == today
                 ^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Customer' has no attribute 'date_created'
2025-07-31 10:53:40,405 - ERROR - Exception on /notifications/sales-summary [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7390, in sales_summary_notification
    db.func.date(Customer.date_created) == today
                 ^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Customer' has no attribute 'date_created'
2025-07-31 10:53:40,502 - INFO - 127.0.0.1 - - [31/Jul/2025 10:53:40] "[35m[1mGET /notifications/sales-summary HTTP/1.1[0m" 500 -
2025-07-31 10:53:42,094 - INFO - 127.0.0.1 - - [31/Jul/2025 10:53:42] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-31 10:53:43,978] ERROR in app: Exception on /dashboard/team-leader [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7568, in team_leader_dashboard
    .group_by(Agent.team_lead)
              ^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'team_lead'. Did you mean: 'team_leader'?
2025-07-31 10:53:43,978 - ERROR - Exception on /dashboard/team-leader [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7568, in team_leader_dashboard
    .group_by(Agent.team_lead)
              ^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'team_lead'. Did you mean: 'team_leader'?
2025-07-31 10:53:44,025 - INFO - 127.0.0.1 - - [31/Jul/2025 10:53:44] "[35m[1mGET /dashboard/team-leader HTTP/1.1[0m" 500 -
2025-07-31 10:54:16,751 - INFO - Scheduler has been shut down
[2025-07-31 10:54:20,226] INFO in app: ==================================================
[2025-07-31 10:54:20,233] INFO in app: Application logging initialized successfully
[2025-07-31 10:54:20,236] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 10:54:20,238] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 10:54:20,245] INFO in app: System encoding: utf-8
[2025-07-31 10:54:20,248] INFO in app: ==================================================
2025-07-31 10:54:20,490 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 10:54:20,491 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 10:54:20,491 - INFO - Scheduler started
2025-07-31 10:54:20,508 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 10:54:20,508 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 10:54:20,508 - INFO - Scheduler started
2025-07-31 10:54:20,523 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 10:54:20,523 - INFO - [33mPress CTRL+C to quit[0m
2025-07-31 10:54:22,653 - INFO - 127.0.0.1 - - [31/Jul/2025 10:54:22] "GET /dashboard/team-leader HTTP/1.1" 200 -
2025-07-31 10:54:25,578 - INFO - 127.0.0.1 - - [31/Jul/2025 10:54:25] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-31 10:54:26,314 - INFO - 127.0.0.1 - - [31/Jul/2025 10:54:26] "GET /dashboard/analytics HTTP/1.1" 200 -
2025-07-31 10:54:26,827 - INFO - 127.0.0.1 - - [31/Jul/2025 10:54:26] "GET /api/loans-by-region HTTP/1.1" 200 -
2025-07-31 10:54:27,128 - INFO - 127.0.0.1 - - [31/Jul/2025 10:54:27] "GET /api/loans-by-district HTTP/1.1" 200 -
2025-07-31 10:54:27,144 - INFO - 127.0.0.1 - - [31/Jul/2025 10:54:27] "GET /api/average-ticket-size HTTP/1.1" 200 -
2025-07-31 10:54:41,231 - INFO - 127.0.0.1 - - [31/Jul/2025 10:54:41] "GET / HTTP/1.1" 200 -
2025-07-31 10:54:45,245 - INFO - 127.0.0.1 - - [31/Jul/2025 10:54:45] "GET /agents/team/add HTTP/1.1" 200 -
2025-07-31 10:55:42,462 - INFO - 127.0.0.1 - - [31/Jul/2025 10:55:42] "[32mPOST /agents/team/add HTTP/1.1[0m" 302 -
2025-07-31 10:55:42,542 - INFO - 127.0.0.1 - - [31/Jul/2025 10:55:42] "GET /agents HTTP/1.1" 200 -
2025-07-31 10:55:57,806 - INFO - 127.0.0.1 - - [31/Jul/2025 10:55:57] "GET /register HTTP/1.1" 200 -
2025-07-31 11:38:42,769 - INFO - Scheduler has been shut down
[2025-07-31 11:38:48,637] INFO in app: ==================================================
[2025-07-31 11:38:48,644] INFO in app: Application logging initialized successfully
[2025-07-31 11:38:48,647] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 11:38:48,649] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 11:38:48,653] INFO in app: System encoding: utf-8
[2025-07-31 11:38:48,656] INFO in app: ==================================================
2025-07-31 11:38:48,889 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 11:38:48,890 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 11:38:48,890 - INFO - Scheduler started
2025-07-31 11:38:48,903 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 11:38:48,903 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 11:38:48,903 - INFO - Scheduler started
2025-07-31 11:38:48,918 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 11:38:48,918 - INFO - [33mPress CTRL+C to quit[0m
2025-07-31 11:38:56,067 - INFO - 127.0.0.1 - - [31/Jul/2025 11:38:56] "GET /register HTTP/1.1" 200 -
2025-07-31 11:39:06,215 - INFO - 127.0.0.1 - - [31/Jul/2025 11:39:06] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-31 12:13:21,991 - INFO - 127.0.0.1 - - [31/Jul/2025 12:13:21] "[32mPOST /register HTTP/1.1[0m" 302 -
2025-07-31 12:13:22,003 - INFO - 127.0.0.1 - - [31/Jul/2025 12:13:22] "GET /register HTTP/1.1" 200 -
2025-07-31 12:13:23,977 - INFO - 127.0.0.1 - - [31/Jul/2025 12:13:23] "GET /approve_customers HTTP/1.1" 200 -
2025-07-31 12:13:28,380 - INFO - 127.0.0.1 - - [31/Jul/2025 12:13:28] "GET /admin/dashboard HTTP/1.1" 200 -
2025-07-31 12:13:30,037 - INFO - 127.0.0.1 - - [31/Jul/2025 12:13:30] "GET /admin/dashboard/votes HTTP/1.1" 200 -
2025-07-31 12:13:39,377 - INFO - 127.0.0.1 - - [31/Jul/2025 12:13:39] "[32mPOST /admin/dashboard/votes HTTP/1.1[0m" 302 -
2025-07-31 12:13:39,394 - INFO - 127.0.0.1 - - [31/Jul/2025 12:13:39] "GET /admin/dashboard/votes HTTP/1.1" 200 -
2025-07-31 12:13:41,211 - INFO - 127.0.0.1 - - [31/Jul/2025 12:13:41] "GET /approve_customers HTTP/1.1" 200 -
2025-07-31 12:13:51,837 - INFO - 127.0.0.1 - - [31/Jul/2025 12:13:51] "[32mPOST /approve_customers HTTP/1.1[0m" 302 -
2025-07-31 12:13:51,849 - INFO - 127.0.0.1 - - [31/Jul/2025 12:13:51] "GET /approve_customers HTTP/1.1" 200 -
2025-07-31 12:13:54,253 - INFO - 127.0.0.1 - - [31/Jul/2025 12:13:54] "GET /customers HTTP/1.1" 200 -
2025-07-31 12:13:55,938 - INFO - 127.0.0.1 - - [31/Jul/2025 12:13:55] "GET /loans HTTP/1.1" 200 -
2025-07-31 12:14:22,810 - INFO - 127.0.0.1 - - [31/Jul/2025 12:14:22] "[32mPOST /process_loan/1/approve HTTP/1.1[0m" 302 -
2025-07-31 12:14:23,139 - INFO - 127.0.0.1 - - [31/Jul/2025 12:14:23] "GET /loans HTTP/1.1" 200 -
[2025-07-31 12:14:26,403] INFO in app: [DISBURSEMENT] Loan #112000001 | Top-up of: None | Cash to Client: 1000000.0
2025-07-31 12:14:26,403 - INFO - [DISBURSEMENT] Loan #112000001 | Top-up of: None | Cash to Client: 1000000.0
2025-07-31 12:14:26,419 - INFO - 127.0.0.1 - - [31/Jul/2025 12:14:26] "GET /disbursements HTTP/1.1" 200 -
[2025-07-31 12:14:32,793] ERROR in app: [DISBURSE] Error for loan 112000001: 'LoanApplication' object has no attribute 'repayment_schedule'
2025-07-31 12:14:32,793 - ERROR - [DISBURSE] Error for loan 112000001: 'LoanApplication' object has no attribute 'repayment_schedule'
2025-07-31 12:14:34,929 - INFO - 127.0.0.1 - - [31/Jul/2025 12:14:34] "[32mPOST /disbursements HTTP/1.1[0m" 302 -
[2025-07-31 12:14:34,936] INFO in app: [DISBURSEMENT] Loan #112000001 | Top-up of: None | Cash to Client: 1000000.0
2025-07-31 12:14:34,936 - INFO - [DISBURSEMENT] Loan #112000001 | Top-up of: None | Cash to Client: 1000000.0
2025-07-31 12:14:34,940 - INFO - 127.0.0.1 - - [31/Jul/2025 12:14:34] "GET /disbursements HTTP/1.1" 200 -
2025-07-31 12:14:44,359 - INFO - 127.0.0.1 - - [31/Jul/2025 12:14:44] "GET / HTTP/1.1" 200 -
[2025-07-31 12:14:48,634] ERROR in app: Exception on /dashboard/sales [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7306, in sales_dashboard
    applications = customers.count()
TypeError: list.count() takes exactly one argument (0 given)
2025-07-31 12:14:48,634 - ERROR - Exception on /dashboard/sales [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7306, in sales_dashboard
    applications = customers.count()
TypeError: list.count() takes exactly one argument (0 given)
2025-07-31 12:14:48,649 - INFO - 127.0.0.1 - - [31/Jul/2025 12:14:48] "[35m[1mGET /dashboard/sales HTTP/1.1[0m" 500 -
2025-07-31 12:16:50,572 - INFO - Scheduler has been shut down
[2025-07-31 12:16:53,991] INFO in app: ==================================================
[2025-07-31 12:16:53,998] INFO in app: Application logging initialized successfully
[2025-07-31 12:16:54,001] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 12:16:54,003] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 12:16:54,005] INFO in app: System encoding: utf-8
[2025-07-31 12:16:54,008] INFO in app: ==================================================
2025-07-31 12:16:54,272 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 12:16:54,274 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 12:16:54,274 - INFO - Scheduler started
2025-07-31 12:16:54,286 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 12:16:54,286 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 12:16:54,286 - INFO - Scheduler started
2025-07-31 12:16:54,303 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 12:16:54,304 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-31 12:16:57,933] ERROR in app: Exception on /dashboard/sales [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7306, in sales_dashboard
    applications = customers.count()
TypeError: list.count() takes exactly one argument (0 given)
2025-07-31 12:16:57,933 - ERROR - Exception on /dashboard/sales [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7306, in sales_dashboard
    applications = customers.count()
TypeError: list.count() takes exactly one argument (0 given)
2025-07-31 12:16:57,943 - INFO - 127.0.0.1 - - [31/Jul/2025 12:16:57] "[35m[1mGET /dashboard/sales HTTP/1.1[0m" 500 -
2025-07-31 12:16:57,992 - INFO - 127.0.0.1 - - [31/Jul/2025 12:16:57] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-31 12:17:07,396 - INFO - 127.0.0.1 - - [31/Jul/2025 12:17:07] "GET /register HTTP/1.1" 200 -
2025-07-31 12:21:41,967 - INFO - Scheduler has been shut down
[2025-07-31 12:21:46,493] INFO in app: ==================================================
[2025-07-31 12:21:46,509] INFO in app: Application logging initialized successfully
[2025-07-31 12:21:46,511] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 12:21:46,514] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 12:21:46,521] INFO in app: System encoding: utf-8
[2025-07-31 12:21:46,527] INFO in app: ==================================================
2025-07-31 12:21:46,866 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 12:21:46,869 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 12:21:46,869 - INFO - Scheduler started
2025-07-31 12:21:46,892 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 12:21:46,892 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 12:21:46,892 - INFO - Scheduler started
2025-07-31 12:21:46,919 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 12:21:46,919 - INFO - [33mPress CTRL+C to quit[0m
2025-07-31 12:21:54,569 - INFO - 127.0.0.1 - - [31/Jul/2025 12:21:54] "GET / HTTP/1.1" 200 -
2025-07-31 12:21:58,747 - INFO - 127.0.0.1 - - [31/Jul/2025 12:21:58] "GET /dashboard/sales HTTP/1.1" 200 -
[2025-07-31 12:21:58,793] ERROR in app: Exception on /notifications/sales-summary [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7356, in sales_summary_notification
    db.func.date(Customer.date_created) == today
                 ^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Customer' has no attribute 'date_created'
2025-07-31 12:21:58,793 - ERROR - Exception on /notifications/sales-summary [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7356, in sales_summary_notification
    db.func.date(Customer.date_created) == today
                 ^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Customer' has no attribute 'date_created'
2025-07-31 12:21:58,836 - INFO - 127.0.0.1 - - [31/Jul/2025 12:21:58] "[35m[1mGET /notifications/sales-summary HTTP/1.1[0m" 500 -
[2025-07-31 12:22:27,259] ERROR in app: Exception on /dashboard/team-leader [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\result.py", line 199, in _key_not_found
    self._key_fallback(key, None)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\result.py", line 138, in _key_fallback
    raise KeyError(key) from err
KeyError: 'team_lead'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7543, in team_leader_dashboard
    "team_lead": row.team_lead,
                 ^^^^^^^^^^^^^
  File "lib\\sqlalchemy\\cyextension\\resultproxy.pyx", line 66, in sqlalchemy.cyextension.resultproxy.BaseRow.__getattr__
  File "lib\\sqlalchemy\\cyextension\\resultproxy.pyx", line 63, in sqlalchemy.cyextension.resultproxy.BaseRow._get_by_key_impl
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\result.py", line 201, in _key_not_found
    raise AttributeError(ke.args[0]) from ke
AttributeError: team_lead
2025-07-31 12:22:27,259 - ERROR - Exception on /dashboard/team-leader [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\result.py", line 199, in _key_not_found
    self._key_fallback(key, None)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\result.py", line 138, in _key_fallback
    raise KeyError(key) from err
KeyError: 'team_lead'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7543, in team_leader_dashboard
    "team_lead": row.team_lead,
                 ^^^^^^^^^^^^^
  File "lib\\sqlalchemy\\cyextension\\resultproxy.pyx", line 66, in sqlalchemy.cyextension.resultproxy.BaseRow.__getattr__
  File "lib\\sqlalchemy\\cyextension\\resultproxy.pyx", line 63, in sqlalchemy.cyextension.resultproxy.BaseRow._get_by_key_impl
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\engine\result.py", line 201, in _key_not_found
    raise AttributeError(ke.args[0]) from ke
AttributeError: team_lead
2025-07-31 12:22:27,292 - INFO - 127.0.0.1 - - [31/Jul/2025 12:22:27] "[35m[1mGET /dashboard/team-leader HTTP/1.1[0m" 500 -
2025-07-31 12:23:49,317 - INFO - Scheduler has been shut down
[2025-07-31 12:23:53,630] INFO in app: ==================================================
[2025-07-31 12:23:53,640] INFO in app: Application logging initialized successfully
[2025-07-31 12:23:53,646] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 12:23:53,648] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 12:23:53,650] INFO in app: System encoding: utf-8
[2025-07-31 12:23:53,652] INFO in app: ==================================================
2025-07-31 12:23:53,935 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 12:23:53,936 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 12:23:53,937 - INFO - Scheduler started
2025-07-31 12:23:53,951 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 12:23:53,951 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 12:23:53,951 - INFO - Scheduler started
2025-07-31 12:23:53,966 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 12:23:53,966 - INFO - [33mPress CTRL+C to quit[0m
2025-07-31 12:23:57,067 - INFO - 127.0.0.1 - - [31/Jul/2025 12:23:57] "GET /dashboard/team-leader HTTP/1.1" 200 -
2025-07-31 12:23:59,008 - INFO - 127.0.0.1 - - [31/Jul/2025 12:23:59] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-31 12:24:22,032 - INFO - 127.0.0.1 - - [31/Jul/2025 12:24:22] "GET /dashboard/analytics HTTP/1.1" 200 -
2025-07-31 12:24:22,652 - INFO - 127.0.0.1 - - [31/Jul/2025 12:24:22] "GET /api/loans-by-region HTTP/1.1" 200 -
2025-07-31 12:24:22,959 - INFO - 127.0.0.1 - - [31/Jul/2025 12:24:22] "GET /api/average-ticket-size HTTP/1.1" 200 -
2025-07-31 12:24:22,969 - INFO - 127.0.0.1 - - [31/Jul/2025 12:24:22] "GET /api/loans-by-district HTTP/1.1" 200 -
2025-07-31 12:24:37,465 - INFO - 127.0.0.1 - - [31/Jul/2025 12:24:37] "GET /dashboard/team-leader HTTP/1.1" 200 -
[2025-07-31 12:36:12,029] INFO in app: ==================================================
[2025-07-31 12:36:12,035] INFO in app: Application logging initialized successfully
[2025-07-31 12:36:12,037] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 12:36:12,038] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 12:36:12,039] INFO in app: System encoding: utf-8
[2025-07-31 12:36:12,041] INFO in app: ==================================================
2025-07-31 12:36:12,257 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 12:36:12,258 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 12:36:12,258 - INFO - Scheduler started
2025-07-31 12:36:12,271 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 12:36:12,271 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 12:36:12,271 - INFO - Scheduler started
2025-07-31 12:51:53,437 - INFO - Scheduler has been shut down
[2025-07-31 12:51:56,704] INFO in app: ==================================================
[2025-07-31 12:51:56,711] INFO in app: Application logging initialized successfully
[2025-07-31 12:51:56,714] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 12:51:56,717] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 12:51:56,723] INFO in app: System encoding: utf-8
[2025-07-31 12:51:56,725] INFO in app: ==================================================
2025-07-31 12:51:56,976 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 12:51:56,978 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 12:51:56,978 - INFO - Scheduler started
2025-07-31 12:51:56,989 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 12:51:56,989 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 12:51:56,989 - INFO - Scheduler started
2025-07-31 12:51:57,002 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 12:51:57,003 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-31 12:52:05,432] ERROR in app: Exception on /dashboard/team-leader [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7554, in team_leader_dashboard
    return render_template("dashboard/team_leader_dashboard.html", stats=team_stats, active_tab="team")
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\dashboard\team_leader_dashboard.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\dashboard\team_leader_dashboard.html", line 21, in block 'content'
    <td>{{ agent.team_leader.name if agent.team_leader else '-' }}</td>
    ^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 490, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'agent' is undefined
2025-07-31 12:52:05,432 - ERROR - Exception on /dashboard/team-leader [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7554, in team_leader_dashboard
    return render_template("dashboard/team_leader_dashboard.html", stats=team_stats, active_tab="team")
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\pc\loan-app\templates\dashboard\team_leader_dashboard.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "C:\Users\pc\loan-app\templates\base.html", line 177, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\templates\dashboard\team_leader_dashboard.html", line 21, in block 'content'
    <td>{{ agent.team_leader.name if agent.team_leader else '-' }}</td>
    ^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\jinja2\environment.py", line 490, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'agent' is undefined
2025-07-31 12:52:05,450 - INFO - 127.0.0.1 - - [31/Jul/2025 12:52:05] "[35m[1mGET /dashboard/team-leader HTTP/1.1[0m" 500 -
2025-07-31 12:52:05,523 - INFO - 127.0.0.1 - - [31/Jul/2025 12:52:05] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-31 12:52:56,998 - INFO - Scheduler has been shut down
[2025-07-31 12:53:01,138] INFO in app: ==================================================
[2025-07-31 12:53:01,146] INFO in app: Application logging initialized successfully
[2025-07-31 12:53:01,148] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 12:53:01,150] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 12:53:01,152] INFO in app: System encoding: utf-8
[2025-07-31 12:53:01,154] INFO in app: ==================================================
2025-07-31 12:53:01,619 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 12:53:01,621 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 12:53:01,621 - INFO - Scheduler started
2025-07-31 12:53:01,640 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 12:53:01,641 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 12:53:01,641 - INFO - Scheduler started
2025-07-31 12:53:01,661 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 12:53:01,661 - INFO - [33mPress CTRL+C to quit[0m
2025-07-31 13:08:44,446 - INFO - Scheduler has been shut down
[2025-07-31 13:08:54,088] INFO in app: ==================================================
[2025-07-31 13:08:54,099] INFO in app: Application logging initialized successfully
[2025-07-31 13:08:54,101] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 13:08:54,104] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 13:08:54,106] INFO in app: System encoding: utf-8
[2025-07-31 13:08:54,117] INFO in app: ==================================================
2025-07-31 13:08:54,485 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 13:08:54,486 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 13:08:54,486 - INFO - Scheduler started
2025-07-31 13:08:54,504 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 13:08:54,504 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 13:08:54,504 - INFO - Scheduler started
2025-07-31 13:08:54,532 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 13:08:54,532 - INFO - [33mPress CTRL+C to quit[0m
2025-07-31 13:09:48,537 - INFO - 127.0.0.1 - - [31/Jul/2025 13:09:48] "GET /dashboard/team-leader HTTP/1.1" 200 -
2025-07-31 13:09:50,101 - INFO - 127.0.0.1 - - [31/Jul/2025 13:09:50] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-31 13:09:54,336 - INFO - 127.0.0.1 - - [31/Jul/2025 13:09:54] "GET /dashboard/analytics HTTP/1.1" 200 -
2025-07-31 13:09:54,700 - INFO - 127.0.0.1 - - [31/Jul/2025 13:09:54] "GET /api/loans-by-region HTTP/1.1" 200 -
2025-07-31 13:09:55,008 - INFO - 127.0.0.1 - - [31/Jul/2025 13:09:55] "GET /api/loans-by-district HTTP/1.1" 200 -
2025-07-31 13:09:55,013 - INFO - 127.0.0.1 - - [31/Jul/2025 13:09:55] "GET /api/average-ticket-size HTTP/1.1" 200 -
2025-07-31 13:09:55,836 - INFO - 127.0.0.1 - - [31/Jul/2025 13:09:55] "GET /dashboard/sales HTTP/1.1" 200 -
[2025-07-31 13:09:55,895] ERROR in app: Exception on /notifications/sales-summary [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7356, in sales_summary_notification
    db.func.date(Customer.date_created) == today
                 ^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Customer' has no attribute 'date_created'
2025-07-31 13:09:55,895 - ERROR - Exception on /notifications/sales-summary [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7356, in sales_summary_notification
    db.func.date(Customer.date_created) == today
                 ^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Customer' has no attribute 'date_created'
2025-07-31 13:09:55,930 - INFO - 127.0.0.1 - - [31/Jul/2025 13:09:55] "[35m[1mGET /notifications/sales-summary HTTP/1.1[0m" 500 -
2025-07-31 13:09:56,768 - INFO - 127.0.0.1 - - [31/Jul/2025 13:09:56] "GET /dashboard/team-leader HTTP/1.1" 200 -
2025-07-31 13:11:14,762 - INFO - Scheduler has been shut down
[2025-07-31 13:11:19,046] INFO in app: ==================================================
[2025-07-31 13:11:19,056] INFO in app: Application logging initialized successfully
[2025-07-31 13:11:19,062] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 13:11:19,064] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 13:11:19,070] INFO in app: System encoding: utf-8
[2025-07-31 13:11:19,073] INFO in app: ==================================================
2025-07-31 13:11:19,531 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 13:11:19,533 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 13:11:19,533 - INFO - Scheduler started
2025-07-31 13:11:19,549 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 13:11:19,550 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 13:11:19,550 - INFO - Scheduler started
2025-07-31 13:11:19,570 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 13:11:19,570 - INFO - [33mPress CTRL+C to quit[0m
2025-07-31 13:11:22,116 - INFO - 127.0.0.1 - - [31/Jul/2025 13:11:22] "GET /dashboard/team-leader HTTP/1.1" 200 -
2025-07-31 13:11:23,900 - INFO - 127.0.0.1 - - [31/Jul/2025 13:11:23] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-31 13:11:24,796 - INFO - 127.0.0.1 - - [31/Jul/2025 13:11:24] "GET /dashboard/analytics HTTP/1.1" 200 -
2025-07-31 13:11:25,096 - INFO - 127.0.0.1 - - [31/Jul/2025 13:11:25] "GET /api/loans-by-region HTTP/1.1" 200 -
2025-07-31 13:11:25,160 - INFO - 127.0.0.1 - - [31/Jul/2025 13:11:25] "GET /api/loans-by-district HTTP/1.1" 200 -
2025-07-31 13:11:25,164 - INFO - 127.0.0.1 - - [31/Jul/2025 13:11:25] "GET /api/average-ticket-size HTTP/1.1" 200 -
2025-07-31 13:11:28,180 - INFO - 127.0.0.1 - - [31/Jul/2025 13:11:28] "GET /dashboard/sales HTTP/1.1" 200 -
2025-07-31 13:11:28,245 - INFO - 127.0.0.1 - - [31/Jul/2025 13:11:28] "GET /notifications/sales-summary HTTP/1.1" 200 -
2025-07-31 13:12:38,713 - INFO - 127.0.0.1 - - [31/Jul/2025 13:12:38] "GET /dashboard/team-leader HTTP/1.1" 200 -
2025-07-31 13:12:41,444 - INFO - 127.0.0.1 - - [31/Jul/2025 13:12:41] "GET /dashboard/sales HTTP/1.1" 200 -
2025-07-31 13:12:41,491 - INFO - 127.0.0.1 - - [31/Jul/2025 13:12:41] "GET /notifications/sales-summary HTTP/1.1" 200 -
2025-07-31 13:14:05,031 - INFO - 127.0.0.1 - - [31/Jul/2025 13:14:05] "GET /dashboard/team-leader HTTP/1.1" 200 -
2025-07-31 13:29:58,083 - INFO - 127.0.0.1 - - [31/Jul/2025 13:29:58] "GET /dashboard/sales HTTP/1.1" 200 -
2025-07-31 13:29:58,190 - INFO - 127.0.0.1 - - [31/Jul/2025 13:29:58] "GET /notifications/sales-summary HTTP/1.1" 200 -
2025-07-31 13:31:55,331 - INFO - 127.0.0.1 - - [31/Jul/2025 13:31:55] "GET /agents/team/add HTTP/1.1" 200 -
2025-07-31 13:32:31,691 - INFO - 127.0.0.1 - - [31/Jul/2025 13:32:31] "[32mPOST /agents/team/add HTTP/1.1[0m" 302 -
2025-07-31 13:32:31,721 - INFO - 127.0.0.1 - - [31/Jul/2025 13:32:31] "GET /agents HTTP/1.1" 200 -
2025-07-31 13:36:28,783 - INFO - Scheduler has been shut down
[2025-07-31 13:36:33,905] INFO in app: ==================================================
[2025-07-31 13:36:33,913] INFO in app: Application logging initialized successfully
[2025-07-31 13:36:33,916] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 13:36:33,918] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 13:36:33,921] INFO in app: System encoding: utf-8
[2025-07-31 13:36:33,924] INFO in app: ==================================================
2025-07-31 13:36:34,176 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 13:36:34,178 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 13:36:34,178 - INFO - Scheduler started
2025-07-31 13:36:34,193 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 13:36:34,193 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 13:36:34,194 - INFO - Scheduler started
2025-07-31 13:36:34,215 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 13:36:34,215 - INFO - [33mPress CTRL+C to quit[0m
2025-07-31 13:36:41,379 - INFO - 127.0.0.1 - - [31/Jul/2025 13:36:41] "GET / HTTP/1.1" 200 -
2025-07-31 13:36:44,886 - INFO - 127.0.0.1 - - [31/Jul/2025 13:36:44] "GET /dashboard/sales HTTP/1.1" 200 -
2025-07-31 13:36:44,915 - INFO - 127.0.0.1 - - [31/Jul/2025 13:36:44] "GET /notifications/sales-summary HTTP/1.1" 200 -
2025-07-31 13:36:48,269 - INFO - 127.0.0.1 - - [31/Jul/2025 13:36:48] "GET /dashboard/team-leader HTTP/1.1" 200 -
2025-07-31 13:36:50,279 - INFO - 127.0.0.1 - - [31/Jul/2025 13:36:50] "GET /dashboard/team-leader HTTP/1.1" 200 -
2025-07-31 13:36:51,420 - INFO - 127.0.0.1 - - [31/Jul/2025 13:36:51] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-31 13:36:58,780 - INFO - 127.0.0.1 - - [31/Jul/2025 13:36:58] "GET /dashboard/sales HTTP/1.1" 200 -
2025-07-31 13:36:59,093 - INFO - 127.0.0.1 - - [31/Jul/2025 13:36:59] "GET /notifications/sales-summary HTTP/1.1" 200 -
2025-07-31 13:54:06,811 - INFO - Scheduler has been shut down
[2025-07-31 13:54:10,153] INFO in app: ==================================================
[2025-07-31 13:54:10,159] INFO in app: Application logging initialized successfully
[2025-07-31 13:54:10,161] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 13:54:10,163] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 13:54:10,164] INFO in app: System encoding: utf-8
[2025-07-31 13:54:10,167] INFO in app: ==================================================
2025-07-31 13:54:10,492 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 13:54:10,494 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 13:54:10,494 - INFO - Scheduler started
2025-07-31 13:54:10,510 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 13:54:10,511 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 13:54:10,511 - INFO - Scheduler started
2025-07-31 13:54:10,529 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 13:54:10,529 - INFO - [33mPress CTRL+C to quit[0m
2025-07-31 13:54:24,933 - INFO - 127.0.0.1 - - [31/Jul/2025 13:54:24] "GET /dashboard/sales HTTP/1.1" 200 -
2025-07-31 13:54:44,839 - INFO - 127.0.0.1 - - [31/Jul/2025 13:54:44] "GET /notifications/sales-summary HTTP/1.1" 200 -
2025-07-31 13:54:46,402 - INFO - 127.0.0.1 - - [31/Jul/2025 13:54:46] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-31 13:54:47,825 - INFO - 127.0.0.1 - - [31/Jul/2025 13:54:47] "GET /dashboard/team-leader HTTP/1.1" 200 -
2025-07-31 13:54:56,534 - INFO - 127.0.0.1 - - [31/Jul/2025 13:54:56] "GET /dashboard/analytics HTTP/1.1" 200 -
2025-07-31 13:54:57,069 - INFO - 127.0.0.1 - - [31/Jul/2025 13:54:57] "GET /api/loans-by-region HTTP/1.1" 200 -
2025-07-31 13:54:57,381 - INFO - 127.0.0.1 - - [31/Jul/2025 13:54:57] "GET /api/loans-by-district HTTP/1.1" 200 -
2025-07-31 13:54:57,385 - INFO - 127.0.0.1 - - [31/Jul/2025 13:54:57] "GET /api/average-ticket-size HTTP/1.1" 200 -
2025-07-31 13:54:58,274 - INFO - 127.0.0.1 - - [31/Jul/2025 13:54:58] "GET /dashboard/sales HTTP/1.1" 200 -
2025-07-31 13:54:58,410 - INFO - 127.0.0.1 - - [31/Jul/2025 13:54:58] "GET /notifications/sales-summary HTTP/1.1" 200 -
2025-07-31 13:55:00,565 - INFO - 127.0.0.1 - - [31/Jul/2025 13:55:00] "GET /dashboard/team-leader HTTP/1.1" 200 -
2025-07-31 14:17:34,183 - INFO - Scheduler has been shut down
[2025-07-31 14:17:37,727] INFO in app: ==================================================
[2025-07-31 14:17:37,733] INFO in app: Application logging initialized successfully
[2025-07-31 14:17:37,736] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 14:17:37,738] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 14:17:37,740] INFO in app: System encoding: utf-8
[2025-07-31 14:17:37,744] INFO in app: ==================================================
2025-07-31 14:17:37,955 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 14:17:37,956 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 14:17:37,956 - INFO - Scheduler started
2025-07-31 14:17:37,968 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 14:17:37,968 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 14:17:37,968 - INFO - Scheduler started
2025-07-31 14:17:37,982 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 14:17:37,982 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-31 14:17:45,573] ERROR in app: Exception on /dashboard/team-leader [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7532, in team_leader_dashboard
    TeamLeader.label('team_leader'),
    ^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\util.py", line 778, in __getattr__
    attr = getattr(target, key)
AttributeError: type object 'Agent' has no attribute 'label'
2025-07-31 14:17:45,573 - ERROR - Exception on /dashboard/team-leader [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7532, in team_leader_dashboard
    TeamLeader.label('team_leader'),
    ^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\util.py", line 778, in __getattr__
    attr = getattr(target, key)
AttributeError: type object 'Agent' has no attribute 'label'
2025-07-31 14:17:45,598 - INFO - 127.0.0.1 - - [31/Jul/2025 14:17:45] "[35m[1mGET /dashboard/team-leader HTTP/1.1[0m" 500 -
2025-07-31 14:17:45,665 - INFO - 127.0.0.1 - - [31/Jul/2025 14:17:45] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-31 14:18:27,556 - INFO - Scheduler has been shut down
[2025-07-31 14:18:31,725] INFO in app: ==================================================
[2025-07-31 14:18:31,733] INFO in app: Application logging initialized successfully
[2025-07-31 14:18:31,736] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 14:18:31,739] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 14:18:31,742] INFO in app: System encoding: utf-8
[2025-07-31 14:18:31,746] INFO in app: ==================================================
2025-07-31 14:18:31,987 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 14:18:31,989 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 14:18:31,989 - INFO - Scheduler started
2025-07-31 14:18:32,003 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 14:18:32,003 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 14:18:32,003 - INFO - Scheduler started
2025-07-31 14:18:32,019 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 14:18:32,019 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-31 14:18:34,270] ERROR in app: Exception on /dashboard/team-leader [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7532, in team_leader_dashboard
    TeamLeader('team_leader'),
    ~~~~~~~~~~^^^^^^^^^^^^^^^
TypeError: 'AliasedClass' object is not callable
2025-07-31 14:18:34,270 - ERROR - Exception on /dashboard/team-leader [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7532, in team_leader_dashboard
    TeamLeader('team_leader'),
    ~~~~~~~~~~^^^^^^^^^^^^^^^
TypeError: 'AliasedClass' object is not callable
2025-07-31 14:18:34,280 - INFO - 127.0.0.1 - - [31/Jul/2025 14:18:34] "[35m[1mGET /dashboard/team-leader HTTP/1.1[0m" 500 -
2025-07-31 14:18:34,324 - INFO - 127.0.0.1 - - [31/Jul/2025 14:18:34] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-31 14:18:57,332 - INFO - Scheduler has been shut down
[2025-07-31 14:19:01,271] INFO in app: ==================================================
[2025-07-31 14:19:01,278] INFO in app: Application logging initialized successfully
[2025-07-31 14:19:01,280] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 14:19:01,309] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 14:19:01,315] INFO in app: System encoding: utf-8
[2025-07-31 14:19:01,329] INFO in app: ==================================================
2025-07-31 14:19:01,578 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 14:19:01,579 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 14:19:01,580 - INFO - Scheduler started
2025-07-31 14:19:01,595 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 14:19:01,596 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 14:19:01,596 - INFO - Scheduler started
2025-07-31 14:19:01,613 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 14:19:01,613 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-31 14:19:03,887] ERROR in app: Exception on /dashboard/team-leader [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7532, in team_leader_dashboard
    TeamLeader('team_leader'),
    ~~~~~~~~~~^^^^^^^^^^^^^^^
TypeError: 'AliasedClass' object is not callable
2025-07-31 14:19:03,887 - ERROR - Exception on /dashboard/team-leader [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7532, in team_leader_dashboard
    TeamLeader('team_leader'),
    ~~~~~~~~~~^^^^^^^^^^^^^^^
TypeError: 'AliasedClass' object is not callable
2025-07-31 14:19:03,898 - INFO - 127.0.0.1 - - [31/Jul/2025 14:19:03] "[35m[1mGET /dashboard/team-leader HTTP/1.1[0m" 500 -
2025-07-31 14:19:03,944 - INFO - 127.0.0.1 - - [31/Jul/2025 14:19:03] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-31 14:19:15,836 - INFO - Scheduler has been shut down
[2025-07-31 14:19:19,318] INFO in app: ==================================================
[2025-07-31 14:19:19,325] INFO in app: Application logging initialized successfully
[2025-07-31 14:19:19,327] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 14:19:19,329] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 14:19:19,331] INFO in app: System encoding: utf-8
[2025-07-31 14:19:19,333] INFO in app: ==================================================
2025-07-31 14:19:19,664 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 14:19:19,666 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 14:19:19,666 - INFO - Scheduler started
2025-07-31 14:19:19,677 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 14:19:19,677 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 14:19:19,677 - INFO - Scheduler started
2025-07-31 14:19:19,690 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 14:19:19,690 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-31 14:19:22,437] ERROR in app: Exception on /dashboard/team-leader [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7532, in team_leader_dashboard
    TeamLeader.label('team_leader'),
    ^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\util.py", line 778, in __getattr__
    attr = getattr(target, key)
AttributeError: type object 'Agent' has no attribute 'label'
2025-07-31 14:19:22,437 - ERROR - Exception on /dashboard/team-leader [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7532, in team_leader_dashboard
    TeamLeader.label('team_leader'),
    ^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\util.py", line 778, in __getattr__
    attr = getattr(target, key)
AttributeError: type object 'Agent' has no attribute 'label'
2025-07-31 14:19:22,456 - INFO - 127.0.0.1 - - [31/Jul/2025 14:19:22] "[35m[1mGET /dashboard/team-leader HTTP/1.1[0m" 500 -
2025-07-31 14:19:22,550 - INFO - 127.0.0.1 - - [31/Jul/2025 14:19:22] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-31 14:21:21,737] ERROR in app: Exception on /dashboard/team-leader [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7532, in team_leader_dashboard
    TeamLeader.label('team_leader'),
    ^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\util.py", line 778, in __getattr__
    attr = getattr(target, key)
AttributeError: type object 'Agent' has no attribute 'label'
2025-07-31 14:21:21,737 - ERROR - Exception on /dashboard/team-leader [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7532, in team_leader_dashboard
    TeamLeader.label('team_leader'),
    ^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\util.py", line 778, in __getattr__
    attr = getattr(target, key)
AttributeError: type object 'Agent' has no attribute 'label'
2025-07-31 14:21:21,742 - INFO - 127.0.0.1 - - [31/Jul/2025 14:21:21] "[35m[1mGET /dashboard/team-leader HTTP/1.1[0m" 500 -
2025-07-31 14:25:24,990 - INFO - Scheduler has been shut down
[2025-07-31 14:25:28,822] INFO in app: ==================================================
[2025-07-31 14:25:28,829] INFO in app: Application logging initialized successfully
[2025-07-31 14:25:28,832] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 14:25:28,833] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 14:25:28,836] INFO in app: System encoding: utf-8
[2025-07-31 14:25:28,842] INFO in app: ==================================================
2025-07-31 14:25:29,046 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 14:25:29,048 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 14:25:29,048 - INFO - Scheduler started
2025-07-31 14:25:29,063 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 14:25:29,064 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 14:25:29,064 - INFO - Scheduler started
2025-07-31 14:25:29,082 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 14:25:29,082 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-31 14:25:35,280] ERROR in app: Exception on /dashboard/team-leader [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7532, in team_leader_dashboard
    TeamLeader.label('team_leader'),
    ^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\util.py", line 778, in __getattr__
    attr = getattr(target, key)
AttributeError: type object 'Agent' has no attribute 'label'
2025-07-31 14:25:35,280 - ERROR - Exception on /dashboard/team-leader [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7532, in team_leader_dashboard
    TeamLeader.label('team_leader'),
    ^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\util.py", line 778, in __getattr__
    attr = getattr(target, key)
AttributeError: type object 'Agent' has no attribute 'label'
2025-07-31 14:25:35,291 - INFO - 127.0.0.1 - - [31/Jul/2025 14:25:35] "[35m[1mGET /dashboard/team-leader HTTP/1.1[0m" 500 -
2025-07-31 14:25:35,346 - INFO - 127.0.0.1 - - [31/Jul/2025 14:25:35] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-31 14:25:43,648 - INFO - Scheduler has been shut down
[2025-07-31 14:25:47,010] INFO in app: ==================================================
[2025-07-31 14:25:47,017] INFO in app: Application logging initialized successfully
[2025-07-31 14:25:47,019] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 14:25:47,021] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 14:25:47,023] INFO in app: System encoding: utf-8
[2025-07-31 14:25:47,024] INFO in app: ==================================================
2025-07-31 14:25:47,252 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 14:25:47,253 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 14:25:47,253 - INFO - Scheduler started
2025-07-31 14:25:47,265 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 14:25:47,265 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 14:25:47,265 - INFO - Scheduler started
2025-07-31 14:25:47,281 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 14:25:47,282 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-31 14:25:49,689] ERROR in app: Exception on /dashboard/team-leader [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7532, in team_leader_dashboard
    TeamLeader.label('team_leader'),
    ^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\util.py", line 778, in __getattr__
    attr = getattr(target, key)
AttributeError: type object 'Agent' has no attribute 'label'
2025-07-31 14:25:49,689 - ERROR - Exception on /dashboard/team-leader [GET]
Traceback (most recent call last):
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\app.py", line 7532, in team_leader_dashboard
    TeamLeader.label('team_leader'),
    ^^^^^^^^^^^^^^^^
  File "C:\Users\pc\loan-app\.venv\Lib\site-packages\sqlalchemy\orm\util.py", line 778, in __getattr__
    attr = getattr(target, key)
AttributeError: type object 'Agent' has no attribute 'label'
2025-07-31 14:25:49,701 - INFO - 127.0.0.1 - - [31/Jul/2025 14:25:49] "[35m[1mGET /dashboard/team-leader HTTP/1.1[0m" 500 -
2025-07-31 14:25:49,748 - INFO - 127.0.0.1 - - [31/Jul/2025 14:25:49] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-31 14:29:45,706 - INFO - Scheduler has been shut down
[2025-07-31 14:29:49,539] INFO in app: ==================================================
[2025-07-31 14:29:49,545] INFO in app: Application logging initialized successfully
[2025-07-31 14:29:49,548] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 14:29:49,550] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 14:29:49,552] INFO in app: System encoding: utf-8
[2025-07-31 14:29:49,556] INFO in app: ==================================================
2025-07-31 14:29:49,773 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 14:29:49,774 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 14:29:49,775 - INFO - Scheduler started
2025-07-31 14:29:49,786 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 14:29:49,786 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 14:29:49,786 - INFO - Scheduler started
2025-07-31 14:29:49,800 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 14:29:49,800 - INFO - [33mPress CTRL+C to quit[0m
2025-07-31 14:29:54,955 - INFO - 127.0.0.1 - - [31/Jul/2025 14:29:54] "GET /dashboard/team-leader HTTP/1.1" 200 -
2025-07-31 14:29:56,196 - INFO - 127.0.0.1 - - [31/Jul/2025 14:29:56] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-31 14:30:01,468 - INFO - 127.0.0.1 - - [31/Jul/2025 14:30:01] "GET /dashboard/sales HTTP/1.1" 200 -
2025-07-31 14:30:01,763 - INFO - 127.0.0.1 - - [31/Jul/2025 14:30:01] "GET /notifications/sales-summary HTTP/1.1" 200 -
2025-07-31 14:30:04,464 - INFO - 127.0.0.1 - - [31/Jul/2025 14:30:04] "GET /dashboard/analytics HTTP/1.1" 200 -
2025-07-31 14:30:04,798 - INFO - 127.0.0.1 - - [31/Jul/2025 14:30:04] "GET /api/loans-by-region HTTP/1.1" 200 -
2025-07-31 14:30:04,804 - INFO - 127.0.0.1 - - [31/Jul/2025 14:30:04] "GET /api/loans-by-district HTTP/1.1" 200 -
2025-07-31 14:30:05,116 - INFO - 127.0.0.1 - - [31/Jul/2025 14:30:05] "GET /api/average-ticket-size HTTP/1.1" 200 -
2025-07-31 14:30:06,892 - INFO - 127.0.0.1 - - [31/Jul/2025 14:30:06] "GET /dashboard/sales HTTP/1.1" 200 -
2025-07-31 14:30:06,994 - INFO - 127.0.0.1 - - [31/Jul/2025 14:30:06] "GET /notifications/sales-summary HTTP/1.1" 200 -
2025-07-31 14:38:28,622 - INFO - 127.0.0.1 - - [31/Jul/2025 14:38:28] "GET /agents/team/add HTTP/1.1" 200 -
2025-07-31 14:39:22,616 - INFO - 127.0.0.1 - - [31/Jul/2025 14:39:22] "[32mPOST /agents/team/add HTTP/1.1[0m" 302 -
2025-07-31 14:39:22,667 - INFO - 127.0.0.1 - - [31/Jul/2025 14:39:22] "GET /agents HTTP/1.1" 200 -
2025-07-31 14:39:30,820 - INFO - 127.0.0.1 - - [31/Jul/2025 14:39:30] "GET /register HTTP/1.1" 200 -
2025-07-31 14:41:46,916 - INFO - 127.0.0.1 - - [31/Jul/2025 14:41:46] "[32mPOST /register HTTP/1.1[0m" 302 -
2025-07-31 14:41:46,924 - INFO - 127.0.0.1 - - [31/Jul/2025 14:41:46] "GET /register HTTP/1.1" 200 -
2025-07-31 14:41:48,685 - INFO - 127.0.0.1 - - [31/Jul/2025 14:41:48] "GET /approve_customers HTTP/1.1" 200 -
2025-07-31 14:41:59,686 - INFO - 127.0.0.1 - - [31/Jul/2025 14:41:59] "[32mPOST /approve_customers HTTP/1.1[0m" 302 -
2025-07-31 14:41:59,976 - INFO - 127.0.0.1 - - [31/Jul/2025 14:41:59] "GET /approve_customers HTTP/1.1" 200 -
2025-07-31 14:42:01,603 - INFO - 127.0.0.1 - - [31/Jul/2025 14:42:01] "GET /customers HTTP/1.1" 200 -
2025-07-31 14:42:04,133 - INFO - 127.0.0.1 - - [31/Jul/2025 14:42:04] "GET /loans HTTP/1.1" 200 -
2025-07-31 14:42:08,777 - INFO - 127.0.0.1 - - [31/Jul/2025 14:42:08] "[32mPOST /process_loan/2/approve HTTP/1.1[0m" 302 -
2025-07-31 14:42:09,096 - INFO - 127.0.0.1 - - [31/Jul/2025 14:42:09] "GET /loans HTTP/1.1" 200 -
[2025-07-31 14:42:11,045] INFO in app: [DISBURSEMENT] Loan #112000001 | Top-up of: None | Cash to Client: 1000000.0
2025-07-31 14:42:11,045 - INFO - [DISBURSEMENT] Loan #112000001 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-31 14:42:11,049] INFO in app: [DISBURSEMENT] Loan #136000002 | Top-up of: None | Cash to Client: 1500000.0
2025-07-31 14:42:11,049 - INFO - [DISBURSEMENT] Loan #136000002 | Top-up of: None | Cash to Client: 1500000.0
2025-07-31 14:42:11,066 - INFO - 127.0.0.1 - - [31/Jul/2025 14:42:11] "GET /disbursements HTTP/1.1" 200 -
[2025-07-31 14:42:18,177] ERROR in app: [DISBURSE] Error for loan 112000001: 'LoanApplication' object has no attribute 'repayment_schedule'
2025-07-31 14:42:18,177 - ERROR - [DISBURSE] Error for loan 112000001: 'LoanApplication' object has no attribute 'repayment_schedule'
[2025-07-31 14:42:18,186] ERROR in app: [DISBURSE] Error for loan 136000002: 'LoanApplication' object has no attribute 'repayment_schedule'
2025-07-31 14:42:18,186 - ERROR - [DISBURSE] Error for loan 136000002: 'LoanApplication' object has no attribute 'repayment_schedule'
[2025-07-31 14:42:21,466] ERROR in app: [DISBURSE] Error for loan 112000001: 'LoanApplication' object has no attribute 'repayment_schedule'
2025-07-31 14:42:21,466 - ERROR - [DISBURSE] Error for loan 112000001: 'LoanApplication' object has no attribute 'repayment_schedule'
[2025-07-31 14:42:21,472] ERROR in app: [DISBURSE] Error for loan 136000002: 'LoanApplication' object has no attribute 'repayment_schedule'
2025-07-31 14:42:21,472 - ERROR - [DISBURSE] Error for loan 136000002: 'LoanApplication' object has no attribute 'repayment_schedule'
2025-07-31 14:42:21,589 - INFO - 127.0.0.1 - - [31/Jul/2025 14:42:21] "[32mPOST /disbursements HTTP/1.1[0m" 302 -
2025-07-31 14:42:25,881 - INFO - 127.0.0.1 - - [31/Jul/2025 14:42:25] "GET /loanbook HTTP/1.1" 200 -
2025-07-31 14:42:37,477 - INFO - 127.0.0.1 - - [31/Jul/2025 14:42:37] "GET /income_report HTTP/1.1" 200 -
2025-07-31 14:42:39,811 - INFO - 127.0.0.1 - - [31/Jul/2025 14:42:39] "[32mPOST /disbursements HTTP/1.1[0m" 302 -
2025-07-31 14:42:46,497 - INFO - 127.0.0.1 - - [31/Jul/2025 14:42:46] "GET / HTTP/1.1" 200 -
2025-07-31 14:44:28,664 - INFO - 127.0.0.1 - - [31/Jul/2025 14:44:28] "GET /dashboard/sales HTTP/1.1" 200 -
2025-07-31 14:44:28,798 - INFO - 127.0.0.1 - - [31/Jul/2025 14:44:28] "GET /notifications/sales-summary HTTP/1.1" 200 -
2025-07-31 14:44:53,005 - INFO - 127.0.0.1 - - [31/Jul/2025 14:44:53] "GET /dashboard/team-leader HTTP/1.1" 200 -
2025-07-31 14:44:55,508 - INFO - 127.0.0.1 - - [31/Jul/2025 14:44:55] "GET /dashboard/analytics HTTP/1.1" 200 -
2025-07-31 14:44:55,599 - INFO - 127.0.0.1 - - [31/Jul/2025 14:44:55] "GET /api/loans-by-region HTTP/1.1" 200 -
2025-07-31 14:44:55,914 - INFO - 127.0.0.1 - - [31/Jul/2025 14:44:55] "GET /api/loans-by-district HTTP/1.1" 200 -
2025-07-31 14:44:55,955 - INFO - 127.0.0.1 - - [31/Jul/2025 14:44:55] "GET /api/average-ticket-size HTTP/1.1" 200 -
2025-07-31 15:31:59,732 - INFO - 127.0.0.1 - - [31/Jul/2025 15:31:59] "GET /dashboard/sales HTTP/1.1" 200 -
2025-07-31 15:31:59,833 - INFO - 127.0.0.1 - - [31/Jul/2025 15:31:59] "GET /notifications/sales-summary HTTP/1.1" 200 -
2025-07-31 16:44:07,824 - INFO - 127.0.0.1 - - [31/Jul/2025 16:44:07] "GET /loanbook HTTP/1.1" 200 -
[2025-07-31 16:44:09,462] INFO in app: Found 1 loans for customer 202507000001
2025-07-31 16:44:09,462 - INFO - Found 1 loans for customer 202507000001
[2025-07-31 16:44:09,466] INFO in app: Customer ID: 1
2025-07-31 16:44:09,466 - INFO - Customer ID: 1
[2025-07-31 16:44:09,471] INFO in app: Found Loans: [('112000001', 'active')]
2025-07-31 16:44:09,471 - INFO - Found Loans: [('112000001', 'active')]
2025-07-31 16:44:09,531 - INFO - 127.0.0.1 - - [31/Jul/2025 16:44:09] "GET /customer/202507000001/account HTTP/1.1" 200 -
[2025-07-31 16:44:11,592] INFO in app: Found 1 loans for customer 202507000001
2025-07-31 16:44:11,592 - INFO - Found 1 loans for customer 202507000001
[2025-07-31 16:44:11,595] INFO in app: Customer ID: 1
2025-07-31 16:44:11,595 - INFO - Customer ID: 1
[2025-07-31 16:44:11,602] INFO in app: Found Loans: [('112000001', 'active')]
2025-07-31 16:44:11,602 - INFO - Found Loans: [('112000001', 'active')]
2025-07-31 16:44:11,619 - INFO - 127.0.0.1 - - [31/Jul/2025 16:44:11] "GET /customer/202507000001/account?section=additional HTTP/1.1" 200 -
2025-07-31 16:44:37,979 - INFO - 127.0.0.1 - - [31/Jul/2025 16:44:37] "[32mPOST /apply_additional/1 HTTP/1.1[0m" 302 -
[2025-07-31 16:44:38,231] INFO in app: Found 2 loans for customer 202507000001
2025-07-31 16:44:38,231 - INFO - Found 2 loans for customer 202507000001
[2025-07-31 16:44:38,233] INFO in app: Customer ID: 1
2025-07-31 16:44:38,233 - INFO - Customer ID: 1
[2025-07-31 16:44:38,234] INFO in app: Found Loans: [('112000001', 'active'), ('124000003', 'active')]
2025-07-31 16:44:38,234 - INFO - Found Loans: [('112000001', 'active'), ('124000003', 'active')]
2025-07-31 16:44:38,243 - INFO - 127.0.0.1 - - [31/Jul/2025 16:44:38] "GET /customer/202507000001/account?section=statement HTTP/1.1" 200 -
2025-07-31 16:44:40,487 - INFO - 127.0.0.1 - - [31/Jul/2025 16:44:40] "GET /loans HTTP/1.1" 200 -
2025-07-31 16:44:52,196 - INFO - 127.0.0.1 - - [31/Jul/2025 16:44:52] "GET /document/13 HTTP/1.1" 200 -
2025-07-31 16:44:55,115 - INFO - 127.0.0.1 - - [31/Jul/2025 16:44:55] "GET /document/14 HTTP/1.1" 200 -
2025-07-31 16:44:57,839 - INFO - 127.0.0.1 - - [31/Jul/2025 16:44:57] "GET /document/15 HTTP/1.1" 200 -
2025-07-31 16:45:09,273 - INFO - 127.0.0.1 - - [31/Jul/2025 16:45:09] "[32mPOST /process_loan/3/approve HTTP/1.1[0m" 302 -
2025-07-31 16:45:09,297 - INFO - 127.0.0.1 - - [31/Jul/2025 16:45:09] "GET /loans HTTP/1.1" 200 -
[2025-07-31 16:45:11,292] INFO in app: [DISBURSEMENT] Loan #112000001 | Top-up of: None | Cash to Client: 1000000.0
2025-07-31 16:45:11,292 - INFO - [DISBURSEMENT] Loan #112000001 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-31 16:45:11,299] INFO in app: [DISBURSEMENT] Loan #136000002 | Top-up of: None | Cash to Client: 1500000.0
2025-07-31 16:45:11,299 - INFO - [DISBURSEMENT] Loan #136000002 | Top-up of: None | Cash to Client: 1500000.0
[2025-07-31 16:45:11,305] INFO in app: [DISBURSEMENT] Loan #124000003 | Top-up of: None | Cash to Client: 1200000.0
2025-07-31 16:45:11,305 - INFO - [DISBURSEMENT] Loan #124000003 | Top-up of: None | Cash to Client: 1200000.0
2025-07-31 16:45:11,315 - INFO - 127.0.0.1 - - [31/Jul/2025 16:45:11] "GET /disbursements HTTP/1.1" 200 -
[2025-07-31 16:45:19,103] ERROR in app: [DISBURSE] Error for loan 112000001: 'LoanApplication' object has no attribute 'repayment_schedule'
2025-07-31 16:45:19,103 - ERROR - [DISBURSE] Error for loan 112000001: 'LoanApplication' object has no attribute 'repayment_schedule'
[2025-07-31 16:45:19,114] ERROR in app: [DISBURSE] Error for loan 136000002: 'LoanApplication' object has no attribute 'repayment_schedule'
2025-07-31 16:45:19,114 - ERROR - [DISBURSE] Error for loan 136000002: 'LoanApplication' object has no attribute 'repayment_schedule'
[2025-07-31 16:45:19,121] ERROR in app: [DISBURSE] Error for loan 124000003: 'LoanApplication' object has no attribute 'repayment_schedule'
2025-07-31 16:45:19,121 - ERROR - [DISBURSE] Error for loan 124000003: 'LoanApplication' object has no attribute 'repayment_schedule'
2025-07-31 16:45:20,448 - INFO - 127.0.0.1 - - [31/Jul/2025 16:45:20] "[32mPOST /disbursements HTTP/1.1[0m" 302 -
[2025-07-31 16:45:20,457] INFO in app: [DISBURSEMENT] Loan #112000001 | Top-up of: None | Cash to Client: 1000000.0
2025-07-31 16:45:20,457 - INFO - [DISBURSEMENT] Loan #112000001 | Top-up of: None | Cash to Client: 1000000.0
[2025-07-31 16:45:20,459] INFO in app: [DISBURSEMENT] Loan #136000002 | Top-up of: None | Cash to Client: 1500000.0
2025-07-31 16:45:20,459 - INFO - [DISBURSEMENT] Loan #136000002 | Top-up of: None | Cash to Client: 1500000.0
[2025-07-31 16:45:20,460] INFO in app: [DISBURSEMENT] Loan #124000003 | Top-up of: None | Cash to Client: 1200000.0
2025-07-31 16:45:20,460 - INFO - [DISBURSEMENT] Loan #124000003 | Top-up of: None | Cash to Client: 1200000.0
2025-07-31 16:45:20,464 - INFO - 127.0.0.1 - - [31/Jul/2025 16:45:20] "GET /disbursements HTTP/1.1" 200 -
2025-07-31 16:45:26,456 - INFO - 127.0.0.1 - - [31/Jul/2025 16:45:26] "GET /payments HTTP/1.1" 200 -
2025-07-31 16:45:28,987 - INFO - 127.0.0.1 - - [31/Jul/2025 16:45:28] "GET /placements HTTP/1.1" 200 -
2025-07-31 16:45:33,045 - INFO - 127.0.0.1 - - [31/Jul/2025 16:45:33] "GET /loanbook HTTP/1.1" 200 -
[2025-07-31 16:45:38,162] INFO in app: Found 2 loans for customer 202507000001
2025-07-31 16:45:38,162 - INFO - Found 2 loans for customer 202507000001
[2025-07-31 16:45:38,165] INFO in app: Customer ID: 1
2025-07-31 16:45:38,165 - INFO - Customer ID: 1
[2025-07-31 16:45:38,170] INFO in app: Found Loans: [('112000001', 'active'), ('124000003', 'active')]
2025-07-31 16:45:38,170 - INFO - Found Loans: [('112000001', 'active'), ('124000003', 'active')]
2025-07-31 16:45:38,181 - INFO - 127.0.0.1 - - [31/Jul/2025 16:45:38] "GET /customer/202507000001/account HTTP/1.1" 200 -
[2025-07-31 16:45:39,902] INFO in app: Found 2 loans for customer 202507000001
2025-07-31 16:45:39,902 - INFO - Found 2 loans for customer 202507000001
[2025-07-31 16:45:39,905] INFO in app: Customer ID: 1
2025-07-31 16:45:39,905 - INFO - Customer ID: 1
[2025-07-31 16:45:39,909] INFO in app: Found Loans: [('112000001', 'active'), ('124000003', 'active')]
2025-07-31 16:45:39,909 - INFO - Found Loans: [('112000001', 'active'), ('124000003', 'active')]
2025-07-31 16:45:39,924 - INFO - 127.0.0.1 - - [31/Jul/2025 16:45:39] "GET /customer/202507000001/account?section=topup HTTP/1.1" 200 -
[2025-07-31 16:46:08,827] INFO in app: [TOPUP] Submit route hit for loan 1
2025-07-31 16:46:08,827 - INFO - [TOPUP] Submit route hit for loan 1
[2025-07-31 16:46:08,879] INFO in app: [112000001] Schedule 1 updated → fees=11390.0, interest=40215.0, principal=78688.06
2025-07-31 16:46:08,879 - INFO - [112000001] Schedule 1 updated → fees=11390.0, interest=40215.0, principal=78688.06
[2025-07-31 16:46:08,882] INFO in app: [112000001] Schedule 2 updated → fees=11390.0, interest=37460.92, principal=81442.14
2025-07-31 16:46:08,882 - INFO - [112000001] Schedule 2 updated → fees=11390.0, interest=37460.92, principal=81442.14
[2025-07-31 16:46:08,888] INFO in app: [112000001] Schedule 3 updated → fees=11390.0, interest=34610.44, principal=84292.61
2025-07-31 16:46:08,888 - INFO - [112000001] Schedule 3 updated → fees=11390.0, interest=34610.44, principal=84292.61
[2025-07-31 16:46:08,891] INFO in app: [112000001] Schedule 4 updated → fees=11390.0, interest=31660.2, principal=87242.86
2025-07-31 16:46:08,891 - INFO - [112000001] Schedule 4 updated → fees=11390.0, interest=31660.2, principal=87242.86
[2025-07-31 16:46:08,893] INFO in app: [112000001] Schedule 5 updated → fees=11390.0, interest=28606.7, principal=90296.36
2025-07-31 16:46:08,893 - INFO - [112000001] Schedule 5 updated → fees=11390.0, interest=28606.7, principal=90296.36
[2025-07-31 16:46:08,896] INFO in app: [112000001] Schedule 6 updated → fees=11390.0, interest=25446.33, principal=93456.73
2025-07-31 16:46:08,896 - INFO - [112000001] Schedule 6 updated → fees=11390.0, interest=25446.33, principal=93456.73
[2025-07-31 16:46:08,898] INFO in app: [112000001] Schedule 7 updated → fees=11390.0, interest=22175.34, principal=96727.71
2025-07-31 16:46:08,898 - INFO - [112000001] Schedule 7 updated → fees=11390.0, interest=22175.34, principal=96727.71
[2025-07-31 16:46:08,904] INFO in app: [112000001] Schedule 8 updated → fees=11390.0, interest=18789.87, principal=100113.18
2025-07-31 16:46:08,904 - INFO - [112000001] Schedule 8 updated → fees=11390.0, interest=18789.87, principal=100113.18
[2025-07-31 16:46:08,908] INFO in app: [112000001] Schedule 9 updated → fees=11390.0, interest=15285.91, principal=103617.15
2025-07-31 16:46:08,908 - INFO - [112000001] Schedule 9 updated → fees=11390.0, interest=15285.91, principal=103617.15
[2025-07-31 16:46:08,910] INFO in app: [112000001] Schedule 10 updated → fees=11390.0, interest=11659.31, principal=65599.54000000021
2025-07-31 16:46:08,910 - INFO - [112000001] Schedule 10 updated → fees=11390.0, interest=11659.31, principal=65599.54000000021
[2025-07-31 16:46:08,915] INFO in app: [112000001] Recalculated: capitalized=1149000.0, paid_principal=0, current_balance=1149000.0
2025-07-31 16:46:08,915 - INFO - [112000001] Recalculated: capitalized=1149000.0, paid_principal=0, current_balance=1149000.0
[2025-07-31 16:46:08,921] INFO in app: [112000001] Payment of 1261286.36 allocated. Remaining: 0.0
2025-07-31 16:46:08,921 - INFO - [112000001] Payment of 1261286.36 allocated. Remaining: 0.0
[2025-07-31 16:46:08,924] INFO in app: [112000001] Recalculated: capitalized=1149000.0, paid_principal=0, current_balance=1149000.0
2025-07-31 16:46:08,924 - INFO - [112000001] Recalculated: capitalized=1149000.0, paid_principal=0, current_balance=1149000.0
2025-07-31 16:46:08,947 - INFO - 127.0.0.1 - - [31/Jul/2025 16:46:08] "[32mPOST /topup/1 HTTP/1.1[0m" 302 -
[2025-07-31 16:46:09,133] INFO in app: Found 3 loans for customer 202507000001
2025-07-31 16:46:09,133 - INFO - Found 3 loans for customer 202507000001
[2025-07-31 16:46:09,135] INFO in app: Customer ID: 1
2025-07-31 16:46:09,135 - INFO - Customer ID: 1
[2025-07-31 16:46:09,137] INFO in app: Found Loans: [('112000001', 'topped_up'), ('124000003', 'active'), ('118000004', 'application')]
2025-07-31 16:46:09,137 - INFO - Found Loans: [('112000001', 'topped_up'), ('124000003', 'active'), ('118000004', 'application')]
2025-07-31 16:46:09,150 - INFO - 127.0.0.1 - - [31/Jul/2025 16:46:09] "GET /customer/202507000001/account?section=statement HTTP/1.1" 200 -
2025-07-31 16:46:16,311 - INFO - 127.0.0.1 - - [31/Jul/2025 16:46:16] "GET /loans HTTP/1.1" 200 -
2025-07-31 16:46:25,037 - INFO - 127.0.0.1 - - [31/Jul/2025 16:46:25] "[32mPOST /process_loan/4/approve HTTP/1.1[0m" 302 -
2025-07-31 16:46:25,065 - INFO - 127.0.0.1 - - [31/Jul/2025 16:46:25] "GET /loans HTTP/1.1" 200 -
2025-07-31 16:46:42,380 - INFO - 127.0.0.1 - - [31/Jul/2025 16:46:42] "GET /loanbook HTTP/1.1" 200 -
[2025-07-31 16:47:18,064] INFO in app: Found 3 loans for customer 202507000001
2025-07-31 16:47:18,064 - INFO - Found 3 loans for customer 202507000001
[2025-07-31 16:47:18,067] INFO in app: Customer ID: 1
2025-07-31 16:47:18,067 - INFO - Customer ID: 1
[2025-07-31 16:47:18,074] INFO in app: Found Loans: [('112000001', 'topped_up'), ('124000003', 'active'), ('118000004', 'active')]
2025-07-31 16:47:18,074 - INFO - Found Loans: [('112000001', 'topped_up'), ('124000003', 'active'), ('118000004', 'active')]
2025-07-31 16:47:18,101 - INFO - 127.0.0.1 - - [31/Jul/2025 16:47:18] "GET /customer/202507000001/account HTTP/1.1" 200 -
2025-07-31 16:54:43,219 - INFO - 127.0.0.1 - - [31/Jul/2025 16:54:43] "GET /loan/112000001/statement HTTP/1.1" 200 -
2025-07-31 17:00:49,288 - INFO - Scheduler has been shut down
[2025-07-31 17:00:53,499] INFO in app: ==================================================
[2025-07-31 17:00:53,507] INFO in app: Application logging initialized successfully
[2025-07-31 17:00:53,509] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 17:00:53,511] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 17:00:53,513] INFO in app: System encoding: utf-8
[2025-07-31 17:00:53,517] INFO in app: ==================================================
2025-07-31 17:00:53,757 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 17:00:53,758 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 17:00:53,758 - INFO - Scheduler started
2025-07-31 17:00:53,771 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 17:00:53,771 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 17:00:53,771 - INFO - Scheduler started
2025-07-31 17:00:53,784 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 17:00:53,784 - INFO - [33mPress CTRL+C to quit[0m
2025-07-31 17:01:03,951 - INFO - 127.0.0.1 - - [31/Jul/2025 17:01:03] "GET /loan/112000001/statement HTTP/1.1" 200 -
2025-07-31 17:01:04,925 - INFO - 127.0.0.1 - - [31/Jul/2025 17:01:04] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-31 17:01:07,593 - INFO - 127.0.0.1 - - [31/Jul/2025 17:01:07] "GET /loanbook HTTP/1.1" 200 -
[2025-07-31 17:01:12,403] INFO in app: Found 3 loans for customer 202507000001
2025-07-31 17:01:12,403 - INFO - Found 3 loans for customer 202507000001
[2025-07-31 17:01:12,405] INFO in app: Customer ID: 1
2025-07-31 17:01:12,405 - INFO - Customer ID: 1
[2025-07-31 17:01:12,408] INFO in app: Found Loans: [('112000001', 'topped_up'), ('124000003', 'active'), ('118000004', 'active')]
2025-07-31 17:01:12,408 - INFO - Found Loans: [('112000001', 'topped_up'), ('124000003', 'active'), ('118000004', 'active')]
2025-07-31 17:01:12,465 - INFO - 127.0.0.1 - - [31/Jul/2025 17:01:12] "GET /customer/202507000001/account HTTP/1.1" 200 -
[2025-07-31 17:01:16,508] INFO in app: Found 3 loans for customer 202507000001
2025-07-31 17:01:16,508 - INFO - Found 3 loans for customer 202507000001
[2025-07-31 17:01:16,510] INFO in app: Customer ID: 1
2025-07-31 17:01:16,510 - INFO - Customer ID: 1
[2025-07-31 17:01:16,519] INFO in app: Found Loans: [('112000001', 'topped_up'), ('124000003', 'active'), ('118000004', 'active')]
2025-07-31 17:01:16,519 - INFO - Found Loans: [('112000001', 'topped_up'), ('124000003', 'active'), ('118000004', 'active')]
2025-07-31 17:01:16,539 - INFO - 127.0.0.1 - - [31/Jul/2025 17:01:16] "GET /customer/202507000001/account?section=topup HTTP/1.1" 200 -
[2025-07-31 17:01:59,816] INFO in app: [TOPUP] Submit route hit for loan 4
2025-07-31 17:01:59,816 - INFO - [TOPUP] Submit route hit for loan 4
[2025-07-31 17:01:59,874] INFO in app: [118000004] Top-up payment → principal: 1261286.36, interest: 112286.36
2025-07-31 17:01:59,874 - INFO - [118000004] Top-up payment → principal: 1261286.36, interest: 112286.36
[2025-07-31 17:01:59,876] INFO in app: [118000004] Loan marked as closed after top-up.
2025-07-31 17:01:59,876 - INFO - [118000004] Loan marked as closed after top-up.
2025-07-31 17:01:59,892 - INFO - 127.0.0.1 - - [31/Jul/2025 17:01:59] "[32mPOST /topup/4 HTTP/1.1[0m" 302 -
[2025-07-31 17:01:59,901] INFO in app: Found 4 loans for customer 202507000001
2025-07-31 17:01:59,901 - INFO - Found 4 loans for customer 202507000001
[2025-07-31 17:01:59,903] INFO in app: Customer ID: 1
2025-07-31 17:01:59,903 - INFO - Customer ID: 1
[2025-07-31 17:01:59,905] INFO in app: Found Loans: [('112000001', 'topped_up'), ('124000003', 'active'), ('118000004', 'topped_up'), ('136000005', 'application')]
2025-07-31 17:01:59,905 - INFO - Found Loans: [('112000001', 'topped_up'), ('124000003', 'active'), ('118000004', 'topped_up'), ('136000005', 'application')]
2025-07-31 17:01:59,913 - INFO - 127.0.0.1 - - [31/Jul/2025 17:01:59] "GET /customer/202507000001/account?section=statement HTTP/1.1" 200 -
2025-07-31 17:02:15,813 - INFO - 127.0.0.1 - - [31/Jul/2025 17:02:15] "GET /loans HTTP/1.1" 200 -
2025-07-31 17:02:20,053 - INFO - 127.0.0.1 - - [31/Jul/2025 17:02:20] "[32mPOST /process_loan/5/approve HTTP/1.1[0m" 302 -
2025-07-31 17:02:20,395 - INFO - 127.0.0.1 - - [31/Jul/2025 17:02:20] "GET /loans HTTP/1.1" 200 -
2025-07-31 17:02:26,265 - INFO - 127.0.0.1 - - [31/Jul/2025 17:02:26] "GET /loanbook HTTP/1.1" 200 -
2025-07-31 17:02:28,988 - INFO - 127.0.0.1 - - [31/Jul/2025 17:02:28] "GET /income_report HTTP/1.1" 200 -
2025-07-31 17:14:31,347 - INFO - 127.0.0.1 - - [31/Jul/2025 17:14:31] "GET /loanbook HTTP/1.1" 200 -
2025-07-31 17:14:37,948 - INFO - 127.0.0.1 - - [31/Jul/2025 17:14:37] "GET /loan/118000004/statement HTTP/1.1" 200 -
[2025-07-31 17:19:35,402] INFO in app: [118000004] Top-up payment → principal: 0.0, interest: 0.0
2025-07-31 17:19:35,402 - INFO - [118000004] Top-up payment → principal: 0.0, interest: 0.0
[2025-07-31 17:19:35,408] INFO in app: [118000004] Loan marked as closed after top-up.
2025-07-31 17:19:35,408 - INFO - [118000004] Loan marked as closed after top-up.
[2025-07-31 17:21:36,742] WARNING in app: [118000004] Payment not allocated. Loan state is closed: settled_client
2025-07-31 17:21:36,742 - WARNING - [118000004] Payment not allocated. Loan state is closed: settled_client
[2025-07-31 17:22:29,793] INFO in app: [118000004] Top-up payment → principal: 1149000.0, interest: 0.0
2025-07-31 17:22:29,793 - INFO - [118000004] Top-up payment → principal: 1149000.0, interest: 0.0
[2025-07-31 17:22:29,795] INFO in app: [118000004] Loan marked as closed after top-up.
2025-07-31 17:22:29,795 - INFO - [118000004] Loan marked as closed after top-up.
2025-07-31 17:22:52,776 - WARNING - Run time of job "send_sales_notification_email (trigger: cron[hour='17', minute='0'], next run at: 2025-07-31 17:00:00 SAST)" was missed by 0:22:52.775711
2025-07-31 17:37:41,992 - INFO - Scheduler has been shut down
[2025-07-31 17:37:45,722] INFO in app: ==================================================
[2025-07-31 17:37:45,729] INFO in app: Application logging initialized successfully
[2025-07-31 17:37:45,733] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 17:37:45,735] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 17:37:45,738] INFO in app: System encoding: utf-8
[2025-07-31 17:37:45,740] INFO in app: ==================================================
2025-07-31 17:37:46,080 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 17:37:46,081 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 17:37:46,081 - INFO - Scheduler started
2025-07-31 17:37:46,092 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 17:37:46,093 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 17:37:46,093 - INFO - Scheduler started
2025-07-31 17:37:46,111 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 17:37:46,111 - INFO - [33mPress CTRL+C to quit[0m
2025-07-31 17:37:51,834 - INFO - 127.0.0.1 - - [31/Jul/2025 17:37:51] "GET /loan/118000004/statement HTTP/1.1" 200 -
2025-07-31 17:37:53,388 - INFO - 127.0.0.1 - - [31/Jul/2025 17:37:53] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-31 17:37:54,136 - INFO - 127.0.0.1 - - [31/Jul/2025 17:37:54] "GET /loanbook HTTP/1.1" 200 -
[2025-07-31 17:38:13,391] INFO in app: Found 4 loans for customer 202507000001
2025-07-31 17:38:13,391 - INFO - Found 4 loans for customer 202507000001
[2025-07-31 17:38:13,406] INFO in app: Customer ID: 1
2025-07-31 17:38:13,406 - INFO - Customer ID: 1
[2025-07-31 17:38:13,411] INFO in app: Found Loans: [('112000001', 'topped_up'), ('124000003', 'active'), ('118000004', 'settled_client'), ('136000005', 'active')]
2025-07-31 17:38:13,411 - INFO - Found Loans: [('112000001', 'topped_up'), ('124000003', 'active'), ('118000004', 'settled_client'), ('136000005', 'active')]
2025-07-31 17:38:13,516 - INFO - 127.0.0.1 - - [31/Jul/2025 17:38:13] "GET /customer/202507000001/account HTTP/1.1" 200 -
2025-07-31 17:38:29,481 - INFO - 127.0.0.1 - - [31/Jul/2025 17:38:29] "GET /loan/118000004/statement HTTP/1.1" 200 -
2025-07-31 17:39:09,969 - INFO - 127.0.0.1 - - [31/Jul/2025 17:39:09] "GET /loanbook HTTP/1.1" 200 -
2025-07-31 17:39:13,261 - INFO - 127.0.0.1 - - [31/Jul/2025 17:39:13] "GET /loan/112000001/statement HTTP/1.1" 200 -
2025-07-31 17:39:20,394 - INFO - 127.0.0.1 - - [31/Jul/2025 17:39:20] "GET /loanbook HTTP/1.1" 200 -
[2025-07-31 17:39:23,997] INFO in app: Found 1 loans for customer 202507000002
2025-07-31 17:39:23,997 - INFO - Found 1 loans for customer 202507000002
[2025-07-31 17:39:24,001] INFO in app: Customer ID: 2
2025-07-31 17:39:24,001 - INFO - Customer ID: 2
[2025-07-31 17:39:24,008] INFO in app: Found Loans: [('136000002', 'active')]
2025-07-31 17:39:24,008 - INFO - Found Loans: [('136000002', 'active')]
2025-07-31 17:39:24,018 - INFO - 127.0.0.1 - - [31/Jul/2025 17:39:24] "GET /customer/202507000002/account HTTP/1.1" 200 -
[2025-07-31 17:39:28,751] INFO in app: Found 1 loans for customer 202507000002
2025-07-31 17:39:28,751 - INFO - Found 1 loans for customer 202507000002
[2025-07-31 17:39:28,760] INFO in app: Customer ID: 2
2025-07-31 17:39:28,760 - INFO - Customer ID: 2
[2025-07-31 17:39:28,768] INFO in app: Found Loans: [('136000002', 'active')]
2025-07-31 17:39:28,768 - INFO - Found Loans: [('136000002', 'active')]
2025-07-31 17:39:28,815 - INFO - 127.0.0.1 - - [31/Jul/2025 17:39:28] "GET /customer/202507000002/account?section=topup HTTP/1.1" 200 -
[2025-07-31 17:40:01,041] INFO in app: [TOPUP] Submit route hit for loan 2
2025-07-31 17:40:01,041 - INFO - [TOPUP] Submit route hit for loan 2
[2025-07-31 17:40:01,182] INFO in app: [136000002] Top-up payment → principal: 0.0, interest: 0.0
2025-07-31 17:40:01,182 - INFO - [136000002] Top-up payment → principal: 0.0, interest: 0.0
[2025-07-31 17:40:01,186] INFO in app: [136000002] Loan marked as closed after top-up.
2025-07-31 17:40:01,186 - INFO - [136000002] Loan marked as closed after top-up.
2025-07-31 17:40:01,241 - INFO - 127.0.0.1 - - [31/Jul/2025 17:40:01] "[32mPOST /topup/2 HTTP/1.1[0m" 302 -
[2025-07-31 17:40:01,333] INFO in app: Found 2 loans for customer 202507000002
2025-07-31 17:40:01,333 - INFO - Found 2 loans for customer 202507000002
[2025-07-31 17:40:01,337] INFO in app: Customer ID: 2
2025-07-31 17:40:01,337 - INFO - Customer ID: 2
[2025-07-31 17:40:01,342] INFO in app: Found Loans: [('136000002', 'settled_client'), ('136000006', 'application')]
2025-07-31 17:40:01,342 - INFO - Found Loans: [('136000002', 'settled_client'), ('136000006', 'application')]
2025-07-31 17:40:01,398 - INFO - 127.0.0.1 - - [31/Jul/2025 17:40:01] "GET /customer/202507000002/account?section=statement HTTP/1.1" 200 -
2025-07-31 17:40:04,305 - INFO - 127.0.0.1 - - [31/Jul/2025 17:40:04] "GET /loans HTTP/1.1" 200 -
2025-07-31 17:40:09,655 - INFO - 127.0.0.1 - - [31/Jul/2025 17:40:09] "[32mPOST /process_loan/6/approve HTTP/1.1[0m" 302 -
2025-07-31 17:40:09,722 - INFO - 127.0.0.1 - - [31/Jul/2025 17:40:09] "GET /loans HTTP/1.1" 200 -
2025-07-31 17:40:15,863 - INFO - 127.0.0.1 - - [31/Jul/2025 17:40:15] "GET /loanbook HTTP/1.1" 200 -
2025-07-31 17:40:32,121 - INFO - 127.0.0.1 - - [31/Jul/2025 17:40:32] "GET /loan/136000002/statement HTTP/1.1" 200 -
2025-07-31 17:44:35,008 - INFO - 127.0.0.1 - - [31/Jul/2025 17:44:35] "GET /loanbook HTTP/1.1" 200 -
[2025-07-31 17:44:39,953] INFO in app: Found 2 loans for customer 202507000002
2025-07-31 17:44:39,953 - INFO - Found 2 loans for customer 202507000002
[2025-07-31 17:44:39,977] INFO in app: Customer ID: 2
2025-07-31 17:44:39,977 - INFO - Customer ID: 2
[2025-07-31 17:44:39,990] INFO in app: Found Loans: [('136000002', 'settled_client'), ('136000006', 'active')]
2025-07-31 17:44:39,990 - INFO - Found Loans: [('136000002', 'settled_client'), ('136000006', 'active')]
2025-07-31 17:44:40,013 - INFO - 127.0.0.1 - - [31/Jul/2025 17:44:40] "GET /customer/202507000002/account HTTP/1.1" 200 -
2025-07-31 17:53:34,113 - INFO - 127.0.0.1 - - [31/Jul/2025 17:53:34] "GET /loan/136000002/statement HTTP/1.1" 200 -
2025-07-31 17:59:31,076 - INFO - Scheduler has been shut down
[2025-07-31 17:59:36,002] INFO in app: ==================================================
[2025-07-31 17:59:36,020] INFO in app: Application logging initialized successfully
[2025-07-31 17:59:36,077] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 17:59:36,080] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 17:59:36,082] INFO in app: System encoding: utf-8
[2025-07-31 17:59:36,085] INFO in app: ==================================================
2025-07-31 17:59:36,348 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 17:59:36,350 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 17:59:36,350 - INFO - Scheduler started
2025-07-31 17:59:36,367 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 17:59:36,367 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 17:59:36,368 - INFO - Scheduler started
2025-07-31 17:59:36,384 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 17:59:36,384 - INFO - [33mPress CTRL+C to quit[0m
2025-07-31 17:59:41,606 - INFO - 127.0.0.1 - - [31/Jul/2025 17:59:41] "GET /loan/136000002/statement HTTP/1.1" 200 -
2025-07-31 17:59:42,586 - INFO - 127.0.0.1 - - [31/Jul/2025 17:59:42] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-31 18:02:54,609 - INFO - Scheduler has been shut down
[2025-07-31 18:02:58,905] INFO in app: ==================================================
[2025-07-31 18:02:58,917] INFO in app: Application logging initialized successfully
[2025-07-31 18:02:58,920] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 18:02:58,927] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 18:02:58,930] INFO in app: System encoding: utf-8
[2025-07-31 18:02:58,932] INFO in app: ==================================================
2025-07-31 18:02:59,205 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 18:02:59,207 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 18:02:59,207 - INFO - Scheduler started
2025-07-31 18:02:59,224 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 18:02:59,225 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 18:02:59,225 - INFO - Scheduler started
2025-07-31 18:02:59,247 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 18:02:59,247 - INFO - [33mPress CTRL+C to quit[0m
2025-07-31 18:03:05,697 - INFO - 127.0.0.1 - - [31/Jul/2025 18:03:05] "GET /loan/136000002/statement HTTP/1.1" 200 -
2025-07-31 18:03:06,543 - INFO - 127.0.0.1 - - [31/Jul/2025 18:03:06] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-31 18:03:16,457 - INFO - 127.0.0.1 - - [31/Jul/2025 18:03:16] "GET /loanbook HTTP/1.1" 200 -
2025-07-31 18:09:52,361 - INFO - Scheduler has been shut down
[2025-07-31 18:09:55,793] INFO in app: ==================================================
[2025-07-31 18:09:55,800] INFO in app: Application logging initialized successfully
[2025-07-31 18:09:55,803] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 18:09:55,804] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 18:09:55,806] INFO in app: System encoding: utf-8
[2025-07-31 18:09:55,810] INFO in app: ==================================================
2025-07-31 18:09:55,992 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 18:09:55,993 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 18:09:55,993 - INFO - Scheduler started
2025-07-31 18:09:56,004 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 18:09:56,004 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 18:09:56,004 - INFO - Scheduler started
2025-07-31 18:09:56,018 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 18:09:56,018 - INFO - [33mPress CTRL+C to quit[0m
2025-07-31 18:09:59,961 - INFO - 127.0.0.1 - - [31/Jul/2025 18:09:59] "GET /loanbook HTTP/1.1" 200 -
2025-07-31 18:10:01,097 - INFO - 127.0.0.1 - - [31/Jul/2025 18:10:01] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-31 18:15:49,646 - INFO - Scheduler has been shut down
[2025-07-31 18:15:53,554] INFO in app: ==================================================
[2025-07-31 18:15:53,562] INFO in app: Application logging initialized successfully
[2025-07-31 18:15:53,566] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 18:15:53,568] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 18:15:53,576] INFO in app: System encoding: utf-8
[2025-07-31 18:15:53,578] INFO in app: ==================================================
2025-07-31 18:15:53,829 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 18:15:53,831 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 18:15:53,831 - INFO - Scheduler started
2025-07-31 18:15:53,846 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 18:15:53,846 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 18:15:53,846 - INFO - Scheduler started
2025-07-31 18:15:53,868 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 18:15:53,868 - INFO - [33mPress CTRL+C to quit[0m
2025-07-31 18:16:06,249 - INFO - 127.0.0.1 - - [31/Jul/2025 18:16:06] "GET /loanbook HTTP/1.1" 200 -
2025-07-31 18:16:07,235 - INFO - 127.0.0.1 - - [31/Jul/2025 18:16:07] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-31 18:16:20,391 - INFO - 127.0.0.1 - - [31/Jul/2025 18:16:20] "GET /loan/112000001/statement HTTP/1.1" 200 -
2025-07-31 18:16:37,036 - INFO - 127.0.0.1 - - [31/Jul/2025 18:16:37] "GET /loanbook HTTP/1.1" 200 -
2025-07-31 18:16:40,492 - INFO - 127.0.0.1 - - [31/Jul/2025 18:16:40] "GET /loan/136000006/statement HTTP/1.1" 200 -
2025-07-31 18:16:45,113 - INFO - 127.0.0.1 - - [31/Jul/2025 18:16:45] "GET /loanbook HTTP/1.1" 200 -
[2025-07-31 18:16:48,873] INFO in app: Found 2 loans for customer 202507000002
2025-07-31 18:16:48,873 - INFO - Found 2 loans for customer 202507000002
[2025-07-31 18:16:48,879] INFO in app: Customer ID: 2
2025-07-31 18:16:48,879 - INFO - Customer ID: 2
[2025-07-31 18:16:48,889] INFO in app: Found Loans: [('136000002', 'settled_client'), ('136000006', 'active')]
2025-07-31 18:16:48,889 - INFO - Found Loans: [('136000002', 'settled_client'), ('136000006', 'active')]
2025-07-31 18:16:48,979 - INFO - 127.0.0.1 - - [31/Jul/2025 18:16:48] "GET /customer/202507000002/account HTTP/1.1" 200 -
[2025-07-31 18:16:51,939] INFO in app: Found 2 loans for customer 202507000002
2025-07-31 18:16:51,939 - INFO - Found 2 loans for customer 202507000002
[2025-07-31 18:16:51,943] INFO in app: Customer ID: 2
2025-07-31 18:16:51,943 - INFO - Customer ID: 2
[2025-07-31 18:16:51,951] INFO in app: Found Loans: [('136000002', 'settled_client'), ('136000006', 'active')]
2025-07-31 18:16:51,951 - INFO - Found Loans: [('136000002', 'settled_client'), ('136000006', 'active')]
2025-07-31 18:16:52,141 - INFO - 127.0.0.1 - - [31/Jul/2025 18:16:52] "GET /customer/202507000002/account?section=topup HTTP/1.1" 200 -
[2025-07-31 18:17:33,043] INFO in app: [TOPUP] Submit route hit for loan 6
2025-07-31 18:17:33,043 - INFO - [TOPUP] Submit route hit for loan 6
[2025-07-31 18:17:33,140] INFO in app: [136000006] Top-up payment → principal: 2222965.83, interest: 208465.83
2025-07-31 18:17:33,140 - INFO - [136000006] Top-up payment → principal: 2222965.83, interest: 208465.83
[2025-07-31 18:17:33,142] INFO in app: [136000006] Loan marked as closed after top-up.
2025-07-31 18:17:33,142 - INFO - [136000006] Loan marked as closed after top-up.
2025-07-31 18:17:33,184 - INFO - 127.0.0.1 - - [31/Jul/2025 18:17:33] "[32mPOST /topup/6 HTTP/1.1[0m" 302 -
[2025-07-31 18:17:33,350] INFO in app: Found 3 loans for customer 202507000002
2025-07-31 18:17:33,350 - INFO - Found 3 loans for customer 202507000002
[2025-07-31 18:17:33,353] INFO in app: Customer ID: 2
2025-07-31 18:17:33,353 - INFO - Customer ID: 2
[2025-07-31 18:17:33,358] INFO in app: Found Loans: [('136000002', 'settled_client'), ('136000006', 'settled_client'), ('124000007', 'application')]
2025-07-31 18:17:33,358 - INFO - Found Loans: [('136000002', 'settled_client'), ('136000006', 'settled_client'), ('124000007', 'application')]
2025-07-31 18:17:33,411 - INFO - 127.0.0.1 - - [31/Jul/2025 18:17:33] "GET /customer/202507000002/account?section=statement HTTP/1.1" 200 -
2025-07-31 18:17:36,045 - INFO - 127.0.0.1 - - [31/Jul/2025 18:17:36] "GET /loans HTTP/1.1" 200 -
2025-07-31 18:17:38,871 - INFO - 127.0.0.1 - - [31/Jul/2025 18:17:38] "[32mPOST /process_loan/7/approve HTTP/1.1[0m" 302 -
2025-07-31 18:17:38,948 - INFO - 127.0.0.1 - - [31/Jul/2025 18:17:38] "GET /loans HTTP/1.1" 200 -
2025-07-31 18:17:47,141 - INFO - 127.0.0.1 - - [31/Jul/2025 18:17:47] "GET /loanbook HTTP/1.1" 200 -
[2025-07-31 18:17:56,655] INFO in app: Found 3 loans for customer 202507000002
2025-07-31 18:17:56,655 - INFO - Found 3 loans for customer 202507000002
[2025-07-31 18:17:56,660] INFO in app: Customer ID: 2
2025-07-31 18:17:56,660 - INFO - Customer ID: 2
[2025-07-31 18:17:56,670] INFO in app: Found Loans: [('136000002', 'settled_client'), ('136000006', 'settled_client'), ('124000007', 'active')]
2025-07-31 18:17:56,670 - INFO - Found Loans: [('136000002', 'settled_client'), ('136000006', 'settled_client'), ('124000007', 'active')]
2025-07-31 18:17:56,726 - INFO - 127.0.0.1 - - [31/Jul/2025 18:17:56] "GET /customer/202507000002/account HTTP/1.1" 200 -
2025-07-31 18:18:01,237 - INFO - 127.0.0.1 - - [31/Jul/2025 18:18:01] "GET /loan/136000006/statement HTTP/1.1" 200 -
2025-07-31 19:42:32,501 - INFO - Scheduler has been shut down
[2025-07-31 19:42:37,067] INFO in app: ==================================================
[2025-07-31 19:42:37,081] INFO in app: Application logging initialized successfully
[2025-07-31 19:42:37,091] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 19:42:37,094] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 19:42:37,097] INFO in app: System encoding: utf-8
[2025-07-31 19:42:37,100] INFO in app: ==================================================
2025-07-31 19:42:37,389 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 19:42:37,391 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 19:42:37,392 - INFO - Scheduler started
2025-07-31 19:42:37,412 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 19:42:37,412 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 19:42:37,412 - INFO - Scheduler started
2025-07-31 19:42:37,435 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 19:42:37,436 - INFO - [33mPress CTRL+C to quit[0m
2025-07-31 19:42:43,637 - INFO - 127.0.0.1 - - [31/Jul/2025 19:42:43] "[32mGET /loan/136000006/statement HTTP/1.1[0m" 302 -
2025-07-31 19:42:43,693 - INFO - 127.0.0.1 - - [31/Jul/2025 19:42:43] "GET /loanbook HTTP/1.1" 200 -
2025-07-31 19:42:44,515 - INFO - 127.0.0.1 - - [31/Jul/2025 19:42:44] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-31 19:45:12,201 - INFO - Scheduler has been shut down
[2025-07-31 19:45:15,732] INFO in app: ==================================================
[2025-07-31 19:45:15,744] INFO in app: Application logging initialized successfully
[2025-07-31 19:45:15,748] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 19:45:15,752] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 19:45:15,755] INFO in app: System encoding: utf-8
[2025-07-31 19:45:15,758] INFO in app: ==================================================
2025-07-31 19:45:16,013 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 19:45:16,014 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 19:45:16,014 - INFO - Scheduler started
2025-07-31 19:45:16,027 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 19:45:16,028 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 19:45:16,028 - INFO - Scheduler started
2025-07-31 19:45:16,042 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 19:45:16,043 - INFO - [33mPress CTRL+C to quit[0m
2025-07-31 19:45:20,655 - INFO - 127.0.0.1 - - [31/Jul/2025 19:45:20] "GET /loanbook HTTP/1.1" 200 -
2025-07-31 19:45:21,598 - INFO - 127.0.0.1 - - [31/Jul/2025 19:45:21] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-31 19:45:29,719 - INFO - 127.0.0.1 - - [31/Jul/2025 19:45:29] "[32mGET /loan/136000006/statement HTTP/1.1[0m" 302 -
2025-07-31 19:45:30,010 - INFO - 127.0.0.1 - - [31/Jul/2025 19:45:30] "GET /loanbook HTTP/1.1" 200 -
2025-07-31 19:49:01,732 - INFO - Scheduler has been shut down
[2025-07-31 19:49:05,879] INFO in app: ==================================================
[2025-07-31 19:49:05,893] INFO in app: Application logging initialized successfully
[2025-07-31 19:49:05,899] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 19:49:05,909] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 19:49:05,917] INFO in app: System encoding: utf-8
[2025-07-31 19:49:05,920] INFO in app: ==================================================
2025-07-31 19:49:06,160 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 19:49:06,162 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 19:49:06,162 - INFO - Scheduler started
2025-07-31 19:49:06,176 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 19:49:06,176 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 19:49:06,176 - INFO - Scheduler started
2025-07-31 19:49:06,192 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 19:49:06,192 - INFO - [33mPress CTRL+C to quit[0m
2025-07-31 19:49:10,893 - INFO - 127.0.0.1 - - [31/Jul/2025 19:49:10] "GET /loanbook HTTP/1.1" 200 -
2025-07-31 19:49:11,701 - INFO - 127.0.0.1 - - [31/Jul/2025 19:49:11] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-31 19:49:13,201 - INFO - 127.0.0.1 - - [31/Jul/2025 19:49:13] "[32mGET /loan/118000004/statement HTTP/1.1[0m" 302 -
2025-07-31 19:49:13,510 - INFO - 127.0.0.1 - - [31/Jul/2025 19:49:13] "GET /loanbook HTTP/1.1" 200 -
[2025-07-31 19:49:17,963] INFO in app: Found 4 loans for customer 202507000001
2025-07-31 19:49:17,963 - INFO - Found 4 loans for customer 202507000001
[2025-07-31 19:49:17,965] ERROR in app: Account view error: 'PaymentAllocation' object has no attribute 'loan'
2025-07-31 19:49:17,965 - ERROR - Account view error: 'PaymentAllocation' object has no attribute 'loan'
2025-07-31 19:49:17,972 - INFO - 127.0.0.1 - - [31/Jul/2025 19:49:17] "[32mGET /customer/202507000001/account HTTP/1.1[0m" 302 -
2025-07-31 19:49:18,111 - INFO - 127.0.0.1 - - [31/Jul/2025 19:49:18] "GET / HTTP/1.1" 200 -
2025-07-31 19:54:26,874 - INFO - Scheduler has been shut down
[2025-07-31 19:54:31,033] INFO in app: ==================================================
[2025-07-31 19:54:31,051] INFO in app: Application logging initialized successfully
[2025-07-31 19:54:31,054] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 19:54:31,056] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 19:54:31,059] INFO in app: System encoding: utf-8
[2025-07-31 19:54:31,070] INFO in app: ==================================================
2025-07-31 19:54:31,308 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 19:54:31,310 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 19:54:31,310 - INFO - Scheduler started
2025-07-31 19:54:31,323 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 19:54:31,324 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 19:54:31,324 - INFO - Scheduler started
2025-07-31 19:54:31,340 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 19:54:31,340 - INFO - [33mPress CTRL+C to quit[0m
2025-07-31 19:54:35,067 - INFO - 127.0.0.1 - - [31/Jul/2025 19:54:35] "GET / HTTP/1.1" 200 -
2025-07-31 19:54:36,323 - INFO - 127.0.0.1 - - [31/Jul/2025 19:54:36] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-31 19:54:37,326 - INFO - 127.0.0.1 - - [31/Jul/2025 19:54:37] "GET /loanbook HTTP/1.1" 200 -
[2025-07-31 19:54:38,823] INFO in app: Found 4 loans for customer 202507000001
2025-07-31 19:54:38,823 - INFO - Found 4 loans for customer 202507000001
2025-07-31 19:54:38,865 - INFO - 127.0.0.1 - - [31/Jul/2025 19:54:38] "GET /customer/202507000001/account HTTP/1.1" 200 -
[2025-07-31 19:54:47,922] INFO in app: Found 4 loans for customer 202507000001
2025-07-31 19:54:47,922 - INFO - Found 4 loans for customer 202507000001
2025-07-31 19:54:47,943 - INFO - 127.0.0.1 - - [31/Jul/2025 19:54:47] "GET /customer/202507000001/account?section=topup HTTP/1.1" 200 -
[2025-07-31 19:55:18,232] INFO in app: [TOPUP] Submit route hit for loan 3
2025-07-31 19:55:18,232 - INFO - [TOPUP] Submit route hit for loan 3
[2025-07-31 19:55:18,294] INFO in app: [124000003] Top-up payment → principal: 0.0, interest: 0.0
2025-07-31 19:55:18,294 - INFO - [124000003] Top-up payment → principal: 0.0, interest: 0.0
[2025-07-31 19:55:18,298] INFO in app: [124000003] Loan marked as closed after top-up.
2025-07-31 19:55:18,298 - INFO - [124000003] Loan marked as closed after top-up.
2025-07-31 19:55:18,326 - INFO - 127.0.0.1 - - [31/Jul/2025 19:55:18] "[32mPOST /topup/3 HTTP/1.1[0m" 302 -
[2025-07-31 19:55:18,530] INFO in app: Found 5 loans for customer 202507000001
2025-07-31 19:55:18,530 - INFO - Found 5 loans for customer 202507000001
2025-07-31 19:55:18,540 - INFO - 127.0.0.1 - - [31/Jul/2025 19:55:18] "GET /customer/202507000001/account?section=statement HTTP/1.1" 200 -
2025-07-31 19:55:19,839 - INFO - 127.0.0.1 - - [31/Jul/2025 19:55:19] "GET /loans HTTP/1.1" 200 -
2025-07-31 19:55:23,336 - INFO - 127.0.0.1 - - [31/Jul/2025 19:55:23] "[32mPOST /process_loan/8/approve HTTP/1.1[0m" 302 -
2025-07-31 19:55:23,379 - INFO - 127.0.0.1 - - [31/Jul/2025 19:55:23] "GET /loans HTTP/1.1" 200 -
2025-07-31 19:55:25,965 - INFO - 127.0.0.1 - - [31/Jul/2025 19:55:25] "GET /loanbook HTTP/1.1" 200 -
2025-07-31 19:55:44,844 - INFO - 127.0.0.1 - - [31/Jul/2025 19:55:44] "GET /loan/124000008/statement HTTP/1.1" 200 -
2025-07-31 19:55:50,357 - INFO - 127.0.0.1 - - [31/Jul/2025 19:55:50] "GET /loanbook HTTP/1.1" 200 -
2025-07-31 19:56:02,211 - INFO - 127.0.0.1 - - [31/Jul/2025 19:56:02] "GET /loan/124000003/statement HTTP/1.1" 200 -
2025-07-31 20:15:21,499 - INFO - Scheduler has been shut down
[2025-07-31 20:15:25,250] INFO in app: ==================================================
[2025-07-31 20:15:25,257] INFO in app: Application logging initialized successfully
[2025-07-31 20:15:25,259] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 20:15:25,261] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 20:15:25,262] INFO in app: System encoding: utf-8
[2025-07-31 20:15:25,266] INFO in app: ==================================================
2025-07-31 20:15:25,626 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 20:15:25,627 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 20:15:25,627 - INFO - Scheduler started
2025-07-31 20:15:25,638 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 20:15:25,638 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 20:15:25,638 - INFO - Scheduler started
2025-07-31 20:15:25,654 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 20:15:25,654 - INFO - [33mPress CTRL+C to quit[0m
2025-07-31 20:19:02,449 - INFO - Scheduler has been shut down
[2025-07-31 20:19:06,244] INFO in app: ==================================================
[2025-07-31 20:19:06,251] INFO in app: Application logging initialized successfully
[2025-07-31 20:19:06,254] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 20:19:06,256] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 20:19:06,258] INFO in app: System encoding: utf-8
[2025-07-31 20:19:06,261] INFO in app: ==================================================
2025-07-31 20:19:06,490 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 20:19:06,491 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 20:19:06,492 - INFO - Scheduler started
2025-07-31 20:19:06,505 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 20:19:06,505 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 20:19:06,505 - INFO - Scheduler started
2025-07-31 20:19:06,519 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 20:19:06,520 - INFO - [33mPress CTRL+C to quit[0m
2025-07-31 20:19:11,991 - INFO - 127.0.0.1 - - [31/Jul/2025 20:19:11] "GET /loan/124000003/statement HTTP/1.1" 200 -
2025-07-31 20:19:12,770 - INFO - 127.0.0.1 - - [31/Jul/2025 20:19:12] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-31 20:19:14,937 - INFO - 127.0.0.1 - - [31/Jul/2025 20:19:14] "GET /loanbook HTTP/1.1" 200 -
[2025-07-31 20:19:16,953] INFO in app: Found 5 loans for customer 202507000001
2025-07-31 20:19:16,953 - INFO - Found 5 loans for customer 202507000001
2025-07-31 20:19:16,998 - INFO - 127.0.0.1 - - [31/Jul/2025 20:19:16] "GET /customer/202507000001/account HTTP/1.1" 200 -
[2025-07-31 20:19:20,259] INFO in app: Found 5 loans for customer 202507000001
2025-07-31 20:19:20,259 - INFO - Found 5 loans for customer 202507000001
2025-07-31 20:19:20,272 - INFO - 127.0.0.1 - - [31/Jul/2025 20:19:20] "GET /customer/202507000001/account?section=additional HTTP/1.1" 200 -
[2025-07-31 20:19:29,838] INFO in app: Found 5 loans for customer 202507000001
2025-07-31 20:19:29,838 - INFO - Found 5 loans for customer 202507000001
2025-07-31 20:19:29,862 - INFO - 127.0.0.1 - - [31/Jul/2025 20:19:29] "GET /customer/202507000001/account?section=topup HTTP/1.1" 200 -
2025-07-31 20:34:13,007 - INFO - Scheduler has been shut down
[2025-07-31 20:34:21,106] INFO in app: ==================================================
[2025-07-31 20:34:21,112] INFO in app: Application logging initialized successfully
[2025-07-31 20:34:21,115] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 20:34:21,118] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 20:34:21,125] INFO in app: System encoding: utf-8
[2025-07-31 20:34:21,126] INFO in app: ==================================================
2025-07-31 20:34:21,315 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 20:34:21,316 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 20:34:21,316 - INFO - Scheduler started
2025-07-31 20:34:21,329 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 20:34:21,329 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 20:34:21,329 - INFO - Scheduler started
2025-07-31 20:34:21,346 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 20:34:21,346 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-31 20:34:29,153] INFO in app: Found 5 loans for customer 202507000001
2025-07-31 20:34:29,153 - INFO - Found 5 loans for customer 202507000001
[2025-07-31 20:34:29,155] ERROR in app: Account view error: Mapped instance expected for relationship comparison to object.   Classes, queries and other SQL elements are not accepted in this context; for comparison with a subquery, use User.role.has(**criteria).
2025-07-31 20:34:29,155 - ERROR - Account view error: Mapped instance expected for relationship comparison to object.   Classes, queries and other SQL elements are not accepted in this context; for comparison with a subquery, use User.role.has(**criteria).
2025-07-31 20:34:29,158 - INFO - 127.0.0.1 - - [31/Jul/2025 20:34:29] "[32mGET /customer/202507000001/account?section=topup HTTP/1.1[0m" 302 -
2025-07-31 20:34:29,187 - INFO - 127.0.0.1 - - [31/Jul/2025 20:34:29] "GET / HTTP/1.1" 200 -
2025-07-31 20:34:30,024 - INFO - 127.0.0.1 - - [31/Jul/2025 20:34:30] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-31 21:28:04,770 - INFO - Scheduler has been shut down
[2025-07-31 21:28:08,108] INFO in app: ==================================================
[2025-07-31 21:28:08,116] INFO in app: Application logging initialized successfully
[2025-07-31 21:28:08,120] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 21:28:08,122] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 21:28:08,124] INFO in app: System encoding: utf-8
[2025-07-31 21:28:08,125] INFO in app: ==================================================
2025-07-31 21:28:08,332 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 21:28:08,334 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 21:28:08,334 - INFO - Scheduler started
2025-07-31 21:28:08,345 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 21:28:08,346 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 21:28:08,346 - INFO - Scheduler started
2025-07-31 21:28:08,370 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 21:28:08,370 - INFO - [33mPress CTRL+C to quit[0m
2025-07-31 21:28:14,211 - INFO - 127.0.0.1 - - [31/Jul/2025 21:28:14] "GET / HTTP/1.1" 200 -
2025-07-31 21:28:15,455 - INFO - 127.0.0.1 - - [31/Jul/2025 21:28:15] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-31 21:28:16,491 - INFO - 127.0.0.1 - - [31/Jul/2025 21:28:16] "GET /loanbook HTTP/1.1" 200 -
2025-07-31 21:28:17,784 - INFO - 127.0.0.1 - - [31/Jul/2025 21:28:17] "GET /loan/112000001/statement HTTP/1.1" 200 -
2025-07-31 21:28:26,021 - INFO - 127.0.0.1 - - [31/Jul/2025 21:28:26] "GET /loanbook HTTP/1.1" 200 -
[2025-07-31 21:28:28,523] INFO in app: Found 5 loans for customer 202507000001
2025-07-31 21:28:28,523 - INFO - Found 5 loans for customer 202507000001
[2025-07-31 21:28:28,526] ERROR in app: Account view error: Mapped instance expected for relationship comparison to object.   Classes, queries and other SQL elements are not accepted in this context; for comparison with a subquery, use User.role.has(**criteria).
2025-07-31 21:28:28,526 - ERROR - Account view error: Mapped instance expected for relationship comparison to object.   Classes, queries and other SQL elements are not accepted in this context; for comparison with a subquery, use User.role.has(**criteria).
2025-07-31 21:28:28,536 - INFO - 127.0.0.1 - - [31/Jul/2025 21:28:28] "[32mGET /customer/202507000001/account HTTP/1.1[0m" 302 -
2025-07-31 21:28:28,836 - INFO - 127.0.0.1 - - [31/Jul/2025 21:28:28] "GET / HTTP/1.1" 200 -
2025-07-31 21:43:52,353 - INFO - Scheduler has been shut down
[2025-07-31 21:43:56,021] INFO in app: ==================================================
[2025-07-31 21:43:56,028] INFO in app: Application logging initialized successfully
[2025-07-31 21:43:56,033] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 21:43:56,035] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 21:43:56,037] INFO in app: System encoding: utf-8
[2025-07-31 21:43:56,039] INFO in app: ==================================================
2025-07-31 21:43:56,276 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 21:43:56,277 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 21:43:56,277 - INFO - Scheduler started
2025-07-31 21:43:56,290 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 21:43:56,291 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 21:43:56,291 - INFO - Scheduler started
2025-07-31 21:43:56,306 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 21:43:56,307 - INFO - [33mPress CTRL+C to quit[0m
2025-07-31 21:44:01,954 - INFO - 127.0.0.1 - - [31/Jul/2025 21:44:01] "GET / HTTP/1.1" 200 -
2025-07-31 21:44:03,194 - INFO - 127.0.0.1 - - [31/Jul/2025 21:44:03] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-31 21:44:04,275 - INFO - 127.0.0.1 - - [31/Jul/2025 21:44:04] "GET /loanbook HTTP/1.1" 200 -
2025-07-31 21:44:06,124 - INFO - 127.0.0.1 - - [31/Jul/2025 21:44:06] "GET /loan/112000001/statement HTTP/1.1" 200 -
2025-07-31 21:44:08,970 - INFO - 127.0.0.1 - - [31/Jul/2025 21:44:08] "GET /loanbook HTTP/1.1" 200 -
[2025-07-31 21:44:10,089] INFO in app: Found 5 loans for customer 202507000001
2025-07-31 21:44:10,089 - INFO - Found 5 loans for customer 202507000001
[2025-07-31 21:44:10,096] ERROR in app: Account view error: Mapped instance expected for relationship comparison to object.   Classes, queries and other SQL elements are not accepted in this context; for comparison with a subquery, use User.role.has(**criteria).
2025-07-31 21:44:10,096 - ERROR - Account view error: Mapped instance expected for relationship comparison to object.   Classes, queries and other SQL elements are not accepted in this context; for comparison with a subquery, use User.role.has(**criteria).
2025-07-31 21:44:10,105 - INFO - 127.0.0.1 - - [31/Jul/2025 21:44:10] "[32mGET /customer/202507000001/account HTTP/1.1[0m" 302 -
2025-07-31 21:44:10,397 - INFO - 127.0.0.1 - - [31/Jul/2025 21:44:10] "GET / HTTP/1.1" 200 -
2025-07-31 21:49:44,025 - INFO - Scheduler has been shut down
[2025-07-31 21:49:48,662] INFO in app: ==================================================
[2025-07-31 21:49:48,675] INFO in app: Application logging initialized successfully
[2025-07-31 21:49:48,680] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 21:49:48,686] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 21:49:48,688] INFO in app: System encoding: utf-8
[2025-07-31 21:49:48,691] INFO in app: ==================================================
2025-07-31 21:49:49,034 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 21:49:49,036 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 21:49:49,037 - INFO - Scheduler started
2025-07-31 21:49:49,061 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 21:49:49,062 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 21:49:49,062 - INFO - Scheduler started
2025-07-31 21:49:49,089 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 21:49:49,089 - INFO - [33mPress CTRL+C to quit[0m
2025-07-31 21:49:55,237 - INFO - 127.0.0.1 - - [31/Jul/2025 21:49:55] "GET / HTTP/1.1" 200 -
2025-07-31 21:49:56,732 - INFO - 127.0.0.1 - - [31/Jul/2025 21:49:56] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-31 21:49:57,486 - INFO - 127.0.0.1 - - [31/Jul/2025 21:49:57] "GET /loanbook HTTP/1.1" 200 -
[2025-07-31 21:49:59,126] INFO in app: Found 6 agents and 5 team leaders
2025-07-31 21:49:59,126 - INFO - Found 6 agents and 5 team leaders
[2025-07-31 21:49:59,142] INFO in app: Found 5 loans for customer 202507000001
2025-07-31 21:49:59,142 - INFO - Found 5 loans for customer 202507000001
2025-07-31 21:49:59,213 - INFO - 127.0.0.1 - - [31/Jul/2025 21:49:59] "GET /customer/202507000001/account HTTP/1.1" 200 -
[2025-07-31 21:50:08,431] INFO in app: Found 6 agents and 5 team leaders
2025-07-31 21:50:08,431 - INFO - Found 6 agents and 5 team leaders
[2025-07-31 21:50:08,437] INFO in app: Found 5 loans for customer 202507000001
2025-07-31 21:50:08,437 - INFO - Found 5 loans for customer 202507000001
2025-07-31 21:50:08,453 - INFO - 127.0.0.1 - - [31/Jul/2025 21:50:08] "GET /customer/202507000001/account?section=additional HTTP/1.1" 200 -
2025-07-31 21:50:50,365 - INFO - 127.0.0.1 - - [31/Jul/2025 21:50:50] "[32mPOST /apply_additional/1 HTTP/1.1[0m" 302 -
[2025-07-31 21:50:50,649] INFO in app: Found 6 agents and 5 team leaders
2025-07-31 21:50:50,649 - INFO - Found 6 agents and 5 team leaders
[2025-07-31 21:50:50,660] INFO in app: Found 5 loans for customer 202507000001
2025-07-31 21:50:50,660 - INFO - Found 5 loans for customer 202507000001
2025-07-31 21:50:50,685 - INFO - 127.0.0.1 - - [31/Jul/2025 21:50:50] "GET /customer/202507000001/account?section=additional HTTP/1.1" 200 -
2025-07-31 21:59:07,079 - INFO - Scheduler has been shut down
[2025-07-31 21:59:11,678] INFO in app: ==================================================
[2025-07-31 21:59:11,690] INFO in app: Application logging initialized successfully
[2025-07-31 21:59:11,693] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 21:59:11,695] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 21:59:11,701] INFO in app: System encoding: utf-8
[2025-07-31 21:59:11,707] INFO in app: ==================================================
2025-07-31 21:59:11,960 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 21:59:11,961 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 21:59:11,961 - INFO - Scheduler started
2025-07-31 21:59:11,976 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 21:59:11,976 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 21:59:11,976 - INFO - Scheduler started
2025-07-31 21:59:11,994 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 21:59:11,995 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-31 21:59:18,730] INFO in app: Found 6 agents and 5 team leaders
2025-07-31 21:59:18,730 - INFO - Found 6 agents and 5 team leaders
[2025-07-31 21:59:18,746] INFO in app: Found 5 loans for customer 202507000001
2025-07-31 21:59:18,746 - INFO - Found 5 loans for customer 202507000001
2025-07-31 21:59:18,836 - INFO - 127.0.0.1 - - [31/Jul/2025 21:59:18] "GET /customer/202507000001/account?section=additional HTTP/1.1" 200 -
2025-07-31 21:59:19,577 - INFO - 127.0.0.1 - - [31/Jul/2025 21:59:19] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-31 21:59:55,103 - INFO - 127.0.0.1 - - [31/Jul/2025 21:59:55] "[32mPOST /apply_additional/1 HTTP/1.1[0m" 302 -
[2025-07-31 21:59:55,393] INFO in app: Found 6 agents and 5 team leaders
2025-07-31 21:59:55,393 - INFO - Found 6 agents and 5 team leaders
[2025-07-31 21:59:55,406] INFO in app: Found 5 loans for customer 202507000001
2025-07-31 21:59:55,406 - INFO - Found 5 loans for customer 202507000001
2025-07-31 21:59:55,429 - INFO - 127.0.0.1 - - [31/Jul/2025 21:59:55] "GET /customer/202507000001/account?section=additional HTTP/1.1" 200 -
2025-07-31 22:00:57,159 - INFO - Scheduler has been shut down
[2025-07-31 22:01:00,851] INFO in app: ==================================================
[2025-07-31 22:01:00,857] INFO in app: Application logging initialized successfully
[2025-07-31 22:01:00,861] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 22:01:00,863] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 22:01:00,873] INFO in app: System encoding: utf-8
[2025-07-31 22:01:00,874] INFO in app: ==================================================
2025-07-31 22:01:01,089 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 22:01:01,090 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 22:01:01,090 - INFO - Scheduler started
2025-07-31 22:01:01,103 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 22:01:01,104 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 22:01:01,104 - INFO - Scheduler started
2025-07-31 22:01:01,118 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 22:01:01,118 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-31 22:01:05,726] INFO in app: Found 6 agents and 5 team leaders
2025-07-31 22:01:05,726 - INFO - Found 6 agents and 5 team leaders
[2025-07-31 22:01:05,742] INFO in app: Found 5 loans for customer 202507000001
2025-07-31 22:01:05,742 - INFO - Found 5 loans for customer 202507000001
2025-07-31 22:01:05,811 - INFO - 127.0.0.1 - - [31/Jul/2025 22:01:05] "GET /customer/202507000001/account?section=additional HTTP/1.1" 200 -
2025-07-31 22:01:07,089 - INFO - 127.0.0.1 - - [31/Jul/2025 22:01:07] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-31 22:01:36,398 - INFO - 127.0.0.1 - - [31/Jul/2025 22:01:36] "[32mPOST /apply_additional/1 HTTP/1.1[0m" 302 -
[2025-07-31 22:01:36,409] INFO in app: Found 6 agents and 5 team leaders
2025-07-31 22:01:36,409 - INFO - Found 6 agents and 5 team leaders
[2025-07-31 22:01:36,412] INFO in app: Found 5 loans for customer 202507000001
2025-07-31 22:01:36,412 - INFO - Found 5 loans for customer 202507000001
2025-07-31 22:01:36,419 - INFO - 127.0.0.1 - - [31/Jul/2025 22:01:36] "GET /customer/202507000001/account?section=additional HTTP/1.1" 200 -
2025-07-31 22:02:01,013 - INFO - Scheduler has been shut down
[2025-07-31 22:02:04,641] INFO in app: ==================================================
[2025-07-31 22:02:04,649] INFO in app: Application logging initialized successfully
[2025-07-31 22:02:04,652] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 22:02:04,655] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 22:02:04,657] INFO in app: System encoding: utf-8
[2025-07-31 22:02:04,666] INFO in app: ==================================================
2025-07-31 22:02:04,945 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 22:02:04,948 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 22:02:04,948 - INFO - Scheduler started
2025-07-31 22:02:04,974 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 22:02:04,975 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 22:02:04,975 - INFO - Scheduler started
2025-07-31 22:02:05,021 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 22:02:05,021 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-31 22:02:07,482] INFO in app: Found 6 agents and 5 team leaders
2025-07-31 22:02:07,482 - INFO - Found 6 agents and 5 team leaders
[2025-07-31 22:02:07,501] INFO in app: Found 5 loans for customer 202507000001
2025-07-31 22:02:07,501 - INFO - Found 5 loans for customer 202507000001
2025-07-31 22:02:07,574 - INFO - 127.0.0.1 - - [31/Jul/2025 22:02:07] "GET /customer/202507000001/account?section=additional HTTP/1.1" 200 -
2025-07-31 22:02:08,872 - INFO - 127.0.0.1 - - [31/Jul/2025 22:02:08] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-07-31 22:02:09,431] INFO in app: Found 6 agents and 5 team leaders
2025-07-31 22:02:09,431 - INFO - Found 6 agents and 5 team leaders
[2025-07-31 22:02:09,437] INFO in app: Found 5 loans for customer 202507000001
2025-07-31 22:02:09,437 - INFO - Found 5 loans for customer 202507000001
2025-07-31 22:02:09,466 - INFO - 127.0.0.1 - - [31/Jul/2025 22:02:09] "GET /customer/202507000001/account?section=additional HTTP/1.1" 200 -
2025-07-31 22:02:10,099 - INFO - 127.0.0.1 - - [31/Jul/2025 22:02:10] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-31 22:02:34,325 - INFO - 127.0.0.1 - - [31/Jul/2025 22:02:34] "[32mPOST /apply_additional/1 HTTP/1.1[0m" 302 -
[2025-07-31 22:02:34,332] INFO in app: Found 6 agents and 5 team leaders
2025-07-31 22:02:34,332 - INFO - Found 6 agents and 5 team leaders
[2025-07-31 22:02:34,338] INFO in app: Found 5 loans for customer 202507000001
2025-07-31 22:02:34,338 - INFO - Found 5 loans for customer 202507000001
2025-07-31 22:02:34,356 - INFO - 127.0.0.1 - - [31/Jul/2025 22:02:34] "GET /customer/202507000001/account?section=additional HTTP/1.1" 200 -
2025-07-31 22:48:06,182 - INFO - Scheduler has been shut down
[2025-07-31 22:48:11,057] INFO in app: ==================================================
[2025-07-31 22:48:11,127] INFO in app: Application logging initialized successfully
[2025-07-31 22:48:11,129] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 22:48:11,130] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 22:48:11,132] INFO in app: System encoding: utf-8
[2025-07-31 22:48:11,133] INFO in app: ==================================================
2025-07-31 22:48:11,388 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 22:48:11,389 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 22:48:11,389 - INFO - Scheduler started
2025-07-31 22:48:11,400 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 22:48:11,400 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 22:48:11,400 - INFO - Scheduler started
2025-07-31 22:48:11,446 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 22:48:11,446 - INFO - [33mPress CTRL+C to quit[0m
2025-07-31 22:48:32,798 - INFO - Scheduler has been shut down
[2025-07-31 22:48:36,667] INFO in app: ==================================================
[2025-07-31 22:48:36,674] INFO in app: Application logging initialized successfully
[2025-07-31 22:48:36,676] INFO in app: Log directory: C:\Users\pc\loan-app\logs
[2025-07-31 22:48:36,678] INFO in app: Python version: 3.13.3 (tags/v3.13.3:6280bb5, Apr  8 2025, 14:47:33) [MSC v.1943 64 bit (AMD64)]
[2025-07-31 22:48:36,681] INFO in app: System encoding: utf-8
[2025-07-31 22:48:36,684] INFO in app: ==================================================
2025-07-31 22:48:36,909 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 22:48:36,910 - INFO - Added job "snapshot_par" to job store "default"
2025-07-31 22:48:36,911 - INFO - Scheduler started
2025-07-31 22:48:36,924 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-31 22:48:36,924 - INFO - Added job "send_sales_notification_email" to job store "default"
2025-07-31 22:48:36,924 - INFO - Scheduler started
2025-07-31 22:48:36,938 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-07-31 22:48:36,938 - INFO - [33mPress CTRL+C to quit[0m
[2025-07-31 22:48:45,853] INFO in app: Found 6 agents and 5 team leaders
2025-07-31 22:48:45,853 - INFO - Found 6 agents and 5 team leaders
[2025-07-31 22:48:45,871] INFO in app: Found 5 loans for customer 202507000001
2025-07-31 22:48:45,871 - INFO - Found 5 loans for customer 202507000001
2025-07-31 22:48:45,949 - INFO - 127.0.0.1 - - [31/Jul/2025 22:48:45] "GET /customer/202507000001/account?section=additional HTTP/1.1" 200 -
2025-07-31 22:48:57,545 - INFO - 127.0.0.1 - - [31/Jul/2025 22:48:57] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-31 22:49:14,494 - INFO - 127.0.0.1 - - [31/Jul/2025 22:49:14] "[32mPOST /apply_additional/1 HTTP/1.1[0m" 302 -
[2025-07-31 22:49:14,758] INFO in app: Found 6 agents and 5 team leaders
2025-07-31 22:49:14,758 - INFO - Found 6 agents and 5 team leaders
[2025-07-31 22:49:14,761] INFO in app: Found 5 loans for customer 202507000001
2025-07-31 22:49:14,761 - INFO - Found 5 loans for customer 202507000001
2025-07-31 22:49:14,773 - INFO - 127.0.0.1 - - [31/Jul/2025 22:49:14] "GET /customer/202507000001/account?section=additional HTTP/1.1" 200 -
