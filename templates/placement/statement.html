{% extends 'base.html' %}
{% block title %}Placement Statement{% endblock %}

{% block content %}
<div class="container">

    <div class="d-flex justify-content-between align-items-center mb-2 flex-wrap">
        <h5 class="mb-1" style="font-size: 0.9rem; font-weight: 500;">
            Placement Details – <strong style="font-weight: 600;">{{ placement.placement_number }}</strong>
        </h5>

        <div class="btn-group btn-group-sm mb-2">
            <a href="{{ url_for('add_deposit', placement_id=placement.id) }}" class="btn btn-outline-primary">Deposit</a>
            <a href="{{ url_for('withdraw_funds', placement_id=placement.id) }}" class="btn btn-outline-secondary">Withdraw</a>
            <a href="{{ url_for('change_interest_rate', placement_id=placement.id) }}" class="btn btn-outline-info">Change Rate</a>
            <a href="{{ url_for('capitalize_interest', placement_id=placement.id) }}" class="btn btn-outline-success">Capitalize</a>
            <a href="{{ url_for('liquidate_placement', placement_id=placement.id) }}" class="btn btn-outline-danger">Liquidate</a>
        </div>
    </div>

    <p><strong>Accrued Interest:</strong> {{ accrued_interest | format_currency }}
        • <a href="{{ url_for('view_placement_schedule', placement_id=placement.id) }}" class="link-primary">View Schedule</a>
    </p>

    <hr>

    <h6 class="mb-3">Transaction History</h6>
    <table class="table table-sm table-bordered">
        <thead class="table-light">
            <tr>
                <th>Date</th>
                <th>Type</th>
                <th>Description</th>
                <th class="text-end">Amount</th>
            </tr>
        </thead>
        <tbody>
            {% for t in transactions %}
            <tr>
                <td>{{ t.transaction_date.strftime('%Y-%m-%d') }}</td>
                <td>{{ t.transaction_type }}</td>
                <td>{{ t.description or '-' }}</td>
                <td class="text-end">{{ t.amount | format_currency }}</td>
            </tr>
            {% else %}
            <tr><td colspan="4" class="text-center">No transactions</td></tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
