<form action="{{ url_for('borrower_application') }}" method="POST" enctype="multipart/form-data">
    <!-- Personal Information -->
    <div class="form-section">
      <h2>Personal Information</h2>
      <div class="grid-2">
        <div>
          <label for="title">Title</label>
          <select id="title" name="title" required>
            <option value="Mr.">Mr.</option>
            <option value="Mrs.">Mrs.</option>
            <option value="Ms.">Ms.</option>
            <option value="Dr.">Dr.</option>
          </select>
        </div>
        <div>
          <label for="last_name">Surname</label>
          <input type="text" id="last_name" name="last_name" required>
        </div>
        <div>
          <label for="first_name">First Name</label>
          <input type="text" id="first_name" name="first_name" required>
        </div>
        <div>
          <label for="national_id">National ID Number</label>
          <input type="text" id="national_id" name="national_id" required pattern="\d+" title="Only numeric characters allowed">
        </div>
        <div>
          <label for="dob">Date of Birth</label>
          <input type="date" id="dob" name="dob" required>
        </div>
        <div>
          <label for="gender">Gender</label>
          <select id="gender" name="gender" required>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
          </select>
        </div>
        <div>
          <label for="contact">Phone Number</label>
          <input type="text" id="contact" name="contact" pattern="\d{10}" title="Enter a 10-digit phone number" required>
        </div>
        <div>
          <label for="email">Email</label>
          <input type="email" id="email" name="email" required>
        </div>
      </div>
    </div>
  
    <!-- Employment Information -->
    <div class="form-section">
      <h2>Employment Information</h2>
      <div class="grid-2">
        <div>
          <label for="employer">Employer Name</label>
          <input type="text" id="employer" name="employer" required>
        </div>
        <div>
          <label for="job_title">Job Title</label>
          <input type="text" id="job_title" name="job_title" required>
        </div>
        <div>
          <label for="salary">Monthly Salary (MK)</label>
          <input type="number" id="salary" name="salary" step="0.01" min="0" required>
        </div>
        <div>
          <label for="service_length">Length of Service</label>
          <input type="text" id="service_length" name="service_length" placeholder="e.g., 3 years">
        </div>
      </div>
    </div>
  
    <!-- Bank Information -->
    <div class="form-section">
      <h2>Bank Details</h2>
      <div class="grid-2">
        <div>
          <label for="bank_name">Bank Name</label>
          <input type="text" id="bank_name" name="bank_name" required>
        </div>
        <div>
          <label for="bank_account">Account Number</label>
          <input type="text" id="bank_account" name="bank_account" required>
        </div>
        <div>
          <label for="salary_deposited">Salary Deposited Here?</label>
          <select id="salary_deposited" name="salary_deposited" required>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
          </select>
        </div>
      </div>
    </div>
  
    <!-- Loan Request -->
    <div class="form-section">
      <h2>Loan Request</h2>
      <div class="grid-2">
        <div>
          <label for="loan_amount">Requested Amount (MK)</label>
          <input type="number" id="loan_amount" name="loan_amount" min="1" required>
        </div>
        <div>
          <label for="loan_purpose">Loan Purpose</label>
          <select id="loan_purpose" name="loan_purpose" required>
            <option value="Education">Education</option>
            <option value="Housing">Housing</option>
            <option value="Business">Business</option>
            <option value="Farming">Farming</option>
            <option value="Other">Other</option>
          </select>
        </div>
      </div>
    </div>
  
    <!-- Document Upload -->
    <div class="form-section">
      <h2>Supporting Documents</h2>
      <div class="file-upload">
        <p>Upload required documents (PDF, JPG, PNG)</p>
        <input type="file" id="documents" name="documents" accept=".pdf,.jpg,.jpeg,.png" multiple onchange="updateFileList()" required>
        <ul id="fileList" style="margin-top: 0.5rem; color: #444;"></ul>
        <div style="margin-top: 1rem; color: #666;">
          Required: National ID, Latest Payslip, Bank Statements
        </div>
      </div>
    </div>
  
    <!-- Declaration -->
    <div class="form-section">
      <h2>Declaration</h2>
      <div>
        <input type="checkbox" id="declaration" name="declaration" required>
        <label for="declaration">I confirm all information provided is accurate and complete.</label>
      </div>
      <div style="margin-top: 1.5rem;">
        <button type="submit">Submit Application</button>
      </div>
    </div>
  </form>
  
  <!-- JS for file list preview -->
  <script>
    function updateFileList() {
      const input = document.getElementById('documents');
      const list = document.getElementById('fileList');
      list.innerHTML = '';
      for (const file of input.files) {
        const li = document.createElement('li');
        li.textContent = file.name;
        list.appendChild(li);
      }
    }
  </script>
  